!function(){function a(a,b){if(!(--o<0)){var c={type:a,desc:b};alog("csp.send","csp",c)}}function b(a){var b=a.length-1;return function(c){p.test(c)&&(c=c.split("@").pop().split(":")[0]);for(var d=b;d>=0;d--){var e=a[d];if(e.Match.test(c))return e.Warn}return!1}}function c(a){var c,e=[],f=n[a];if(f){for(var g=f.length-1;g>=0;g--){var a=f[g],h=a.match;"string"==typeof h&&(h=d(h));var i=/W/.test(a.target);e.push({Match:h,Warn:i}),!i&&h.test(r)&&(c=!0)}return c||e.push({Match:d(r),Warn:!1}),b(e)}}function d(a){for(var b=a.split(","),c=b.length-1;c>=0;c--)b[c]=e(b[c]);return RegExp(b.join("|"),"i")}function e(a){return a=a.replace(/\s/g,"").replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,"."),"^"+a+"$"}function f(){var a=c("default-src");q.SCRIPT=c("script-src")||a,q.OBJECT=q.EMBED=q.PARAM=c("object-src")||a,q.IFRAME=q.FRAME=c("frame-src")||a}function g(a,b){switch(b){case"OBJECT":return a.data;case"PARAM":var c=a.getAttribute("name");return s.test(c)&&a.getAttribute("value");default:return a.src}}function h(b){var c=b.tagName,d=q[c];if(d){var e=g(b,c);if(e&&!u[e]){u[e]=!0;var f=e.match(t);if(f){var h=d(f[1]);h&&a("CROSS_SITE_RES",e)}}}}function i(a){document.addEventListener(a,function(a){h(a.target)},!0)}function j(){for(var a in q)q.hasOwnProperty(a)&&k(a)}function k(a){var b=document.getElementsByTagName(a);if(b)for(var c=b.length-1;c>=0;c--)h(b[c])}function l(){var a=48,b=2,c=1e3,d=0,e=setInterval(function(){d++},16),f=0,g=setInterval(function(){a>d?f=0:++f==b&&(clearInterval(e),clearInterval(g),setTimeout(l,c),j()),d=0},1e3)}function m(){f(),j(),l(),window.addEventListener&&(i("load"),i("error"))}var n=alogObjectConfig.csp,o=20,p=/[:@]/,q={},r=location.hostname,s=/^src$|^movie$/i,t=/^(?:https??:\/\/)([^\/]+)/i,u={};m()}();
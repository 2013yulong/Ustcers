;/*!static/ralltiir/dist/ralltiir.min.js*/
!function(){define("ralltiir/dist/ralltiir.min",["sfr"],function(t){return t}),define("ralltiir",["sfr"],function(t){return t}),define("sfr/router/router/URL",["require","sfr/utils/uri/component/Path","sfr/utils/uri/component/Query","sfr/utils/uri/component/Fragment","sfr/router/router/config"],function(t){function e(t,e){e=e||{},t=(t||"").trim()||o.path;var a=s.exec(t);a||console.warn("URI not valid:");var c=this.token=e.token||u,f=e.root||o.root;"/"===f.charAt(f.length-1)&&(f=f.substring(0,f.length-1)),this.root=f,t=t.split("#"),this.fragment=new i(t[1]),t=t[0].split(c);var l=e.base||{};this.path=new r(t[0],l.path),this.query=new n(t[1]);var p=this.path.get();this.outRoot=0===p.indexOf(".."),this.outRoot&&(p=r.resolve(f+"/",p),0===p.indexOf(f)&&(p=p.substring(f.length),this.path.set(p),this.outRoot=!1)),this.outRoot||"/"===p.charAt(0)||this.path.set("/"+p),e.query&&this.query.add(e.query)}var r=t("sfr/utils/uri/component/Path"),n=t("sfr/utils/uri/component/Query"),i=t("sfr/utils/uri/component/Fragment"),o=t("sfr/router/router/config"),s=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),u="?";return e.prototype.toString=function(){var t=this.root,e=this.path.get();return e=this.outRoot?r.resolve(t+"/",e):t+e,e+this.query.toString(this.token)+this.fragment.toString()},e.prototype.equalPath=function(t){return this.path.get()===t},e.prototype.equal=function(t){return this.query.equal(t.query)&&this.equalPath(t.path.get())},e.prototype.equalWithFragment=function(t){return this.equal(t)&&this.fragment.equal(t.fragment)},e.prototype.getQuery=function(){return this.query.get()},e.prototype.getPath=function(){return this.path.get()},e}),define("sfr/router/router/config",[],{path:"/",root:"",mode:"async"}),define("sfr/router/router/controller",["require","sfr/lang/underscore","sfr/router/router/URL","sfr/router/router/config"],function(t){function e(t,e){r(t,e)||(u(t,e),a=t)}function r(t,e){return a&&t.equal(a)&&!e.force}function n(t){var e=l.root;if("/"===t.charAt(0)&&e)if(0===t.indexOf(e))t=t.replace(e,"");else{var r=e.split("/").slice(1);r=r.map(function(){return".."}),t=r.join("/")+t,a=null}return t}function i(t,e){return t||(t=n(location.pathname)),new f(t,{query:e,base:a})}function o(t,r){if(t=t||{},!c.get(t,"state.disableServiceDispatch")){var o=n(location.pathname);if(location.search.length>1&&(o+=location.search),o=i(o),o.outRoot)return s(o.toString(),!0);var u=r?{src:"sync"}:c.extend({},t.state,{src:"history"});e(o,u)}}function s(t,e){p.dispose(),e?location.replace(t):location.href=t}var u,a,c=t("sfr/lang/underscore"),f=t("sfr/router/router/URL"),l=t("sfr/router/router/config"),p={};return p.init=function(t){window.addEventListener("popstate",o,!1),u=t,o(null,!0)},p.redirect=function(t,n,o){return o=o||{},t=i(t,n),t.outRoot||"page"===l.mode?!r(t,o)&&s(t.toString()):(a.equalWithFragment(t)||history.pushState(o,o.title,t.toString()),void(o.silent||e(t,o)))},p.reset=function(t,n,o){return o=o||{},t=i(t,n),t.outRoot||"page"===l.mode?!r(t,o)&&s(t.toString()):(o.silent?a=t:e(t,o),void history.replaceState(o,o.title,t.toString()))},p.dispose=function(){window.removeEventListener("popstate",o,!1),a=null},p.ignoreRoot=n,p.createURL=i,p}),define("sfr/router/router",["require","sfr/lang/underscore","sfr/router/router/config","sfr/router/router/controller","sfr/utils/logger"],function(t){function e(){function t(t){var e=-1;return t=t.toString(),f.some(function(r,n){return r.raw.toString()===t&&(e=n),-1!==e}),e}function e(t,e){for(var r,n={},i=e.params||[],o=t.match(e.path)||[],s=1;s<o.length;s++)r=i[s-1]||"$"+s,n[r]=decodeURIComponent(o[s]);return n}function s(t,n){n=n||{};var o,s=r({},t.getQuery()),a={},c=t.getPath();if(o=u(t),!o)throw new Error("can not find route for: "+c);o.path instanceof RegExp&&o.path.test(c)&&(a=e(c,o));var f={path:c,pathPattern:o.raw,query:s,params:a,url:i.ignoreRoot(t.toString()),originalUrl:t.toString(),options:n},p=[f,l];l=f,o.fn.apply(o.thisArg,p)}function u(t){var e,r,n=t.getPath();return f.some(function(i){return i.path instanceof RegExp?i.path.test(n)&&(e=i):t.equalPath(i.path)&&(e=i),i.path||(r=i),!!e}),e||r}function a(t){var e={params:[]};return e.path=t.replace(/:([^\/]+)/g,function(t,r){return e.params.push(r),"([^/]+)"}),e.path=new RegExp("^"+e.path+"$"),e}var c={},f=[],l={};return c.pathPattern=function(t){t=i.ignoreRoot(t);var e=i.createURL(t),r=u(e);return r?r.raw:null},c.reset=function(t,e,r){i.reset(t,e,r)},c.config=function(t){t=t||{};var e=t.root;e&&"/"===e.charAt(e.length-1)&&(e=t.root=e.substring(0,e.length-1)),e&&"/"!==e.charAt(0)&&(t.root="/"+e),r(n,t)},c.add=function(e,n,i){if(t(e)>=0)throw new Error("path already exist");var s={raw:e,path:e,fn:n,thisArg:i};o.isString(e)&&o.contains(e,":")&&(s=r(s,a(e))),f.push(s)},c.remove=function(e){var r=t(e);r>=0&&f.splice(r,1)},c.exist=function(e){return t(e)>=0},c.clear=function(){f=[]},c.redirect=function(t,e,r){i.redirect(t,e,r)},c.start=function(t){c.config(t),i.init(s)},c.stop=function(){i.dispose(),c.clear(),l={}},c.controller=function(t){var e=i;i=t,o.forOwn(e,function(t,e){i.hasOwnProperty(e)||(i[e]=t)})},c.getState=function(){return l},c.ignoreRoot=i.ignoreRoot,c.createURL=i.createURL,c}var r=t("sfr/lang/underscore").extend,n=t("sfr/router/router/config"),i=t("sfr/router/router/controller"),o=t("sfr/lang/underscore");return t("sfr/utils/logger"),e}),define("sfr/utils/di",["require","sfr/lang/assert","sfr/lang/underscore"],function(t){function e(t){this.config=this.normalize(t),this.container=Object.create(null)}var r=t("sfr/lang/assert"),n=t("sfr/lang/underscore");return e.prototype.resolve=function(t){var e=this.config[t];if(r(e,"module declaration not found: "+t),this.container[t]&&e.cache)return this.container[t];switch(void 0===e.value&&e.module&&(e.value=e.module),e.type){case"value":return this.container[t]=e.value;case"factory":r("function"==typeof e.value,"entity not injectable: "+e.value);var n=e.args||[];return this.container[t]=this.inject(e.value,n);default:throw new Error("DI type "+e.type+" not recognized")}},e.prototype.inject=function(t,e){var r=e.map(function(t){return this.resolve(t)},this);return t.apply(null,r)},e.prototype.normalize=function(t){return n.forOwn(t,function(t){void 0===t.cache&&(t.cache=!0),void 0===t.type&&(t.type="value")}),t},e}),define("sfr/utils/logger",["require"],function(){function t(){c=a=Date.now()}function e(){var t=Array.prototype.slice.call(arguments);o&&t.unshift("["+r()+"]");var e,n=new Error("logger track").stack||"",i=n.split("\n")[3]||"",s="";e=/at\s+\(?(.*):\d+:\d+\)?$/.exec(i)||[];var u=e[1];e=/([^\/?#]+)([?#]|$)/.exec(u)||[];var a=e[1];s+=a?a+":":"",e=/at ([\w\d.]+)\s*\(/.exec(i)||[];var c=e[1]||"anonymous";return s+=c,t.unshift("["+s+"]"),t}function r(){var t=Date.now(),e=(t-a)/1e3,r=e+"(+"+(t-c)+")";return c=t,r}function n(t,e){var r=new Function("impl","args","impl.apply(console, args);");if(r(t,e),u){var n=new Image,i=e.join(" ").replace(/\s+/g," ").trim();n.src=u+"/sfr/log/"+i}}function i(t,r){return function(){var t=e.apply(null,arguments);n(r,t)}}var o=!!location.search.match(/logger-timming/i),s=location.search.match(/logger-server=([^&]*)/i),u=s?decodeURIComponent(s[1]):!1,a=Date.now(),c=a;return{log:i("log",console.log),debug:i("debug",console.log),info:i("info",console.info),warn:i("warn",console.warn),error:i("error",console.error),reset:t}}),define("sfr/utils/http",["require","sfr/lang/underscore","sfr/lang/promise","sfr/utils/url"],function(t){function e(t){return t instanceof FormData?"multipart/form-data":"application/x-www-form-urlencoded"}function r(t){var e;try{e=u.createXHR()}catch(r){return o.reject(r)}return e.open(t.method,t.url,!0),i.forOwn(t.headers,function(t,r){e.setRequestHeader(r,t)}),i.assign(e,t.xhrFields),new o(function(r,i){e.onreadystatechange=function(){4===e.readyState&&(e=n(e),e.status>=200&&e.status<300?r(e):i(e))},e.send(t.data)})}function n(t){var e=t.getAllResponseHeaders().split("\r\n").filter(i.negate(i.isEmpty)).map(function(t){return i.split(t,/\s*:\s*/)});if(t.responseHeaders=i.fromPairs(e),t.data=t.responseText,"application/json"===t.responseHeaders["Content-Type"])try{t.data=JSON.parse(t.responseText)}catch(r){console.warn("Invalid JSON content with Content-Type: application/json")}return t}var i=t("sfr/lang/underscore"),o=t("sfr/lang/promise"),s=t("sfr/utils/url"),u={};return u.ajax=function(t,n){return"object"==typeof t&&(n=t,t=""),n=i.defaultsDeep(n,{url:t,method:n&&n.type||"GET",headers:{},data:null,jsonp:!1,jsonpCallback:"sf_http_"+Math.random().toString(36).substr(2)}),i.forOwn(n.headers,function(t,e){n.headers[e]=t.toLowerCase(t)}),(n.headers["content-type"]||n.data)&&(n.headers["content-type"]=n.headers["content-type"]||e(n.data)),/application\/json/.test(n.headers["content-type"])?n.data=JSON.stringify(n.data):/form-urlencoded/.test(n.headers["content-type"])&&(n.data=s.param(n.data)),r(n)},u.get=function(t,e){return u.ajax(t,{data:e})},u.post=function(t,e){return u.ajax(t,{method:"POST",data:e})},u.put=function(t,e){return u.ajax(t,{method:"PUT",data:e})},u.delete=function(t,e){return u.ajax(t,{method:"DELETE",data:e})},u.createXHR=function(){var t=!1;if(window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),!t)throw new Error("Cannot create an XHR instance");return t},u}),define("sfr/utils/url",["require","sfr/utils/uri/URI","sfr/lang/underscore","sfr/utils/uri/component/Path","sfr/utils/uri/util/uri-parser"],function(t){function e(t){return new r(t)}var r=t("sfr/utils/uri/URI"),n=t("sfr/lang/underscore"),i=t("sfr/utils/uri/component/Path"),o=t("sfr/utils/uri/util/uri-parser");return e.parse=function(t){return o(t)},e.resolve=function(t,e){return i.resolve(t,e)},e.param=function(t){return n.isObject(t)?n.map(t,function(t,e){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):t},e}),define("sfr/utils/cache",["require","sfr/lang/assert","sfr/utils/cache-namespace"],function(t){function e(t){if(!i.hasOwnProperty(t))throw new Error("cache namespace "+t+" undefined");return i[t]}var r=t("sfr/lang/assert"),n=t("sfr/utils/cache-namespace"),i={},o={};return o.create=function(t,e){return r(t,"cannot create namespace with empty name"),r(!i[t],"namespace with "+t+" already created"),i[t]=new n(t,e)},o.destroy=function(t){r(i[t],"namespace with "+t+" not exist"),delete i[t]},o.using=function(t){return e(t)},o.set=function(t,r,n){return e(t).set(r,n)},o.get=function(t,r){return e(t).get(r)},o.size=function(t){return e(t).size()},o.rename=function(t,r,n){return e(t).rename(r,n)},o.remove=function(t,r){return e(t).remove(r)},o.clear=function(t){return 0!==arguments.length?e(t).clear():void(i={})},o.contains=function(t,e){if(0===arguments.length)throw new Error("namespace not specified");return 1===arguments.length?i.hasOwnProperty(t):i.hasOwnProperty(t)?i[t].contains(e):!1},o.has=function(t){return i.hasOwnProperty(t)},o}),define("sfr/utils/cache-namespace",["require","sfr/lang/underscore"],function(t){function e(){}function r(t,r){this.name=t,this.list=[],this.options=n.assign({limit:3,onRemove:e},r)}var n=t("sfr/lang/underscore");return r.prototype={constructor:r,setLimit:function(t){this.options.limit=t},get:function(t){var e=this.findIndexByKey(t);if(-1===e)return void 0;var r=this.list[e];return this.list.splice(e,1),this.list.push(r),r.value},set:function(t,e){for(this.remove(t);this.list.length>=this.options.limit;){var r=this.list.shift();this.options.onRemove(r.value,r.key,!0)}return this.list.push({key:t,value:e}),this},contains:function(t){return this.has(t)},has:function(t){return this.findIndexByKey(t)>-1},rename:function(t,e){if(t===e)return this;this.remove(e);var r=this.findIndexByKey(t);if(-1===r)throw new Error("key not found:"+t);return this.list[r].key=e,this},remove:function(t){var e=this.findIndexByKey(t);if(e>-1){var r=this.list[e];this.options.onRemove(r.value,r.key,!1),this.list.splice(e,1)}return this},size:function(){return this.list.length},clear:function(){return this.list=[],this},findIndexByKey:function(t){return n.findIndex(this.list,function(e){return e.key===t})}},r}),define("sfr/utils/emitter",["require"],function(){function t(){}var e=t.prototype;e._getEvents=function(){return this._events||(this._events={}),this._events},e._getMaxListeners=function(){return isNaN(this.maxListeners)&&(this.maxListeners=10),this.maxListeners},e.on=function(t,e){var r=this._getEvents(),n=this._getMaxListeners();r[t]=r[t]||[];var i=r[t].length;if(i>=n&&0!==n){var o="Warning: possible Emitter memory leak detected. "+i+" listeners added.";console.warn(o)}return r[t].push(e),this},e.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return r.listener=e,this.on(t,r),this},e.off=function(t,e){var r=this._getEvents();if(0===arguments.length)return this._events={},this;var n=r[t];if(!n)return this;if(1===arguments.length)return delete r[t],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===e||i.listener===e){n.splice(o,1);break}return this},e.emit=function(t){for(var e=this._getEvents(),r=e[t],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);if(r)for(r=r.slice(0),i=0;i<r.length;i++)try{r[i].apply(this,n)}catch(o){console.error(o)}return this},e.listeners=function(t){var e=this._getEvents();return e[t]||[]},e.setMaxListeners=function(t){return this.maxListeners=t,this};var r=Object.keys(e);return t.mixin=function(t){for(var n,i=0,o=r.length;o>i;i++)n=r[i],t[n]=e[n];return t},t}),define("sfr/utils/dom",["require"],function(){function t(t,r){e(t,r)||(t.className&&(t.className+=" "),t.className+=r)}function e(t,e){return r(e).test(t.className)}function r(t){return new RegExp("(^|\\s)"+t+"(\\s|$)")}return{addClass:t,hasClass:e}}),define("sfr/lang/underscore",["require","sfr/lang/assert"],function(t){function e(t,e){var r=t;return(e||"").split(".").forEach(function(t){r=r?r[t]:void 0}),r}function r(t,e,r){t=t||{};var n=(e||"").split(".");n.forEach(function(e,i){t[e]=void 0!==t[e]?t[e]:{},i===n.length-1?t[e]=r:t=t[e]})}function n(t,e){for(var r=e.split("."),n=0;i(t,r[n])&&n<r.length;)t=t[r[n++]];return n>=r.length}function i(t,e){return null!==t&&void 0!==t&&D.call(t,e)}function o(t){return t=c(t),t.shift(),t}function s(t){var e=[];for(var r in t)e.push(r);return e}function u(t){return Object.keys(Object(t))}function a(t,e){t=t||{};for(var r in t)if(t.hasOwnProperty(r)&&e(t[r],r,t)===!1)break;return t}function c(t){return t?T.slice.call(t):[]}function f(t){var e=o(arguments);return T.forEach.apply(t||[],e)}function l(t){var e=o(arguments);return T.filter.apply(t||[],e)}function p(t,e){if(_(t)){var r=o(arguments);return T.map.apply(t||[],r)}var n=[];return a(t,function(){n.push(e.apply(null,arguments))}),n}function h(t,e,r){if(_(t)){var n=o(arguments);return T.reduce.apply(t,n)}var i,s,a=u(t);for(arguments.length>=3?(i=r,s=0):a.length>0&&(i=t[a[0]],s=1);s<a.length;s++){var c=a[s];i=e(i,t[c],c,t)}return i}function d(t){var e=o(arguments);return T.slice.apply(t||[],e)}function g(t){var e=o(arguments);return T.splice.apply(t||[],e)}function v(t){var e=o(arguments);return X.split.apply(t||"",e)}function m(t,e,r){for(var n=r||0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function y(t){return o(arguments).reduce(function(t,e){return t.replace("%s",e)},t)}function w(){return O.apply(null,d(arguments,0).reverse())}function b(t){var e=typeof t;return null!=t&&("object"===e||"function"===e)}function q(t){return"number"==typeof t&&t>-1&&t%1===0&&Q>=t}function _(t){return null!=t&&q(t.length)&&!R(t)}function R(t){var e=typeof t;return"function"===e}function A(t){return t instanceof String||"string"==typeof t}function E(t,e,r){return void 0===r&&(r=0),t.indexOf(e,r)>-1}function j(t){return t instanceof RegExp}function O(t){t=null==t?{}:t;var e=d(arguments,1);return f(e,function(e){x(t,e)}),t}function S(t,e){return t?void a(e,function(e,r){return b(e)&&b(t[r])?S(t[r],e):void(t[r]=e)}):t}function x(t,e){return t?(a(e,function(e,r){t[r]=e}),t):t}function k(){var t={},e=d(arguments,0).reverse();return f(e,function(e){S(t,e)}),t}function P(t){var e={};return p(t,function(t){var r=t[0],n=t[1];e[r]=n}),e}function C(t){return t instanceof Array}function L(t){return C(t)?0===t.length:!t}function U(t){return function(){return!t.apply(null,arguments)}}function I(t){return t.bind.apply(t,d(arguments))}function N(t){var e=d(arguments);return e.shift(),function(){var r=d(arguments),n=[r,arguments.length,0].concat(e);return g.apply(null,n),t.apply(null,r)}}function F(t,e){return M("function"==typeof e,"wrapper should be a function"),function(){var r=Array.prototype.slice.call(arguments,0);return r.unshift(t),e.apply(this,r)}}function H(t,e){var r=function(){};r.prototype=e.prototype;var n=t.prototype,i=t.prototype=new r;for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return t.prototype.constructor=t,t}var M=t("sfr/lang/assert"),T=Array.prototype,z=Object.prototype,D=z.hasOwnProperty,X=String.prototype,$={},Q=Number.MAX_SAFE_INTEGER||9007199254740991;return $.keysIn=s,$.keys=u,$.get=e,$.set=r,$.has=n,$.forOwn=a,$.assign=O,$.merge=O,$.extend=O,$.defaults=w,$.defaultsDeep=k,$.fromPairs=P,$.slice=d,$.splice=g,$.forEach=f,$.filter=l,$.map=p,$.reduce=h,$.toArray=c,$.findIndex=m,$.split=v,$.format=y,$.isArray=C,$.isFunction=R,$.isEmpty=L,$.isString=A,$.isObject=b,$.isArrayLike=_,$.isLength=q,$.isRegExp=j,$.inherits=H,$.contains=E,$.noop=function(){},$.partial=I,$.partialRight=N,$.negate=U,$.wrap=F,$}),define("sfr/lang/promise",["require","sfr/lang/assert","sfr/lang/set-immediate"],function(t){function e(t){if(!(this instanceof e))throw"Promise must be called with new operator";if("function"!=typeof t)throw"callback not defined";this._state=i,this._result,this._fulfilledCbs=[],this._rejectedCbs=[],this._errorPending=!1,this._fromResolver(t)}function r(t){c(t._state===s,u);var e;e="function"==typeof window.PromiseRejectionEvent?window.PromiseRejectionEvent:"function"==typeof window.CustomEvent?CustomEvent:Event;var r=new e("unhandledrejection",{promise:t,reason:t._result});return r.reason=r.reason||t._result,r}function n(t){return t&&"function"==typeof t.then}var i=0,o=1,s=2,u="cannot make RejectionEvent when promise not rejected",a={longStackTraces:!1},c=t("sfr/lang/assert"),f=t("sfr/lang/set-immediate");return e.prototype._fulfill=function(t){this._result=t,this._state=o,this._flush()},e.prototype._reject=function(t){a.longStackTraces&&t&&(t.stack+="\n"+this._originalStack),this._result=t,this._state=s,this._errorPending=!0,this._flush(),f(function(){this._checkUnHandledRejection()}.bind(this))},e.prototype._resolve=function(t){n(t)?this._fromResolver(t.then.bind(t)):this._fulfill(t)},e.prototype._fromResolver=function(t){var e=!1,r=this;try{t(function(t){e||(e=!0,r._resolve(t))},function(t){e||(e=!0,r._reject(t))})}catch(n){if(e)return;e=!0,r._reject(n)}},e.prototype._checkUnHandledRejection=function(){if(this._errorPending){var t=r(this);window.dispatchEvent(t)}},e.prototype._flush=function(){if(this._state!==i){var t=this._state===s?this._rejectedCbs:this._fulfilledCbs;t.forEach(function(t){if(this._state===s&&this._errorPending&&(this._errorPending=!1),"function"==typeof t){var e=this._result;f(function(){t(e)})}},this),this._rejectedCbs=[],this._fulfilledCbs=[]}},e.prototype._done=function(t,e){this._fulfilledCbs.push(t),this._rejectedCbs.push(e),this._flush()},e.prototype.then=function(t,r){var n=this;return new e(function(e,i){var o;n._done(function(r){if("function"!=typeof t)return e(r);try{o=t(r)}catch(n){return i(n)}e(o)},function(t){if("function"!=typeof r)return i(t);try{o=r(t)}catch(n){return i(n)}e(o)})})},e.prototype.catch=function(t){return this.then(function(t){return t},t)},e.prototype.finally=function(t){return this.then(t,t)},e.resolve=function(t){return n(t)?t:new e(function(e){return e(t)})},e.reject=function(t){return new e(function(e,r){r(t)})},e.all=function(t){return new e(function(r,n){function i(){0>=s&&r(o)}var o=t.map(function(){return void 0}),s=t.length;t.map(e.resolve).forEach(function(t,e){t.then(function(t){o[e]=t,s--,i()},n)}),i()})},e.fromCallback=function(t){return new e(function(e){t(function(t){e(t)})})},e.mapSeries=function(t,r){var n=e.resolve("init"),i=[];return t.forEach(function(e,o){n=n.then(function(){return r(e,o,t)}).then(function(t){return i.push(t)})}),n.then(function(){return i})},e}),define("sfr/lang/assert",["require"],function(){function t(t,e){if(!t)throw new Error(e)}return t}),define("sfr/lang/map",["require","sfr/lang/underscore"],function(t){function e(){this.size=0,this._data={}}function r(t){return n.isRegExp(t)?"reg_"+t:n.isString(t)?"str_"+t:"other_"+t}var n=t("sfr/lang/underscore");return e.prototype.set=function(t,e){var n=r(t);this._data.hasOwnProperty(n)||this.size++,this._data[n]={key:t,value:e}},e.prototype.keys=function(){var t=this._data;return Object.keys(this._data).map(function(e){var r=t[e];return r.key})},e.prototype.forEach=function(t){var e=this._data;Object.keys(this._data).forEach(function(r){var n=e[r];t(n.value,n.key)})},e.prototype.has=function(t){var e=r(t);return this._data.hasOwnProperty(e)},e.prototype.delete=function(t){var e=r(t);this._data.hasOwnProperty(e)&&(delete this._data[e],this.size--)},e.prototype.get=function(t){var e=r(t),n=this._data[e];return n?n.value:void 0},e.prototype.clear=function(){this.size=0,this._data={}},e}),define("sfr/lang/set-immediate",["require"],function(){function t(t){if(r.setImmediate)r.setImmediate(t);else if(r.MessageChannel){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(n)}else r.addEventListener&&r.postMessage?(r.addEventListener("message",t,!1),r.postMessage(n,"*")):r.setTimeout(t)}function e(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:Function("return this")()}var r=e(),n="setImmediate polyfill";return t}),define("sfr/utils/uri/URI",["require","sfr/utils/uri/util/uri-parser","sfr/utils/uri/component/Scheme","sfr/utils/uri/component/UserName","sfr/utils/uri/component/Password","sfr/utils/uri/component/Host","sfr/utils/uri/component/Port","sfr/utils/uri/component/Path","sfr/utils/uri/component/Query","sfr/utils/uri/component/Fragment"],function(t){function e(t){t=n(t);var e,r=this;Object.keys(i).forEach(function(n){e=i[n],r[n]=new e(t[n])})}function r(t){var e=[],r=t.username.toString(),n=t.password.toString(),i=t.host.toString(),o=t.port.toString();return(r||n)&&e.push(r+":"+n+"@"),e.push(i),e.push(o),e.join("")}var n=t("sfr/utils/uri/util/uri-parser"),i={scheme:t("sfr/utils/uri/component/Scheme"),username:t("sfr/utils/uri/component/UserName"),password:t("sfr/utils/uri/component/Password"),host:t("sfr/utils/uri/component/Host"),port:t("sfr/utils/uri/component/Port"),path:t("sfr/utils/uri/component/Path"),query:t("sfr/utils/uri/component/Query"),fragment:t("sfr/utils/uri/component/Fragment")};return e.prototype.set=function(){var t=0,e={};arguments.length>1&&(e.name=arguments[t++]),e.data=Array.prototype.slice.call(arguments,t);var r=this[e.name];if(r)r.set.apply(r,e.data);else{var o=this,s=n(e.data[0]);Object.keys(i).forEach(function(t){o[t].set(s[t])})}},e.prototype.get=function(){var t={name:arguments[0],data:Array.prototype.slice.call(arguments,1)},e=this[t.name];return e?e.get.apply(e,t.data):void 0},e.prototype.toString=function(t){var e,n=this[t];if(n)e=n.toString();else{e=[];var i=this.scheme.toString();i&&e.push(i+":");var o=r(this);i&&o&&e.push("//"),e.push(o),e.push(this.path.toString()),e.push(this.query.toString()),e.push(this.fragment.toString()),e=e.join("")}return e},e.prototype.equal=function(t){t instanceof e||(t=new e(t));for(var r,n=!0,o=Object.keys(i),s=0;n&&(r=o[s]);s++)n="port"===r?this[r].equal(t[r].get(),this.scheme.get()):this[r].equal(t[r]);return n},e}),define("sfr/utils/uri/component/Abstract",["require"],function(){function t(){var t=Array.prototype.slice.call(arguments);this.set.apply(this,t)}return t.prototype.get=function(){return this.data},t.prototype.set=function(t){this.data=t||""},t.prototype.add=function(t){this.set(t)},t.prototype.remove=function(){this.data=""},t.prototype.toString=function(){return this.data.toString()},t.prototype.equal=function(e){return e instanceof t&&(e=e.get()),this.data==e},t}),define("sfr/utils/uri/component/Fragment",["require","sfr/lang/underscore","sfr/utils/uri/component/Abstract"],function(t){function e(t){n.call(this,t)}var r=t("sfr/lang/underscore").inherits,n=t("sfr/utils/uri/component/Abstract"),i="#";return r(e,n),e.prototype.toString=function(t){return t=t||i,this.data?t+this.data:""},e}),define("sfr/utils/uri/component/Host",["require","sfr/lang/underscore","sfr/utils/uri/component/Abstract"],function(t){function e(t){n.call(this,t)}var r=t("sfr/lang/underscore").inherits,n=t("sfr/utils/uri/component/Abstract");return r(e,n),e.prototype.set=function(t){t=t||"",this.data=t.toLowerCase()},e.prototype.equal=function(t){return t=t instanceof e?t.get():t||"",this.data===t.toLowerCase()},e}),define("sfr/utils/uri/component/Password",["require","sfr/lang/underscore","sfr/utils/uri/component/Abstract"],function(t){function e(t){n.call(this,t)}var r=t("sfr/lang/underscore").inherits,n=t("sfr/utils/uri/component/Abstract");return r(e,n),e}),define("sfr/utils/uri/component/Path",["require","sfr/lang/underscore","sfr/utils/uri/component/Abstract"],function(t){function e(t){return t||(t="/"),t}function r(t){return t=t.split("/"),t.pop(),t.join("/")}function n(t,e){for(var r,n=0,i=t.length-1;r=t[i];i--)"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--);if(e)for(;n-->0;)t.unshift("..");return t}function i(t,e){s.call(this,t,e)}var o=t("sfr/lang/underscore").inherits,s=t("sfr/utils/uri/component/Abstract");return i.resolve=function(t,e){if(e=e||"","/"===e.charAt(0))return i.resolve(e);var o="/"===t.charAt(0),s=!1;e?(t=r(t),s="/"===e.charAt(e.length-1)):t.length>1&&(s="/"===t.charAt(t.length-1));var u=t.split("/").concat(e.split("/")).filter(function(t){return!!t});return u=n(u,!o),(o?"/":"")+(u.length>0?u.join("/")+(s?"/":""):"")},o(i,s),i.prototype.set=function(t,e){e instanceof i&&(e=e.get());var r=[t||""];e&&r.unshift(e),this.data=i.resolve.apply(i,r)},i.prototype.equal=function(t){var r=e(this.data);return t=e(t instanceof i?t.get():i.resolve(t||"")),r===t},i.prototype.resolve=function(t,e){t instanceof i&&(t=t.get());var r=[this.data];e?r.unshift(t):r.push(t),this.data=i.resolve.apply(i,r)},i}),define("sfr/utils/uri/component/Port",["require","sfr/lang/underscore","sfr/utils/uri/component/Abstract"],function(t){function e(t){n.call(this,t)}var r=t("sfr/lang/underscore").inherits,n=t("sfr/utils/uri/component/Abstract"),i={ftp:"21",ssh:"22",telnet:"23",http:"80",https:"443",ws:"80",wss:"443"};return r(e,n),e.prototype.equal=function(t,r){var n=this.data||i[r];return t instanceof e&&(t=t.get()),t=t||i[r],n===t},e.prototype.toString=function(){return this.data?":"+this.data:""},e}),define("sfr/utils/uri/component/Query",["require","sfr/lang/underscore","sfr/utils/uri/component/Abstract","sfr/utils/uri/util/parse-query","sfr/utils/uri/util/stringify-query"],function(t){function e(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;t=t.slice(0),t=t.slice(0),t.sort(),e.sort();for(var r=!0,n=0,i=t.length;r&&i>n;n++)r=t[n]==e[n];return r}function r(t,r){if(!u.isObject(t)||!u.isObject(r))return!1;var n=Object.keys(t),i=Object.keys(r);if(n.length!==i.length)return!1;for(var o,s,a=!0,c=0;a&&(o=n[c]);c++){if(!r.hasOwnProperty(o)){a=!1;break}s=t[o],a=Array.isArray(s)?e(s,r[o]):s==r[o]}return a}function n(t){return t=Array.isArray(t)?t.map(function(t){return i(t)}):null===t||void 0===t?null:i(t)}function i(t){return t=String(t).replace(/\+/g,"%20"),decodeURIComponent(t)}function o(t,e,r){var i=r[t];return e=n(e),i?(Array.isArray(i)||(i=[i]),Array.isArray(e)?i=i.concat(e):i.push(e)):i=e,r[t]=i,r}function s(t){t=t||{},a.call(this,t)}var u=t("sfr/lang/underscore"),a=t("sfr/utils/uri/component/Abstract"),c=t("sfr/utils/uri/util/parse-query"),f=t("sfr/utils/uri/util/stringify-query"),l="?";return u.inherits(s,a),s.prototype.set=function(){if(1===arguments.length){var t=arguments[0];if(u.isObject(t)){var e=this.data={};u.forOwn(t,function(t,r){e[r]=n(t)})}else this.data=c(t)}else this.data[arguments[0]]=n(arguments[1])},s.prototype.get=function(t){return t?this.data[t]:u.extend({},this.data)},s.prototype.toString=function(t){t=t||l;var e=f(this.data);return e?t+e:""},s.prototype.equal=function(t){return u.isString(t)?t=c(t):t instanceof s&&(t=t.get()),r(this.data,t)},s.prototype.add=function(t,e){var r=this.data;u.isObject(t)?Object.keys(t).forEach(function(e){o(e,t[e],r)}):o(t,e,r),this.data=r},s.prototype.remove=function(t){t?this.data.hasOwnProperty(t)&&delete this.data[t]:this.data={}},s}),define("sfr/utils/uri/component/Scheme",["require","sfr/lang/underscore","sfr/utils/uri/component/Abstract"],function(t){function e(t){n.call(this,t)}var r=t("sfr/lang/underscore"),n=t("sfr/utils/uri/component/Abstract");return r.inherits(e,n),e.prototype.set=function(t){t=t||"",this.data=t.toLowerCase()},e.prototype.equal=function(t){return t=t instanceof e?t.get():t||"",this.data===t.toLowerCase()},e}),define("sfr/utils/uri/component/UserName",["require","sfr/lang/underscore","sfr/utils/uri/component/Abstract"],function(t){function e(t){n.call(this,t)}var r=t("sfr/lang/underscore"),n=t("sfr/utils/uri/component/Abstract");return r.inherits(e,n),e}),define("sfr/utils/uri/util/parse-query",["require"],function(){function t(t){var r={};t=t.split("&");var n,i;return t.forEach(function(t){t&&(t=t.split("="),n=t[0],i=t.length>=2?e(t[1]):null,r[n]?(Array.isArray(r[n])||(r[n]=[r[n]]),r[n].push(i)):r[n]=i)}),r}function e(t){return t=String(t).replace(/\+/g,"%20"),decodeURIComponent(t)}return t}),define("sfr/utils/uri/util/stringify-query",["require"],function(){function t(t){var e,r=[];return Object.keys(t).forEach(function(n){e=t[n],Array.isArray(e)||(e=[e]),e.forEach(function(t){r.push(null===t?n:n+"="+encodeURIComponent(t||""))})}),r.join("&")}return t}),define("sfr/utils/uri/util/uri-parser",["require","sfr/lang/underscore"],function(t){function e(t){var e={},r=["scheme","username","password","host","port","path","query","fragment"];return r.forEach(function(r){e[r]=t[r]||s}),e}function r(t){var e={};return t.replace(/^([^@]+@)?([^:]+)(:\d+)?$/,function(t,r,n,i){r&&(r=r.slice(0,-1),r=r.split(":"),e.username=r[0],e.password=r[1]),e.host=n,i&&(e.port=i.substring(1))}),e}function n(t,e){var n=/[^:]+:\d{2,}(\/|$)/.test(t);return n&&(t=t.split("/"),u.extend(e,r(t.shift())),t.length>0&&(e.path="/"+t.join("/"))),n}function i(t,e){var r=t.indexOf(":"),n=t.indexOf("/");n=n>=0?n:t.length;var i=r>=0&&n>r;return i&&(e.scheme=t.substring(0,r),e.path=t.substring(r+1)),i}function o(t){var e={},o=t.indexOf("#");return o>=0&&(e.fragment=t.substring(o+1),t=t.substring(0,o)),o=t.indexOf("?"),o>=0&&(e.query=t.substring(o+1),t=t.substring(0,o)),o=t.indexOf("://"),o>=0?(e.scheme=t.substring(0,o),t=t.substring(o+3),"file"===e.scheme?e.path=t:(t=t.split("/"),u.extend(e,r(t.shift())),t.length>0&&(e.path="/"+t.join("/"))),e):n(t,e)?e:i(t,e)?e:(t=t.split("/"),e.host=t.shift(),t.length>0&&(e.path="/"+t.join("/")),e)}var s,u=t("sfr/lang/underscore");return function(t){return u.isString(t)&&(t=o(t)),e(t)}}),define("sfr/action",["require","sfr/utils/cache","sfr/lang/promise","sfr/lang/assert","sfr/utils/logger","sfr/lang/underscore","sfr/utils/dom","sfr/utils/url"],function(t){function e(t,e,a,c,f,l){function p(){function t(t,e){return function(r){return arguments[0]=(r||"").replace(/#.*$/,""),t.apply(e,arguments)}}var e=r.create("pages",{onRemove:function(t,e,r){o.isFunction(t.onRemove)&&t.onRemove(e,r)},limit:32});return e.get=t(e.get,e),e.set=t(e.set,e),e.contains=t(e.contains,e),e}function h(){function t(t){return u=t,s=(s+1)%i,a}function e(t,e){var i=s;return o.isFunction(r)&&r(),r=t,n.mapSeries(u,function(t){return"function"==typeof t&&i===s?t():void 0}).catch(e).then(function(){r=null})}var r,i=1e4,s=0,u=[],a={reset:t,exec:e,aborted:!1};return a}function d(t){var e=u.parse(t);
return"sfr"===e.scheme&&"index"===e.host?q:t}function g(r,n){var i=t.ignoreRoot(e.pathname+e.search),o=t.createURL(i).toString(),s=t.createURL(r,n).toString();return w.contains(o)?void w.rename(o,s):void console.warn("current page not found, cannot transfer to",r)}function v(t){t=t||window.event;var e=y(t.target||t.srcElement,function(t){return"A"===t.tagName});if(e){var r=e.getAttribute("data-sf-href"),n=e.getAttribute("data-sf-options");if(r){t.preventDefault();try{n=JSON.parse(n)||{}}catch(i){console.warn("JSON parse failed, fallback to empty options"),n={}}n.src="hijack";var o={event:t,anchor:e},u=m(e)+r;A.redirect(u,null,n,o),s.addClass(e,E.visitedClassName)}}}function m(t){var e=y(t,function(t){return/(^|\s)rt-view($|\s)/.test(t.className)});return e?e.getAttribute("data-base")||"":""}function y(t,e){for(var r=t;null!==r&&!e(r);)r=r.parentNode;return r}var w,b,q,_,R,A=new f,E={},j={},O=h();return A.init=function(){l.init(this.dispatch),A.pages=w=p(),b=!1,E={root:"/",visitedClassName:"visited"},q="/",_=!0,R=0},A.getState=function(){return j},A.regist=function(t,e){i(t,"invalid path pattern"),i(e,"invalid service"),e.singleton=!0,l.register(t,null,e)},A.unregist=function(t){l.unRegister(t)},A.dispatch=function(t,r){i(t,"cannot dispatch with options:"+t);var n=o.get(t,"options.src"),s=l.getOrCreate(r.url,r.pathPattern);r.service=s;var u=l.getOrCreate(t.url,t.pathPattern,"history"!==n&&"back"!==n);t.service=u,w.contains(t.url)||w.set(t.url,{id:R,isIndex:_}),t.page=w.get(t.url),r.page=w.get(r.url);var a=j;return j={},b&&(b=!1,t.options.src="back"),t.options&&"sync"===t.options.src?q=t.url||"/":_=!1,A.emit("dispatching",{current:t,previous:r,extra:j}),c.ensureAttached(),O.reset([function(){return s?s.singleton?s.detach(t,r,a):s.beforeDetach(t,r,a):void 0},function(){return u?u.singleton?u.create(t,r,a):u.beforeAttach(t,r,a):void 0},function(){return s?s.singleton?s.destroy(t,r,a):s.detach(t,r,a):void 0},function(){return u?u.attach(t,r,a):void 0}]).exec(function(){u&&u.abort&&u.abort(t,r,a)},function(r){console.error(r),"sync"!==o.get(t,"options.src")&&e.replace(e.href)})},A.isIndexPage=function(){return _},A.exist=function(t){return l.isRegistered(t)},A.config=function(e){return 0!==arguments.length&&(o.assign(E,e),t.config(E)),E},A.redirect=function(r,n,i,s){A.emit("redirecting",r),r=d(r),o.assign(j,s),i=o.assign({},i,{id:R++});try{i.silent&&g(r,n),t.redirect(r,n,i)}catch(a){throw a.url=u.resolve(E.root,r),e.replace(a.url),A.emit("redirectFailed",a),a}},A.back=function(){b=!0,a.back()},A.reset=function(e,r,n,i){_&&(q=e),g(e,r),o.assign(j,i),t.reset(e,r,n)},A.start=function(e){arguments.length&&A.config(e),document.body.addEventListener("click",v),t.start()},A.stop=function(){document.body.removeEventListener("click",v),t.stop(),t.clear()},A.destroy=function(){A.stop(),r.destroy("pages"),l.destroy(),A.pages=w=void 0,l.unRegisterAll()},A.update=function(r,n,i,o){i=i?i:{},i.hasOwnProperty("silent")||(i.silent=!0);var s=t.ignoreRoot(e.pathname+e.search),u=t.createURL(s).toString(),a=t.ignoreRoot(r),c=(a||"").replace(/\?.*/,""),f=t.getState(),l={from:{url:u},to:{url:a,path:c},extra:o};return A.partialUpdate(r,{replace:!0,state:f,transition:l,to:o&&o.container&&o.container.get(0),query:n,options:i})},A.partialUpdate=function(r,i){var s=t.ignoreRoot(e.pathname+e.search),u=t.createURL(s).toString(),a=w.get(u);g(r,i.query),i=o.assign({},{fromUrl:r,replace:!1,routerOptions:{},page:a},i);var c=l.getOrCreate(r),f=c.partialUpdate(r,i);return i.routerOptions.silent=!0,t.reset(r||e.href,i.query,i.routerOptions),n.resolve(f)},A.init(),A}var r=t("sfr/utils/cache"),n=t("sfr/lang/promise"),i=t("sfr/lang/assert"),o=(t("sfr/utils/logger"),t("sfr/lang/underscore")),s=t("sfr/utils/dom"),u=t("sfr/utils/url");return e}),define("sfr/service",["require"],function(){var t=function(){};return t.prototype.create=function(){},t.prototype.attach=function(){},t.prototype.detach=function(){},t.prototype.destroy=function(){},t.prototype.update=function(){},t}),define("sfr/services",["require","sfr/lang/map","sfr/lang/underscore","sfr/lang/assert","sfr/utils/logger","sfr/utils/cache"],function(t){var e=t("sfr/lang/map"),r=t("sfr/lang/underscore"),n=t("sfr/lang/assert"),i=(t("sfr/utils/logger"),t("sfr/utils/cache"));return function(t){function o(t){return w.serviceInstances.setLimit(t)}function s(t){y=new e,m=t,v=w.urlEntries=new e,g=w.serviceInstances=i.create("services",{onRemove:function(t,e,n){return!t.singleton&&r.isFunction(t.destroy)?t.destroy(e,n):void 0},limit:8})}function u(){i.destroy("services")}function a(e,r,i){n(e,"invalid path pattern"),n(!v.has(e),"path already registerd"),t.add(e,m),v.set(e,{service:i,config:r})}function c(t){return v.has(t)}function f(){v.keys().forEach(l),v.clear()}function l(e){n(e,"invalid path pattern"),n(c(e),"path not registered"),t.remove(e),v.delete(e)}function p(t){var e=y.get(t);return void 0===e?void 0:g.get(e)}function h(t,e){var r=b++;return y.set(t,r),e.id=r,g.set(r,e),e}function d(e,r){var n=p(e);if(n)return n;arguments.length<2&&(r=t.pathPattern(e));var i=v.get(r);if(i){var o=i.service,s=i.config,u=o.singleton?o:new o(e,s);return h(e,u)}}var g,v,m,y,w={init:s,destroy:u,register:a,unRegister:l,isRegistered:c,unRegisterAll:f,getOrCreate:d,setInstanceLimit:o,urlEntries:null},b=0;return w}}),define("sfr/resource",["require","sfr/utils/http","sfr/lang/underscore"],function(t){function e(t){this.url=t}var r=t("sfr/utils/http"),n=t("sfr/lang/underscore");return e.prototype={getUrl:function(t){var e=this.url;return n.forOwn(t,function(t,r){e=e.replace(":"+r,t)}),e=e.replace(/:[a-zA-Z]\w*/g,"")},create:function(t,e){var n=this.getUrl(e);return r.post(n,t)},query:function(t){var e=this.getUrl(t);return r.get(e)},update:function(t,e){var n=this.getUrl(e);return r.put(n,t)},"delete":function(t){var e=this.getUrl(t);return r.delete(e)}},e.prototype.constructor=e,e}),define("sfr/view",["require"],function(){var t=function(){this._init()};return t.prototype={constructor:t,_init:function(){},set:function(){},get:function(){},create:function(){},render:function(){},update:function(){},attach:function(){},detach:function(){},destroy:function(){},on:function(){},off:function(){}},t}),define("sfr/doc",["require"],function(){function t(t){function e(){var e=t.querySelector("#sfr-app");e||t.body.appendChild(r)}var r=t.querySelector("#sfr-app");return r||(r=t.createElement("div"),r.setAttribute("id","sfr-app")),r.ensureAttached=e,r.ensureAttached(),r}return t}),define("sfr/config",["require","sfr/action","sfr/router/router","sfr/view","sfr/service","sfr/services","sfr/resource","sfr/doc","sfr/utils/cache","sfr/utils/http","sfr/utils/url","sfr/utils/di","sfr/utils/emitter","sfr/lang/assert","sfr/lang/underscore","sfr/lang/promise","sfr/lang/map","sfr/utils/logger"],function(t){var e={action:{type:"factory",module:t("sfr/action"),args:["router","location","history","doc","emitter","services"]},router:{type:"factory",module:t("sfr/router/router")},view:{type:"value",module:t("sfr/view")},service:{type:"value",module:t("sfr/service")},services:{type:"factory",args:["router"],module:t("sfr/services")},resource:{type:"value",module:t("sfr/resource")},doc:{type:"factory",module:t("sfr/doc"),args:["document"]},cache:{type:"value",module:t("sfr/utils/cache")},http:{type:"value",module:t("sfr/utils/http")},url:{type:"value",module:t("sfr/utils/url")},di:{type:"value",module:t("sfr/utils/di")},emitter:{type:"value",module:t("sfr/utils/emitter")},assert:{type:"value",module:t("sfr/lang/assert")},_:{type:"value",module:t("sfr/lang/underscore")},promise:{type:"value",module:t("sfr/lang/promise")},map:{type:"value",module:t("sfr/lang/map")},window:{type:"value",value:window},document:{type:"value",value:window.document},location:{type:"value",value:window.location},history:{type:"value",value:window.history},logger:{type:"value",module:t("sfr/utils/logger")}};return e}),define("sfr",["sfr/utils/di","sfr/config"],function(t,e){var r=new t(e);return Object.keys(e).forEach(r.resolve,r),r.container})}();
;/*!static/ralltiir.js*/
define('ralltiir', ['ralltiir/dist/ralltiir.min'], function (mod) { return mod; })
;/*!static/ralltiir-application/utils/ua.js*/
define("ralltiir-application/utils/ua",["require"],function(){var i=navigator.userAgent,a=/(iPad|iPhone|iPod)/.test(i),e=parseFloat(i.match(/ applewebkit\/(\d+)/i)[1]),t=+e>600,r=/baiduboxapp|baiduhi/.test(i);return{isIOS:a,isWKWebView:t,isBaidu:r}});
;/*!static/ralltiir-application/utils/dom.js*/
define("ralltiir-application/utils/dom",["require","ralltiir"],function(n){function t(n,t){var i=(n.className||"")+" "+t,e={};i.split(/\s+/g).forEach(function(n){e[n]=!0}),n.className=c.keys(e).join(" ")}function i(n,t){var i=n.className||"",e={};i.split(/\s+/g).forEach(function(n){e[n]=!0}),(t||"").split(/\s+/g).forEach(function(n){delete e[n]}),n.className=c.keys(e).join(" ")}function e(n){return r(n).childNodes[0]}function r(n){var t=document.createElement("div");return t.innerHTML=n||"",t}function s(n,t,i){var e=new Event(t,{bubbles:!0});c.assign(e,i),n.dispatchEvent(e)}function a(n,t){var i={},e=n.getAttribute("style")||"";e.split(";").forEach(function(n){var t=n.split(":"),e=(t[0]||"").trim(),r=(t[1]||"").trim();e&&r&&(i[e]=r)}),c.assign(i,t);var r="";c.forOwn(i,function(n,t){""!==n&&(r+=t+":"+n+";")}),n.setAttribute("style",r)}function o(n){a(n,{display:"block"})}function l(n){a(n,{display:"none"})}var c=n("ralltiir")._;return{css:a,removeClass:i,addClass:t,elementFromString:e,wrapElementFromString:r,trigger:s,show:o,hide:l}});
;/*!static/ralltiir-application/utils/spark.js*/
!function(e,t){"function"==typeof define&&define.amd?define("ralltiir-application/utils/spark",[],t):e.Spark=t()}(this,function(){var e={};return e.disposed=!1,e.dispose=function(){e.disposed=!0},function(){function t(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function n(e){return r?r+e:e.toLowerCase()}function a(e,n){var a="";for(var i in n)n[i]||0===n[i]?a+=t(i)+":"+n[i]+";":e.style.removeProperty(t(i));e.style.cssText+=";"+a}function i(e){return e.indexOf("translate")>-1?!0:(I.style[e]=0,"px"===I.style[e].replace(/\d/g,"")?!0:!1)}var r,o,u,s,c,f,d,l,m,p,w,y,h,v="",M={Webkit:"webkit",Moz:"",O:"o"},I=document.createElement("div"),b=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,O=Number.isNaN||window.isNaN;if(void 0===I.style.transform)for(var A in M)if(void 0!==I.style[A+"TransitionProperty"]){v="-"+A.toLowerCase()+"-",r=M[A];break}o=v+"transform",u=v+"transition-property",s=v+"transition-duration",f=v+"transition-delay",c=v+"transition-timing-function",y=n("TransitionEnd"),d=v+"animation-name",l=v+"animation-duration",p=v+"animation-delay",m=v+"animation-timing-function",w=v+"animation-fill-mode",h=n("AnimationEnd");var g={};g[u]="",g[s]="",g[f]="",g[c]="",g[d]="",g[l]="",g[p]="",g[m]="";var P=void 0===r&&void 0===I.style.transitionProperty,F={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out"},q=/^@(?:-webkit-)?keyframes\s+(?:['"])?(\w+)(?:['"])?\s*{/;e.css3=function(n,r,v,M,I,A){if(e.disposed=!1,n&&r){n.getAttribute("data-naboo")||n.setAttribute("data-naboo",0),n.setAttribute("data-naboo",+n.getAttribute("data-naboo")+1),v=P?0:Number(v)||400,v=Math.max(v,0),M=F[M]||"linear",I=Number(I)||0;var x,T={};if(v/=1e3,I/=1e3,"string"==typeof r){var k;if(q.test(r)){k=r.match(q)[1];var E=k+"_"+Date.now(),C=document.createElement("style");C.innerText=r.replace(new RegExp(k,"g"),E),document.head.appendChild(C),k=E}else k=r;T[d]=n.style[d]+(n.style[d]?", ":"")+k,T[l]=n.style[l]+(n.style[l]?", ":"")+v+"s",T[m]=n.style[m]+(n.style[m]?", ":"")+M,T[p]=n.style[p]+(n.style[p]?", ":"")+I+"s",T[w]="both",x=h}else if("[object Object]"===Object.prototype.toString.call(r)){var L=[],N="";for(var j in r){var B=r[j];!O(Number(B))&&i(j)&&(B+="px"),b.test(j)?N+=j+"("+B+") ":(T[j]=B,L.push(t(j)))}N&&(T[o]=N,L.push(o)),v>0&&(T[u]=n.style[u]+(n.style[u]?", ":"")+L.join(", "),T[s]=n.style[s]+(n.style[s]?", ":"")+v+"s",T[c]=n.style[c]+(n.style[c]?", ":"")+M,T[f]=n.style[f]+(n.style[f]?", ":"")+I+"s"),x=y}var D=!1,S=function(e){if(!e||e.elapsedTime===v+I){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;e.target.removeEventListener(x,S)}else n.removeEventListener(x,S);D=!0,n.setAttribute("data-naboo",+n.getAttribute("data-naboo")-1),0===+n.getAttribute("data-naboo")&&a(n,g),A&&A()}};v>0&&(n.addEventListener(x,S),setTimeout(function(){e.disposed||D||S()},1e3*(v+I)+25)),n.clientLeft,a(n,T)}}}(),function(){function t(e,t,n,a,i,r,o,u){function s(){c=Date.now();var l=c-f,m=o(l,n,d,r);i&&(m+=""+i),void 0!==e.style[t]?e.style[t]=m:e[t]=m,r>l?window.requestAnimationFrame(s):(void 0!==e.style[t]?e.style[t]=a+""+i:e[t]=a+""+i,u())}var c,f=Date.now(),d=a-n;s()}var n={Linear:{easeIn:function(e,t,n,a){return n*e/a+t},easeOut:function(e,t,n,a){return n*e/a+t},easeInOut:function(e,t,n,a){return n*e/a+t}},Quad:{easeIn:function(e,t,n,a){return n*(e/=a)*e+t},easeOut:function(e,t,n,a){return-n*(e/=a)*(e-2)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e+t},easeOut:function(e,t,n,a){return-n*((e=e/a-1)*e*e*e-1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+t},easeOut:function(e,t,n,a){return n*Math.sin(e/a*(Math.PI/2))+t},easeInOut:function(e,t,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+t}},Expo:{easeIn:function(e,t,n,a){return 0==e?t:n*Math.pow(2,10*(e/a-1))+t},easeOut:function(e,t,n,a){return e==a?t+n:n*(-Math.pow(2,-10*e/a)+1)+t},easeInOut:function(e,t,n,a){return 0==e?t:e==a?t+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t}},Circ:{easeIn:function(e,t,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOut:function(e,t,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,a,i,r){var o;return 0==e?t:1==(e/=a)?t+n:("undefined"==typeof r&&(r=.3*a),!i||i<Math.abs(n)?(o=r/4,i=n):o=r/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/r))+t)},easeOut:function(e,t,n,a,i,r){var o;return 0==e?t:1==(e/=a)?t+n:("undefined"==typeof r&&(r=.3*a),!i||i<Math.abs(n)?(i=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin(2*(e*a-o)*Math.PI/r)+n+t)},easeInOut:function(e,t,n,a,i,r){var o;return 0==e?t:2==(e/=a/2)?t+n:("undefined"==typeof r&&(r=.3*a*1.5),!i||i<Math.abs(n)?(i=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/r)+t:i*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/r)*.5+n+t)}},Back:{easeIn:function(e,t,n,a,i){return"undefined"==typeof i&&(i=1.70158),n*(e/=a)*e*((i+1)*e-i)+t},easeOut:function(e,t,n,a,i){return"undefined"==typeof i&&(i=1.70158),n*((e=e/a-1)*e*((i+1)*e+i)+1)+t},easeInOut:function(e,t,n,a,i){return"undefined"==typeof i&&(i=1.70158),(e/=a/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t}},Bounce:{easeIn:function(e,t,a,i){return a-n.Bounce.easeOut(i-e,0,a,i)+t},easeOut:function(e,t,n,a){return(e/=a)<1/2.75?7.5625*n*e*e+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,a,i){return i/2>e?.5*n.Bounce.easeIn(2*e,0,a,i)+t:.5*n.Bounce.easeOut(2*e-i,0,a,i)+.5*a+t}}};!function(){for(var t=0,n=["webkit","moz"],a=0;a<n.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[n[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[a]+"CancelAnimationFrame"]||window[n[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var a=(new Date).getTime(),i=Math.max(0,16.7-(a-t)),r=window.setTimeout(function(){e.disposed||n(a+i)},i);return t=a+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e.js=function(a,i,r,o,u,s,c){e.disposed=!1;var f=n[o][u],d=a.ownerDocument.defaultView.getComputedStyle(a,null);c||(c=s,s=0);var l=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;setTimeout(function(){if(!e.disposed){var n=0;for(var o in i){n++;var u=d[o]||d.getPropertyValue(o);u||0===u||(u=a[o]);var s=l.exec(u),m=s[3];u=parseFloat(s[2]);var p=parseFloat(i[o]);t(a,o,u,p,m,r,f,function(){n--,0>=n&&c()})}}},s)}}(),e});
;/*!static/ralltiir-application/utils/animation.js*/
define("ralltiir-application/utils/animation",["require","ralltiir-application/utils/ua","ralltiir","ralltiir-application/utils/dom","ralltiir-application/utils/spark"],function(i){function t(){var i=/rt-duration=(\d+)/.exec(location.search);return i?i[1]:300}function e(i,t,e){i.scrollLeft=t,i.scrollTop=e,l.css(i.querySelector(".rt-head"),{"z-index":"610",top:(e||0)+"px"}),a.forEach(i.querySelectorAll(".rt-fixed"),function(i){l.css(i,{display:"none"})})}function r(){return o.isIOS?o.isWKWebView&&!o.isBaidu:!0}function n(i,t,e){return i=i?i:0,t=t?t:0,e=e?e:0,"number"==typeof i&&(i+="px"),"number"==typeof t&&(t+="px"),"number"==typeof e&&(e+="px"),"translate3d("+i+","+t+","+e+")"}var o=i("ralltiir-application/utils/ua"),a=i("ralltiir")._,l=i("ralltiir-application/utils/dom"),s=i("ralltiir-application/utils/spark"),c={duration:t(),ease:"ease",delay:"delay"};return c.enter=function(i,t,r){return l.css(i,{display:"block",position:"fixed","z-index":"600",top:0,left:0,height:"100%",width:"100%",overflow:"hidden",opacity:0,"-webkit-transform":n("100%",0,0),transform:n("100%",0,0)}),e(i,t,r),new Promise(function(t){s.css3(i,{opacity:1,"-webkit-transform":n(0,0,0),transform:n(0,0,0)},c.duration,c.ease,c.delay,t)})},c.prepareExit=function(i,t,o){l.css(i,{position:"fixed","z-index":"600",top:0,left:0,opacity:1,height:"100%",width:"100%",overflow:"hidden","-webkit-transform":n(0,0,0),transform:n(0,0,0)}),r()&&e(i,t,o)},c.exit=function(i){return new Promise(function(t){s.css3(i,{opacity:0,left:"100%","-webkit-transform":n("100%",0,0),transform:n("100%",0,0)},c.duration,c.ease,c.delay,function(){l.css(i,{display:"none"}),t()})})},c.exitSilent=function(i){return l.css(i,{display:"none"}),Promise.resolve()},c.resetStyle=function(i){l.css(i,{display:"",opacity:"",position:"","z-index":"",top:"",left:"",height:"",width:"",overflow:"","-webkit-transform":"",transform:""}),l.css(i.querySelector(".rt-head"),{"z-index":"",position:"",top:""}),a.forEach(i.querySelectorAll(".rt-fixed"),function(i){l.css(i,{display:""})})},c});
;/*!static/ralltiir-application/utils/url.js*/
define("ralltiir-application/utils/url",["require","ralltiir"],function(e){function n(e,r,i){return"object"==typeof r?(t.forOwn(r,function(t,r){e=n(e,r,t)}),e):(e+=/\?/.test(e)?"&":"?",e+=encodeURIComponent(r)+"="+encodeURIComponent(i))}var t=e("ralltiir")._;return{setQuery:n}});
;/*!static/ralltiir-application/view/loading.js*/
define("ralltiir-application/view/loading",["require","ralltiir-application/utils/dom"],function(i){function n(i){this.container=i,this.element=t.elementFromString(o)}var t=i("ralltiir-application/utils/dom"),o=['<div class="rt-loading">','  <span class="rt-loading-logo"></span>','  <span class="rt-loading-bar"></span>',"</div>"].join("\n");return n.prototype.show=function(){t.css(this.container,{"background-color":"#fff"}),this.container.appendChild(this.element)},n.prototype.hide=function(){t.css(this.container,{"background-color":""}),this.element.remove()},n});
;/*!static/ralltiir-application/view/render.js*/
define("ralltiir-application/view/render",["require","ralltiir","ralltiir-application/utils/dom"],function(t){function n(){}function e(t,n){for(;t.childNodes.length>0;)n.appendChild(t.childNodes[0])}function r(t,e){var r=l.toArray(t).filter(function(t){return s.test(t.rel)});return new f(function(t){function o(){i--,0===i&&t()}var i=r.length;return 0===i?(i=1,o()):void r.forEach(function(t){e.appendChild(t),n.loadResource(t,o)})})}function o(){var t="sf_closure_eval_"+Math.random().toString(36).substr(2);return window[t]=function(t){t()},t}function i(t){delete window[t]}function c(t,e,r){function o(){t.remove(),r()}e.appendChild(t),t.src?n.loadResource(t,o):o()}function u(t){var n=document.createElement("script");return n.src=t.src,n}var a=t("ralltiir"),l=a._,f=a.promise,d=/^$|\/(?:java|ecma)script/i,s=/stylesheet/i,p=t("ralltiir-application/utils/dom");return n.prototype.moveClasses=function(t,n){(n.className||"").split(/\s+/).forEach(function(n){p.addClass(t,n)})},n.prototype.render=function(t,n,o){var i=Math.random().toString(36).substr(1),c=n.querySelectorAll("link"),u=n.querySelectorAll("script");return o.onContentLoaded||(o.onContentLoaded=l.noop),f.resolve().then(function(){return l.forEach(c,function(t){t.setAttribute("rt-renderid",i)}),r(c,t)}).then(function(){return o.replace&&l.filter(t.childNodes,function(t){return 1===t.nodeType?t.getAttribute("rt-renderid")!==i:!0}).forEach(function(t){t.remove()}),e(n,t),o.onContentLoaded()}).then(function(){return this.enforceJS(u,t)}.bind(this))},n.parse=function(t){var n=document.createElement("div");return n.innerHTML=t,l.forEach(n.querySelectorAll("[data-rt-omit]"),function(t){t.remove()}),n},n.prototype.enforceJS=function(t,n){var e=o(this.global),r=l.toArray(t).filter(function(t){return d.test(t.type)}).map(function(t){return t.src?u(t):this.wrapScript(t,e)},this);return new f(function(t){function o(){u--,0===u&&(i(e),t())}var u=r.length;return 0===u?(u=1,o()):void r.forEach(function(t){c(t,n,o)})})},n.prototype.wrapScript=function(t,n){var e=document.createElement("script");return e.text=n+"("+this.clientFunction(t.innerHTML)+");",e},n.prototype.clientFunction=function(t){return"function(){"+t+"}"},n.loadResource=function(t,n){var e=!1;t.onload=t.onerror=t.onreadystatechange=function(){var r=t.readyState;if("undefined"==typeof r||/^(loaded|complete)$/.test(r)){if(e)return;e=!0,setTimeout(function(){n(t)})}}},n});
;/*!static/ralltiir-application/utils/debug.js*/
define("ralltiir-application/utils/debug",["require"],function(){return{enabled:/rt-debug/.test(location.search)}});
;/*!static/ralltiir-application/view/view.js*/
define("ralltiir-application/view/view",["require","ralltiir-application/utils/animation","ralltiir-application/utils/ua","ralltiir-application/utils/url","ralltiir-application/view/loading","ralltiir-application/utils/dom","ralltiir","ralltiir-application/view/render","ralltiir-application/utils/debug"],function(t){function e(t,e){this.renderer=new p,this.options=t||{},this.valid=!0,e?(this.initElement(e),this.populated=!0,this.options=v.defaultsDeep(n(e),t),this.setData(r(this.options))):(this.initElement(this.createContainer()),this.setData(r(this.options))),this.loading=new c(this.viewEl)}function r(t){return t=t||{},void 0===v.get(t,"back.html")&&history.length>1&&v.set(t,"back.html","<rt-back></rt-back>"),t}function i(){if("scrollRestoration"in history&&!a.isIOS&&(history.scrollRestoration="manual"),!document.querySelector("link[rel=stylesheet][data-for=rt-view]")&&!document.querySelector('style[data-for="rt-view"]')&&!document.querySelector('link[rel=stylesheet][href$="view/rt-view.css"]')){var t=u.enabled?"./amd_modules":"//unpkg.com",e=h.elementFromString('<link rel="stylesheet">');e.setAttribute("href",t+"/ralltiir-application/view/rt-view.css"),document.head.appendChild(e)}}function n(t){var e=t.querySelector(".rt-head"),r={},i=e.querySelector(".rt-back");i&&i.innerHTML&&(r.back={html:i.innerHTML});var n=e.querySelector(".rt-title");n&&n.innerHTML&&(r.title={html:n.innerHTML});var l=e.querySelector(".rt-subtitle");l&&l.innerHTML&&(r.subtitle={html:l.innerHTML});var o=e.querySelector(".rt-actions").children;return o.length&&(r.actions=[],v.forEach(o,function(t){t&&t.outerHTML&&r.actions.push({html:t.outerHTML})})),r}function l(t,r){return v.has(r,"html")&&(t.innerHTML=r.html||"",t.querySelector("rt-back")?(t.innerHTML=t.querySelector("rt-back").innerHTML||e.backHTML,r.onClick=f.back.bind(f)):t.querySelector("rt-empty")&&(t.innerHTML=""),r.tryReplace&&t.children.length&&(t=t.children[0])),t.rtClickHandler||(t.rtClickHandler=v.noop,t.addEventListener("click",function(){t.rtClickHandler()})),v.has(r,"onClick")&&(t.rtClickHandler=v.get(r,"onClick")),t}var o=t("ralltiir-application/utils/animation"),a=t("ralltiir-application/utils/ua"),s=t("ralltiir-application/utils/url"),c=t("ralltiir-application/view/loading"),h=t("ralltiir-application/utils/dom"),d=t("ralltiir"),p=t("ralltiir-application/view/render"),u=t("ralltiir-application/utils/debug"),v=d._,y=d.http,f=d.action,w=d.promise,m=['<div class="rt-view active">','  <div class="rt-head">','    <div class="rt-back"></div>','    <div class="rt-actions"></div>','    <div class="rt-center">','      <span class="rt-title"></span>','      <span class="rt-subtitle"></span>',"    </div>","  </div>",'  <div class="rt-body"></div>',"</div>"].join("");return i(),e.prototype.initElement=function(t){this.viewEl=t,this.viewEl.setAttribute("data-base",this.options.baseUrl||""),this.headEl=this.viewEl.querySelector(".rt-head"),this.bodyEl=this.viewEl.querySelector(".rt-body"),this.viewEl.ralltiir=this},e.prototype.render=function(){var t=this;return this.pendingFetch.then(function(e){var i=e.data||"",l=p.parse(i);return t.loading.hide(),t.renderer.moveClasses(t.viewEl,l.querySelector(".rt-view")),w.resolve().then(function(){return t.renderer.render(t.headEl,l.querySelector(".rt-head"),{replace:!0,onContentLoaded:function(){var e=n(h.wrapElementFromString(i));t.setData(r(e))}})}).then(function(){return t.renderer.render(t.bodyEl,l.querySelector(".rt-body"),{replace:!0})})}).then(function(){t.populated=!0})},e.prototype.partialUpdate=function(t,e){var r=this.renderer,i=this.bodyEl,n=e.to?i.querySelector(e.to):i,l={url:t,options:e},o=new c(n);t!==location.pathname+location.search&&(this.valid=!1),e.to||(e.to=".rt-body"),e.from||(e.from=e.to),e.fromUrl||(e.fromUrl=t),h.trigger(n,"rt.willUpdate",l),e.replace&&(n.innerHTML="",o.show());var a=Math.random().toString(36).substr(2);return n.setAttribute("data-rt-token",a),this.createTemplateStream(s.setQuery(e.fromUrl,{"rt-partial":"true","rt-selector":e.from})).then(function(i){if(o.hide(),n.getAttribute("data-rt-token")===a){d.action.reset(t,null,{silent:!0});var s=p.parse(i.data||"");return s=e.from?s.querySelector(e.from):s,r.render(n,s,{replace:e.replace}).then(function(){h.trigger(n,"rt.updated",l)})}}).catch(function(e){console.warn("partialUpdate Error, redirecting",e),location.href=t})},e.prototype.setHead=function(t){return console.warn("[DEPRECATED] use .setData() instead of .setHead()"),this.setData(t)},e.prototype.setData=function(t){var e=this.headEl;if(l(e.querySelector(".rt-back"),t.back),l(e.querySelector(".rt-title"),t.title),l(e.querySelector(".rt-subtitle"),t.subtitle),t.actions){var r=e.querySelector(".rt-actions");r.innerHTML="",v.forEach(t.actions,function(t){var e=h.elementFromString('<span class="rt-action">');t.tryReplace=!0;var i=l(e,t);r.appendChild(i)})}},e.prototype.resetStyle=function(){o.resetStyle(this.viewEl)},e.prototype.setAttached=function(){this.resetStyle(),this.restoreStates(),this.attached=!0,this.trigger("rt.attached")},e.prototype.setActive=function(){this.trigger("rt.ready"),h.addClass(this.viewEl,"active")},e.prototype.reuse=function(){d.doc.appendChild(this.viewEl)},e.prototype.setDetached=function(){this.attached=!1,this.viewEl.remove(),this.trigger("rt.detached")},e.prototype.trigger=function(t){return h.trigger(this.viewEl,t)},e.prototype.enter=function(t){if(this.trigger("rt.willAttach"),this.resetStyle(),!t)return this.restoreStates(),w.resolve();var e=this.viewEl,r=this.scrollX,i=this.scrollY;return o.enter(e,r,i)},e.prototype.prepareExit=function(){return this.trigger("rt.willDetach"),this.scrollX=window.scrollX,this.scrollY=window.scrollY,h.removeClass(this.viewEl,"active"),o.prepareExit(this.viewEl,window.scrollX,window.scrollY)},e.prototype.exit=function(t){return t?o.exit(this.viewEl,this.scrollX,this.scrollY):o.exitSilent(this.viewEl)},e.prototype.destroy=function(){this.trigger("rt.destroyed"),this.viewEl.remove(),delete this.viewEl,delete this.headEl,delete this.bodyEl},e.prototype.restoreStates=function(){this.hasOwnProperty("scrollX")&&scrollTo(this.scrollX,this.scrollY)},e.prototype.fetchUrl=function(t){this.loading.show(),this.pendingFetch=this.createTemplateStream(t)},e.prototype.createTemplateStream=function(t,e){var r=this.getBackendUrl(t);return r=s.setQuery(r,"rt","true"),y.ajax(r,{headers:e||{},xhrFields:{withCredentials:!0}})},e.prototype.getBackendUrl=function(t){if(v.isFunction(this.options.backendUrl))return this.options.backendUrl(t);var e=d.action.config().root.replace(/\/+$/,"");return e+t},e.backHTML='<i class="c-icon">&#xe750;</i>',e.prototype.createContainer=function(){var t=h.elementFromString(m);return d.doc.appendChild(t),t},e});
;/*!static/ralltiir-application/service.js*/
define("ralltiir-application/service",["require","ralltiir","ralltiir-application/view/view"],function(t){function i(t,i){this.options=o(i)}function e(t){if(n(t))return!1;var i=u.get(t,"options.src");return!i||"hijack"===i}function r(t){var i=u.get(t,"options.src");return"back"===i}function n(t){return"sync"===u.get(t,"options.src")}function o(t){return t?(t=u.assign({},t,t.view,t.head),u.isString(t.title)&&(t.title={html:t.title}),u.isString(t.subtitle)&&(t.subtitle={html:t.subtitle}),u.isString(t.back)&&(t.back={html:t.back}),u.forEach(t.actions,function(i,e){u.isString(i)&&(t.actions[e]={html:i})}),t):{}}var s=t("ralltiir"),c=s.promise,a=t("ralltiir-application/view/view"),u=s._;return i.prototype.beforeAttach=function(t){if(u.assign(this.options,o(t.options)),this.view&&this.view.valid)this.view.reuse();else if(n(t)){var i=document.querySelector("#sfr-app .rt-view");this.view=new a(this.options,i)}else this.view=new a(this.options),this.view.fetchUrl(t.url);return this.view.enter(e(t))},i.prototype.attach=function(){var t=this.view;return t.setActive(),c.resolve().then(function(){return t.populated?"":t.render()}).then(function(){t.setAttached()})},i.prototype.beforeDetach=function(t){return this.view.prepareExit(r(t))},i.prototype.detach=function(t){var i=this.view;return i.exit(r(t)).then(function(){i.setDetached()})},i.prototype.destroy=function(){return this.view.destroy()},i});
;/*!static/easyWorker/util/type.js*/
define("easyWorker/util/type",["require","exports","module"],function(e,t,r){"use strict";function o(e){return null==e?String(e):l[c.call(e)]||"object"}var n,i,u=["Boolean","Number","String","Function","Array","Date","RegExp","Object"],c=Object.prototype.toString,l={};for(n=u.length;n--;)i=u[n],l["[object "+i+"]"]=i.toLowerCase();r.exports=o});
;/*!static/easyWorker/util/isFunction.js*/
define("easyWorker/util/isFunction",["require","exports","module","easyWorker/util/type"],function(e,r,t){"use strict";function i(e){return"function"===u(e)}var u=e("easyWorker/util/type");t.exports=i});
;/*!static/easyWorker/util/hasOwn.js*/
define("easyWorker/util/hasOwn",["require","exports","module"],function(e,r,t){"use strict";var o=Object.prototype.hasOwnProperty;t.exports=function(e,r){return o.call(e,r)}});
;/*!static/easyWorker/util/extend.js*/
define("easyWorker/util/extend",["require","exports","module","easyWorker/util/hasOwn"],function(e,r,t){"use strict";function n(e){var r,t,n,u;for(e=e||{},t=arguments.length,r=1;t>r;r++){n=arguments[r];for(u in n)s(n,u)&&(e[u]=n[u])}return e}var s=e("easyWorker/util/hasOwn");t.exports=n});
;/*!static/easyWorker/util/each.js*/
define("easyWorker/util/each",["require","exports","module","easyWorker/util/isFunction"],function(e,r,i){"use strict";function o(e,r,i){if(e){var o,n=0,u=e.length,l=void 0===u||t(e);if(l){for(o in e)if(r.call(i,e[o],o,e)===!1)break}else for(n=0;u>n&&r.call(i,e[n],n,e)!==!1;n++);return e}}var t=e("easyWorker/util/isFunction");i.exports=o});
;/*!static/easyWorker/util/derive.js*/
define("easyWorker/util/derive",["require","exports","module","easyWorker/util/isFunction","easyWorker/util/extend","easyWorker/util/each","easyWorker/util/hasOwn"],function(e,t,r){"use strict";function o(e,t,r){"object"==typeof t&&(r=t,t=i(r,"constructor")?r.constructor:function(){e.apply(this,arguments)},delete r.constructor);var o,n,c,u,a,l=t;return o=Object.create(e.prototype),r=r||{},u={},s(r,function(e,t){if(n=t.split(" "),1===n.length)o[t]=e;else switch(c=n.shift(),t=n.join(" "),c){case"get":case"set":a=u[t]||{},a[c]=e,u[t]=a}}),Object.defineProperties(o,u),l.prototype=o,o.constructor=l,l}var s=(e("easyWorker/util/isFunction"),e("easyWorker/util/extend"),e("easyWorker/util/each")),i=e("easyWorker/util/hasOwn");r.exports=o});
;/*!static/atomWorker/genLogger.js*/
define("atomWorker/genLogger",["require","exports","module","easyWorker/util/each"],function(e,r,o){var n=e("easyWorker/util/each");o.exports=function(e){var r=!1,o={};return n(["log","info","error","warn"],function(n){o[n]=function(){if(r){var o=[].slice.call(arguments);console[n].apply(console,[e].concat(o))}}}),o}});
;/*!static/atomWorker/logger.js*/
define("atomWorker/logger",["require","exports","module","atomWorker/genLogger"],function(e,r,o){var g=e("atomWorker/genLogger");o.exports=g("[main thread]")});
;/*!static/atomWorker/CONST.js*/
define("atomWorker/CONST",["require","exports","module"],function(o,e,r){r.exports={id:{start:1,workerStart:-100,document:-1,rootNode:-2,rootNodeParent:-3,rootNodeNextSibling:-4}}});
;/*!static/atomWorker/wrapper/id.js*/
define("atomWorker/wrapper/id",["require","exports","module","atomWorker/CONST"],function(o,e,r){var t=o("atomWorker/CONST"),d=t.id.workerStart;r.exports={document:t.id.document,rootNode:t.id.rootNode,rootNodeParent:t.id.rootNodeParent,rootNodeNextSibling:t.id.rootNodeNextSibling,gen:function(){return d--}}});
;/*!static/atomWorker/wrapper/Base.js*/
define("atomWorker/wrapper/Base",["require","exports","module","easyWorker/util/derive","atomWorker/logger","atomWorker/wrapper/id"],function(e,r,t){var o=e("easyWorker/util/derive"),i=(e("atomWorker/logger"),e("atomWorker/wrapper/id"));t.exports=o(function(e,r,t){this.id=null===e||void 0===e?this._genId():e,this.obj=t,this._worker=r},{triggerEvent:function(e,r){this._worker.postMessage("event",{targetId:this.id,eventName:e,data:r})},_genId:function(){return i.gen()}})});
;/*!static/atomWorker/wrapper/node/Node.js*/
define("atomWorker/wrapper/node/Node",["require","exports","module","easyWorker/util/derive","easyWorker/util/each","atomWorker/wrapper/Base","atomWorker/logger"],function(e,t,o){function r(e){return{timeStamp:e.timeStamp,type:e.type,target:{type:e.target.type,value:e.target.value,checked:e.target.checked},altKey:e.altKey,charCode:e.charCode,code:e.code,ctrlKey:e.ctrlKey,key:e.key,keyCode:e.keyCode,metaKey:e.metaKey,shiftKey:e.shiftKey,which:e.which,_args:e._args}}{var n=e("easyWorker/util/derive"),i=e("easyWorker/util/each"),s=e("atomWorker/wrapper/Base");e("atomWorker/logger")}o.exports=n(s,function(e,t,o){s.call(this,e,t,o),this._eventListeners={}},{appendChild:function(e){var t=this._worker.objectPool.get(e);this.obj.appendChild(t.obj)},insertBefore:function(e,t){var o=this._worker.objectPool.get(e),r=this._worker.objectPool.get(t);this.obj.insertBefore(o.obj,r.obj)},removeChild:function(e){var t=this._worker.objectPool.get(e);this.obj.removeChild(t.obj)},replaceChild:function(e,t){var o=this._worker.objectPool.get(e),r=this._worker.objectPool.get(t);this.obj.replaceChild(o.obj,r.obj)},addEventListener:function(e,t,o,n){var i=this;return i._eventListeners[t]?void console.error("event callback id has been bind: ",t):(i._eventListeners[t]={name:e,cb:function(e){n&&n.stop&&e.stopPropagation(),n&&n.prevent&&e.preventDefault(),i._worker.postMessage("registeredEvent",{id:t,args:[r(e)]})}},void i.obj.addEventListener(e,i._eventListeners[t].cb,o||!1))},removeEventListener:function(e,t,o){var r=this;return r._eventListeners[t]?(r.obj.removeEventListener(e,r._eventListeners[t].cb,o||!1),void delete r._eventListeners[t]):void console.error("not existed callback id: ",t)},setTextContent:function(e){this.obj.textContent=e},setProperty:function(e,t){this.obj[e]=t},onDestroy:function(){var e=this.obj;i(this._eventListeners,function(t){e.removeEventListener(t.name,t.cb)})}})});
;/*!static/atomWorker/wrapper/util.js*/
define("atomWorker/wrapper/util",["require","exports","module"],function(o,e,t){t.exports={proxyMethod:function(o,e){o.prototype[e]=function(){this.obj[e].apply(this.obj,[].slice.call(arguments))}}}});
;/*!static/atomWorker/wrapper/node/Element.js*/
define("atomWorker/wrapper/node/Element",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/node/Node","atomWorker/wrapper/util","atomWorker/logger"],function(e,r,o){var t=e("easyWorker/util/derive"),l=e("atomWorker/wrapper/node/Node"),i=e("atomWorker/wrapper/util"),a=(e("atomWorker/logger"),t(l,function(e,r,o){l.call(this,e,r,o)},{setStyle:function(e,r){this.obj.style[e]=r},setScrollTop:function(e){this.obj.scrollTop=e},setScrollLeft:function(e){this.obj.scrollLeft=e}}));i.proxyMethod(a,"setAttribute"),i.proxyMethod(a,"removeAttribute"),o.exports=a});
;/*!static/atomWorker/wrapper/node/TextNode.js*/
define("atomWorker/wrapper/node/TextNode",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/node/Node","atomWorker/logger"],function(e,r,o){{var t=e("easyWorker/util/derive"),a=e("atomWorker/wrapper/node/Node");e("atomWorker/logger")}o.exports=t(a,function(e,r,o){a.call(this,e,r,o)})});
;/*!static/atomWorker/wrapper/node/Comment.js*/
define("atomWorker/wrapper/node/Comment",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/node/Node","atomWorker/logger"],function(e,r,o){{var t=e("easyWorker/util/derive"),a=e("atomWorker/wrapper/node/Node");e("atomWorker/logger")}o.exports=t(a,function(e,r,o){a.call(this,e,r,o)})});
;/*!static/atomWorker/wrapper/node/Document.js*/
define("atomWorker/wrapper/node/Document",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/node/Node","atomWorker/wrapper/node/Element","atomWorker/wrapper/node/TextNode","atomWorker/wrapper/node/Comment","atomWorker/logger","atomWorker/wrapper/id"],function(e,r,o){var t=e("easyWorker/util/derive"),a=e("atomWorker/wrapper/node/Node"),n=e("atomWorker/wrapper/node/Element"),d=e("atomWorker/wrapper/node/TextNode"),m=e("atomWorker/wrapper/node/Comment"),i=(e("atomWorker/logger"),e("atomWorker/wrapper/id"));o.exports=t(a,function(e){a.call(this,i.document,e,document)},{createElement:function(e,r){var o=this.obj.createElement(r);this._worker.objectPool.add(new n(e,this._worker,o))},createElementNS:function(e,r,o,t){t=t||{};var a=this.obj.createElementNS(r,o,t);this._worker.objectPool.add(new n(e,this._worker,a))},createTextNode:function(e,r){var o=this.obj.createTextNode(r);this._worker.objectPool.add(new d(e,this._worker,o))},createComment:function(e,r){var o=this.obj.createComment(r);this._worker.objectPool.add(new m(e,this._worker,o))}})});
;/*!static/easyWorker/genQueue.js*/
define("easyWorker/genQueue",["require"],function(){return function(u){"use strict";function e(u){null===i?(i=[u],t=setTimeout(n,e.timeout)):i.push(u)}function n(){var e;null!==i&&(e=i,i=null,clearTimeout(t),u&&u(e))}var t,r=0,i=null;return e.timeout=r,e.flush=n,e}});
;/*!static/easyWorker/genRpc.js*/
define("easyWorker/genRpc",["require"],function(){return function(){"use strict";function e(r,t,n){var a,c,l,i,p=u(r);if(n=n||0,n>300)throw new Error("Worker");switch(p){case"boolean":case"number":case"string":case"undefined":case"null":l=r;break;case"function":l=o(r,t);break;case"array":for(l=[],c=r.length,a=0;c>a;a++)l.push(e(r[a],t,n+1));break;case"date":l=r.getTime();break;case"object":if(!s(r))throw new Error("Workerplain object(Event,DOM): "+r.constructor);l={};for(i in r)f(r,i)&&(l[i]=e(r[i],t,n+1));break;case"regexp":default:throw new Error("Worker:"+p)}return{type:p,data:l}}function r(e){var t,n,a,o;switch(e.type){case"boolean":case"number":case"string":case"undefined":case"null":a=e.data;break;case"function":a=c(e.data);break;case"array":for(a=[],n=e.data.length,t=0;n>t;t++)a.push(r(e.data[t]));break;case"date":a=new Date,a.setTime(e.data);break;case"object":a={};for(o in e.data)f(e.data,o)&&(a[o]=r(e.data[o]));break;case"regexp":default:throw new Error("Nonsupport data type:"+e.type)}return a}function t(e,r,t){var a;if(y[e])return a=y[e],t=t||g[e],t||n(e),a.apply(null,r);throw new Error("The function has been reclaimed. Set fn.keep = true to multiple calls.")}function n(e){y[e]=null,delete y[e]}function a(){y={},g={}}function o(e,r){return y[k]=e,r&&(g[k]=!0),k++}function c(e){var r=function(){var t=p(arguments),n=r.keep;r.keep=!1,(b.callRemote&&b.callRemote)(e,t,n)};return r.keep=!1,r}function u(e){return null==e?String(e):v[j.call(e)]||"object"}function l(e){return null!=e&&e==e.window}function i(e){return"object"==u(e)}function s(e){return i(e)&&!l(e)&&Object.getPrototypeOf(e)==Object.prototype}function f(e,r){return E.call(e,r)}function p(e,r,t){switch(arguments.length){case 0:return[];case 1:return O.call(e);case 2:return O.call(e,r);default:return O.call(e,r,t)}}function d(){throw new Error("method is not implemented.")}var b,w,h,k=0,y={},g={},m=["Boolean","Number","String","Function","Array","Date","RegExp","Object"],j=Object.prototype.toString,v={};for(w=m.length;w--;)h=m[w],v["[object "+h+"]"]=h.toLowerCase();var E=Object.prototype.hasOwnProperty,O=Array.prototype.slice;return b={encode:e,decode:r,callRemote:d,callLocal:t,destroy:n,destroyAll:a}}});
;/*!static/easyWorker/util/emptyFunction.js*/
define("easyWorker/util/emptyFunction",["require","exports","module"],function(e,t,n){"use strict";n.exports=new Function});
;/*!static/easyWorker/util/unimplementedFunction.js*/
define("easyWorker/util/unimplementedFunction",["require","exports","module"],function(e,t,n){"use strict";n.exports=function(){throw new Error("method is not implemented.")}});
;/*!static/easyWorker/initSandbox.js*/
define("easyWorker/initSandbox",["require"],function(){"use strict";return function(e,n,r){function o(e){var n=e.type,r=e.data;if(!u.hasOwnProperty(n))throw new Error("Unknow message ["+n+"]");u[n](r)}function i(e,n){u[e]=n}function c(e,n){a.onSendMessage&&a.onSendMessage({type:e,data:n})}function s(e,n){return e.lastIndexOf("sourceURL")<0&&e.lastIndexOf("sourceMappingURL")<0&&(e+="\n//# sourceURL="+a.sourceURLPrefix+n),e}var a={receiveMessage:o,onSendMessage:null,scope:null,rpc:null,sourceURLPrefix:"easyworker://"},u={},t=n();a.scope=t;var f={onmessage:null,postMessage:function(e){c("message",e)}};t.mock("sandbox",f),i("message",function(e){f.onmessage&&f.onmessage(e)});var d=e(null);t.mock("require",d.require),t.mock("define",d.define),f.require=d.require,f.define=d.define,d.require.setLoader(function(e){c("require",e)}),i("define",function(e){var n,r,o,i=e.length;for(n=0;i>n;n++)r=e[n],o=["define(",JSON.stringify(r.id),",",JSON.stringify(r.deps),",",r.factory,");"].join(""),o=s('"use strict";\n'+o,"amd/"+r.id),t.exec(null,o);d.require.check()});var l=r();a.rpc=l,l.callRemote=function(e,n,r){c("callback",{id:e,args:l.encode(n),keep:r})},i("callback",function(e){var n=e.id,r=l.decode(e.args),o=!!e.keep;l.callLocal(n,r,o)}),i("bridge",function(e){var n;e=l.decode(e);for(n in e)t.mock(n,e[n])});var g=1;return i("exec",function(e){var n=e.code;n=s('"use strict";\n'+n,"exec/"+g++),t.exec(null,n)}),a}});
;/*!static/easyWorker/genAMDRuntime.js*/
define("easyWorker/genAMDRuntime",["require","exports","module"],function(n,r,t){t.exports=function(n){"use strict";function r(n){c(n,M)||(D[n]=1)}function t(n,r){function t(n){0===n.indexOf(".")&&e.push(n)}var e=[];if("string"==typeof n?t(n):b(n,function(n){t(n)}),e.length>0)throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+e.join(", "));return w(n,r)}function e(n,r,t){null==t&&(null==r?(t=n,n=null):(t=r,r=null,n instanceof Array&&(r=n,n=null))),null!=t&&n&&o(n,r,t)}function o(n,r,t){x[n]||(x[n]={id:n,depsDec:r,deps:r||["require","exports","module"],factoryDeps:[],factory:t,exports:{},state:k,require:h(n),depMs:[],depMkv:{},depRs:[],hang:0})}function i(n){var r=x[n];if(r&&!c(n,I)){var t=r.deps,e=r.factory,o=0;"function"==typeof e&&(o=Math.min(e.length,t.length),!r.depsDec&&e.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"])([^'"]+)\1\s*\)/g,function(n,r,e){t.push(e)}));var i=[],f=[];b(t,function(t,e){var u,f,a=y(t,n);a&&!m[a]?(u=r.depMkv[a],u||(u={id:t,absId:a,hard:o>e},r.depMs.push(u),r.depMkv[a]=u,i.push(a))):u={absId:a},o>e&&r.factoryDeps.push(f||u)}),r.state=I,a(n),v(i),f.length&&r.require(f,function(){b(r.depRs,function(r){r.absId||(r.absId=y(r.id,n))}),u()})}}function u(){for(var n in D)i(n),f(n),s(n)}function f(n){function r(n){if(i(n),!c(n,I))return!1;if(c(n,q)||t[n])return!0;t[n]=1;var e=x[n],o=!0;return b(e.depMs,function(n){o=r(n.absId)&&o}),o&&b(e.depRs,function(n){return o=!!n.absId}),o&&!c(n,q)&&(e.state=q),t[n]=0,o}var t={};r(n)}function a(r){function t(){if(!e&&o.state===q){e=1;var t=1;if(b(o.factoryDeps,function(n){var r=n.absId;return m[r]?void 0:(s(r),t=c(r,M))}),t){try{var i=o.factory,u="function"==typeof i?i.apply(n,p(o.factoryDeps,{require:o.require,exports:o.exports,module:o})):i;null!=u&&(o.exports=u),o.invokeFactory=null}catch(f){throw o.hang=1,f}d(r)}}}var e,o=x[r];o.invokeFactory=t}function c(n,r){return x[n]&&x[n].state>=r}function s(n){var r=x[n];r&&r.invokeFactory&&r.invokeFactory()}function p(n,r){var t=[];return b(n,function(n,e){"object"==typeof n&&(n=n.absId),t[e]=r[n]||x[n].exports}),t}function l(n,r){if(c(n,M))return void r();var t=A[n];t||(t=A[n]=[]),t.push(r)}function d(n){var r=x[n];r.state=M,delete D[n];for(var t=A[n]||[],e=t.length;e--;)t[e]();t.length=0,A[n]=null}function v(r,t){function e(){if("function"==typeof t&&!o){var e=1;b(r,function(n){return m[n]?void 0:e=!!c(n,M)}),e&&(o=1,t.apply(n,p(r,m)))}}var o=0,i=[];b(r,function(n){m[n]||c(n,M)||(l(n,e),E[n]||x[n]||(E[n]=1,i.push(n)))}),i.length>0&&R&&R(i),e()}function h(n){function t(t,o){if("string"==typeof t){if(!e[t]){var i=y(t,n);if(s(i),!c(i,M))throw new Error('[MODULE_MISS]"'+i+'" is not exists!');e[t]=x[i].exports}return e[t]}if(t instanceof Array){var f=[],a=[];b(t,function(t,e){var o=y(t,n),i=o;a[e]=i,r(o),f.push(o)}),v(f,function(){b(a,function(e,o){null==e&&(e=a[o]=y(t[o],n),r(e))}),v(a,o,n),u()},n),u()}}var e={};return t}function y(n,r){if(!n)return"";r=r||"";var t=g(n,r);return t}function g(n,r){if(0!==n.indexOf("."))return n;for(var t=r.split("/").slice(0,-1).concat(n.split("/")),e=[],o=0;o<t.length;o++){var i=t[o];switch(i){case".":break;case"..":e.length&&".."!==e[e.length-1]?e.pop():e.push(i);break;default:i&&e.push(i)}}return e.join("/")}function b(n,r){if(n instanceof Array)for(var t=0,e=n.length;e>t&&r(n[t],t)!==!1;t++);}var x={},k=1,I=2,q=3,M=4,D={},m={require:t,exports:1,module:1},w=h();t.version="2.2.0-beta.1-worker",t.loader="esl",t.check=u;var R=null;t.setLoader=function(n){"function"==typeof n&&(R=n)},e.amd={};var A={},E={};return{require:t,define:e}}});
;/*!static/easyWorker/genMockedScope.js*/
define("easyWorker/genMockedScope",["require"],function(){return function(){"use strict";function n(n,e,r){var t,c,i,o=[],s=[];if(r)for(c=r.length,t=0;c>t;t++)i=r[t],o.push(i[0]),s.push(i[1]);for(c=u.length,t=0;c>t;t++)i=u[t],o.push(i[0]),s.push(i[1]);o.push(e);var p=Function.apply(null,o),f=p.apply(n,s);return f}function e(e,r,u){return n(e,'"use strict";'+r,u)}function r(n,e){u.push([n,e])}var u=[];return{mock:r,exec:n,strictExec:e}}});
;/*!static/easyWorker/genWorkerInitCode.js*/
define("easyWorker/genWorkerInitCode",["require","easyWorker/initSandbox","easyWorker/genAMDRuntime","easyWorker/genMockedScope","easyWorker/genRpc"],function(e){"use strict";var n=e("easyWorker/initSandbox"),r=e("easyWorker/genAMDRuntime"),o=e("easyWorker/genMockedScope"),t=e("easyWorker/genRpc"),i=function(e,n,r,o){var t=e(n,r,o);t.onSendMessage=function(e){self.postMessage(e)},self.onmessage=function(e){t.receiveMessage(e.data)}};return function(){return["(",i.toString(),")","(",[n.toString(),r.toString(),o.toString(),t.toString()].join(","),");","\n//# sourceURL=ew://easyworker/init"].join("")}});
;/*!static/easyWorker/util/nextTick.js*/
define("easyWorker/util/nextTick",["require"],function(){"use strict";function e(e){r.push(e),i||(i=!0,t(n))}function t(e){if("function"==typeof MutationObserver){var t=1,n=new MutationObserver(e),r=document.createTextNode(t);n.observe(r,{characterData:!0}),r.data=++t}else"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)}function n(){var e,t=r.slice(0),n=null,o=t.length;for(r=[],i=!1,e=0;o>e;e++)try{t[e]()}catch(a){n=a}if(n)throw n}var r=[],i=!1;return e});
;/*!static/easyWorker/util/bind.js*/
define("easyWorker/util/bind",["require"],function(){"use strict";function r(r,e){if(n&&r.bind===n)return n.apply(r,t.call(arguments,1));var u=t.call(arguments,2);return function(){return r.apply(e,u.concat(t.call(arguments)))}}var n=Function.prototype.bind,t=Array.prototype.slice;return r});
;/*!static/easyWorker/FakeWorker.js*/
define("easyWorker/FakeWorker",["require","exports","module","easyWorker/util/emptyFunction","easyWorker/util/derive","easyWorker/util/nextTick","easyWorker/util/bind","easyWorker/initSandbox","easyWorker/genAMDRuntime","easyWorker/genMockedScope","easyWorker/genRpc"],function(e,r,s){"use strict";var o=e("easyWorker/util/emptyFunction"),n=e("easyWorker/util/derive"),t=e("easyWorker/util/nextTick"),i=e("easyWorker/util/bind"),a=e("easyWorker/initSandbox"),k=e("easyWorker/genAMDRuntime"),u=e("easyWorker/genMockedScope"),y=e("easyWorker/genRpc"),c=0,W=n(Object,function(){var e=this,r=a(k,u,y);this.sandbox=r,c++,r.sourceURLPrefix+="fakeWorker/"+c+"/",r.onSendMessage=function(r){r=JSON.parse(JSON.stringify(r)),t(i(e.onmessage,e,{type:"message",data:r,currentTarget:e}))}},{sandbox:null,onmessage:o,terminate:function(){this.onmessage=o,this.postMessage=o},postMessage:function(e){var r=this.sandbox;e=JSON.parse(JSON.stringify(e)),t(i(r.receiveMessage,r,e))}});s.exports=W});
;/*!static/easyWorker/EasyWorker.js*/
define("easyWorker/EasyWorker",["require","exports","module","easyWorker/util/derive","easyWorker/genQueue","easyWorker/genRpc","easyWorker/util/emptyFunction","easyWorker/util/isFunction","easyWorker/util/unimplementedFunction","easyWorker/genWorkerInitCode","easyWorker/FakeWorker"],function(e,r,t){"use strict";function n(){return null===g&&(g=s(k(),"text/javascript")),g}function i(e){return btoa(unescape(encodeURIComponent(e)))}function s(e,r,t){var n,s,o,a=null;t=t||window;try{o=new Blob([e],{type:r})}catch(u){n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,n&&(o=new n,o.append(e),o=o.getBlob(r))}return s=t.URL||t.webkitURL,a=o&&s?s.createObjectURL(o):"data:"+r+";base64,"+i(e)}var o=e("easyWorker/util/derive"),a=e("easyWorker/genQueue"),u=e("easyWorker/genRpc"),c=e("easyWorker/util/emptyFunction"),l=e("easyWorker/util/isFunction"),d=e("easyWorker/util/unimplementedFunction"),k=e("easyWorker/genWorkerInitCode"),h=e("easyWorker/FakeWorker"),p=!0,f=o(Object,function(e){this.worker=this.initWorker(),this.rpc=u(),this.rpc.callRemote=this._callRemoteHandler.bind(this),e&&e.interface&&this._bridge(e.interface),this.defineQueue=a(this._defineHandler.bind(this))},{initWorker:function(){var e;try{e=new Worker(n())}catch(r){e=new h}return e.onmessage=this._onmessageHandler.bind(this),e},onmessage:c,terminate:function(){this.worker.terminate()},_onmessageHandler:function(e){e=e.data;var r,t,n,i,s=e.data;switch(e.type){case"message":this.onmessage&&this.onmessage(s);break;case"require":r=s,(this.onrequire||d)(r);break;case"callback":n=s.id,t=this.rpc.decode(s.args),i=!!s.keep,this.rpc.callLocal(n,t,i);break;default:throw new Error("Unknow message ["+e.type+"]")}},postMessage:function(e){this._postMessageHandler("message",e)},_postMessageHandler:function(e,r){this.worker.postMessage({type:e,data:r})},onrequire:d,define:function(e,r,t){var n={id:e,deps:r||null};n.factory=l(t)?t.toString():JSON.stringify(t),this.defineQueue(n)},flushDefine:function(){this.defineQueue.flush()},_defineHandler:function(e){this._postMessageHandler("define",e)},_bridge:function(e){this._postMessageHandler("bridge",this.rpc.encode(e,p))},_callRemoteHandler:function(e,r,t){this._postMessageHandler("callback",{id:e,args:this.rpc.encode(r),keep:t})},exec:function(e){var r={code:e};this._postMessageHandler("exec",r)}}),g=null;t.exports=f});
;/*!static/atomWorker/wrapper/Request.js*/
define("atomWorker/wrapper/Request",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/Base","easyWorker/util/extend","easyWorker/util/type","easyWorker/util/each","easyWorker/util/emptyFunction","atomWorker/logger"],function(e,t,r){function n(e){if(!e)return"";var t=[];return d(e,function(e,r){r=encodeURIComponent(r),e=encodeURIComponent(e),t.push(r+"="+e)}),t.join("&")}function o(e,t){return""===t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function s(e){function t(){i.removeEventListener("load",c),i.removeEventListener("error",d),i.parentNode&&i.parentNode.removeChild(i),delete window[a],e.complete({})}function r(){e.success({dataJSONString:"undefined"==typeof s[0]?void 0:JSON.stringify(s[0])}),t()}function n(){e.fail({}),t()}var s,a="atomJSONP"+ ++p,i=document.createElement("script"),u={abort:n},c=function(){s?r():n()},d=n;return i.addEventListener("load",c),i.addEventListener("error",d),window[a]=function(){s=arguments},i.src=o(e.url,e.jsonp+"="+a),document.head.appendChild(i),u}var a=e("easyWorker/util/derive"),i=e("atomWorker/wrapper/Base"),u=e("easyWorker/util/extend"),c=e("easyWorker/util/type"),d=e("easyWorker/util/each"),l=e("easyWorker/util/emptyFunction"),p=(e("atomWorker/logger"),0),f=4;r.exports=a(i,function(e,t){var r,a;t=this._conf=u({method:"GET",dataType:"string",success:l,fail:l,complete:l,data:null,jsonp:"callback"},t),t.data=JSON.parse(t.data),"string"!==c(t.url)&&console.error("conf.url must be string"),"GET"===t.method||"jsonp"===t.dataType?t.url=o(t.url,n(t.data)):t.data&&(a=t.data,a&&"string"!==c(a)&&(a=JSON.stringify(a))),"jsonp"===t.dataType?r=s(t):(r=new XMLHttpRequest,r.withCredentials=!0,r.open(t.method,t.url,!0),r.send(a),r.onreadystatechange=this._onreadystatechange.bind(this)),i.call(this,null,e,r)},{abort:function(){this.obj.abort(),delete this.obj,delete this._conf},onDestroy:function(){this.abort()},_onreadystatechange:function(){var e,t,r=this.obj;switch(r.readyState){case f:e=r.responseText,this._isSuccess(r)?(t="json"===this._conf.dataType?e:JSON.stringify(e),this._conf.success({dataJSONString:t,status:r.status,responseText:e})):this._conf.fail({status:r.status,responseText:e}),this._conf.complete({status:r.status,responseText:e}),this._worker.objectPool.remove(this.id)}},_isSuccess:function(e){return e.status>=200&&e.status<300||304===e.status}})});
;/*!static/atomWorker/wrapper/ScrollWatcher.js*/
define("atomWorker/wrapper/ScrollWatcher",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/Base","easyWorker/util/extend","easyWorker/util/emptyFunction","atomWorker/logger"],function(e,t,i){{var n=e("easyWorker/util/derive"),o=e("atomWorker/wrapper/Base");e("easyWorker/util/extend"),e("easyWorker/util/emptyFunction"),e("atomWorker/logger")}i.exports=n(o,function(e,t){o.call(this,null,e,"ScrollWatcher");var i,n;if(void 0!==t.elementId){if(i=e.objectPool.get(t.elementId),!i)return void console.error("conf.elementId given, but no corresponding element got from worker.objectPool.");n=i.obj}switch(this._el=n||null,this._type=t.type||"bottom-less-than",this._value=t.value,this._callback=t.callback,this._callback.keep=!0,this._satisfyLastTime=!1,this._type){case"bottom-less-than":this._detect=this._genDetector(this._getBottomDistance,this._lessThan);break;case"bottom-greater-than":this._detect=this._genDetector(this._getBottomDistance,this._greaterThan);break;case"top-less-than":this._detect=this._genDetector(this._getTopDistance,this._lessThan);break;case"top-greater-than":this._detect=this._genDetector(this._getTopDistance,this._greaterThan)}this._detect(),this._bindEvent()},{_genDetector:function(e,t){var i=this;return e=e.bind(i),t=t.bind(i),function(){if(!i._worker.isPaused()){var n=i._getSize(),o=e(n),r=t(o);r&&!i._satisfyLastTime&&i._triggerCallback(o,n),i._satisfyLastTime=r}}},_getTopDistance:function(e){return e.scrollTop},_getBottomDistance:function(e){return e.scrollHeight-e.scrollTop-e.clientHeight},_lessThan:function(e){return e<=this._value},_greaterThan:function(e){return e>=this._value},_getSize:function(){var e,t,i;return this._el?(e=this._el.clientHeight,t=this._el.scrollHeight,i=this._el.scrollTop):(e=Math.max(document.documentElement.clientHeight,window.innerHeight||0),t=document.body.scrollHeight,i=window.scrollY),{clientHeight:e,scrollHeight:t,scrollTop:i}},_triggerCallback:function(e,t){this._callback({distance:e,clientHeight:t.clientHeight,scrollHeight:t.scrollHeight,scrollTop:t.scrollTop}),this._callback.keep=!0},_bindEvent:function(){this._el?this._el.addEventListener("scroll",this._detect):(window.addEventListener("scroll",this._detect),window.addEventListener("touchstart",this._detect),window.addEventListener("touchend",this._detect))},_unbindEvent:function(){this._el?this._el.removeEventListener("scroll",this._detect):(window.removeEventListener("scroll",this._detect),window.removeEventListener("touchstart",this._detect),window.removeEventListener("touchend",this._detect))},onDestroy:function(){this._unbindEvent()}})});
;/*!static/atomWorker/wrapper/WindowSizeSynchronizer.js*/
define("atomWorker/wrapper/WindowSizeSynchronizer",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/Base","easyWorker/util/extend","easyWorker/util/emptyFunction","atomWorker/logger"],function(e,t,i){{var r=e("easyWorker/util/derive"),n=e("atomWorker/wrapper/Base");e("easyWorker/util/extend"),e("easyWorker/util/emptyFunction"),e("atomWorker/logger")}i.exports=r(n,function(e,t){n.call(this,null,e,"WindowSizeSynchronizer"),this._codeExecutor=t,this._update=this._update.bind(this),window.addEventListener("resize",this._update),this._update()},{_update:function(){var e={width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)};this._codeExecutor.exec("("+function(e,t){sandbox.require([e],function(e){e.__update(t)})}.toString()+")("+[JSON.stringify("atomWorkerSandbox/getWindowSize"),JSON.stringify(e)].join(",")+")")},onDestroy:function(){window.removeEventListener("resize",this._update)}})});
;/*!static/atomWorker/wrapper/ContextSynchronizer.js*/
define("atomWorker/wrapper/ContextSynchronizer",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/Base","atomWorker/logger"],function(e,r,o){{var t=e("easyWorker/util/derive"),n=e("atomWorker/wrapper/Base");e("atomWorker/logger")}o.exports=t(n,function(e,r,o){n.call(this,null,e,"ContextSynchronizer"),this._codeExecutor=r,o.on("pause",function(e){this._syncEvent("pause",e)},this),o.on("resume",function(e){this._syncEvent("resume",e)},this)},{_syncEvent:function(e,r){this._codeExecutor.exec("("+function(e,r,o){sandbox.require([e],function(e){e.emit(r,o)})}.toString()+")("+[JSON.stringify("atomWorkerSandbox/context"),JSON.stringify(e),JSON.stringify(r)].join(",")+")")}})});
;/*!static/atomWorker/wrapper/Locator.js*/
define("atomWorker/wrapper/Locator",["require","exports","module","easyWorker/util/derive","atomWorker/wrapper/Base","easyWorker/util/extend","easyWorker/util/emptyFunction","atomWorker/wrapper/Request","atomWorker/logger"],function(e,t,o){var s=e("easyWorker/util/derive"),a=e("atomWorker/wrapper/Base"),i=e("easyWorker/util/extend"),r=e("easyWorker/util/emptyFunction"),c=e("atomWorker/wrapper/Request"),n=(e("atomWorker/logger"),"http://aladdin.wapmap.baidu.com/plugin");-1!==location.protocol.indexOf("https")&&(n="https://sp2.baidu.com/90gHaDqh_cgXo1ufo-zN2TxrfQVwcu8e/plugin");var u=1,l=2,p=4,_=3;o.exports=s(a,function(e,t){var o=this;if(o._request=null,o._conf=i({success:r,fail:r,complete:r,geoTimeout:1/0,parseTimeout:1/0},t),!navigator.geolocation)return void o._fail({code:u,message:"navigator.geolocation is not exist"});var s={maximumAge:0,enableHighAccuracy:!0};null!=o._conf.geoTimeout&&isFinite(o._conf.geoTimeout)&&(s.timeout=o._conf.geoTimeout),navigator.geolocation.getCurrentPosition(function(e){o._geoSuccess(e)},function(e){o._geoFail(e)},s),a.call(o,null,e,"Locator")},{_geoSuccess:function(e){this._parse(e)},_geoFail:function(e){this._fail({code:e.code===e.PERMISSION_DENIED?p:l,message:e.message,geoError:{code:e.code,message:e.message}})},_parse:function(e){var t=this,o=e.coords;t._request=new c(this._worker,{url:n,data:JSON.stringify({ptype:1,xyr:o.longitude+"_"+o.latitude+"_"+o.accuracy,addr:"city|district|street|city_code"}),dataType:"jsonp",timeout:t._conf.parseTimeout,success:function(o){t._parseSuccess(o,e)},fail:function(){t._parseFail()}})},_parseSuccess:function(e,t){try{e.data=JSON.parse(e.dataJSONString)}catch(o){}var s=e.data,a=s&&s.point,i=s&&s.addr,r=t.coords;s&&a&&i&&i.city_code?this._success({x:a.x,y:a.y,accuracy:r.accuracy,cityCode:parseInt(i.city_code,10),timestamp:t.timestamp,address:s.address}):this._fail({code:_,message:"parse request result not valid",geoResult:t,parseResult:e})},_parseFail:function(){this._fail({code:_,message:"parse request fail"})},_success:function(e){this._conf.success(e),this._complete()},_fail:function(e){this._conf.fail(e),this._complete()},_complete:function(){this._conf.complete(),this._clear()},_clear:function(){this._geoSuccess=r,this._geoFail=r,this._parseSuccess=r,this._parseFail=r},onDestroy:function(){this._clear(),this._request&&this._request.onDestroy(),delete this._request}})});
;/*!static/atomWorker/EventEmitter.js*/
define("atomWorker/EventEmitter",["require","exports","module","easyWorker/util/derive","easyWorker/util/hasOwn"],function(e,t,i){var a=e("easyWorker/util/derive"),r=e("easyWorker/util/hasOwn");i.exports=a(Object,function(){this._listenerMap={}},{emit:function(e,t){var i,a,n;if(r(this._listenerMap,e))for(i=this._listenerMap[e],a=0;a<i.length;a++)n=i[a],n.callback.call(n.context,t)},on:function(e,t,i){var a;r(this._listenerMap,e)||(this._listenerMap[e]=[]),a=this._listenerMap[e],a.push({callback:t,context:arguments.length<3?null:i})},off:function(e,t,i){var a=arguments.length;switch(a){case 0:this._listenerMap={};break;case 1:delete this._listenerMap[e];break;case 2:case 3:default:r(this._listenerMap,e)&&(this._listenerMap[e]=this._listenerMap[e].filter(function(e){return 2===a?e.callback!==t:e.callback!==t||e.context!==i}))}}})});
;/*!static/atomWorker/Context.js*/
define("atomWorker/Context",["require","exports","module","easyWorker/util/derive","atomWorker/EventEmitter"],function(e,t,s){var i=e("easyWorker/util/derive"),r=e("atomWorker/EventEmitter"),o=i(r,function(){r.call(this),this._destroyed=!1,this._paused=!1},{destroy:function(){this._destroyed||(this.emit("destroy"),this.off(),this._destroyed=!0)},pause:function(){this._destroyed||this._paused||(this._paused=!0,this.emit("pause"))},resume:function(){this._destroyed||this._paused&&(this._paused=!1,this.emit("resume"))},isDestroyed:function(){return this._destroyed},isPaused:function(){return this._paused}});s.exports=o});
;/*!static/atomWorker/AtomWorker.js*/
define("atomWorker/AtomWorker",["require","exports","module","easyWorker/util/derive","easyWorker/util/each","easyWorker/util/extend","atomWorker/logger","atomWorker/CONST","atomWorker/wrapper/node/Document","atomWorker/wrapper/node/Element","easyWorker/EasyWorker","atomWorker/wrapper/Request","atomWorker/wrapper/ScrollWatcher","atomWorker/wrapper/WindowSizeSynchronizer","atomWorker/wrapper/ContextSynchronizer","atomWorker/wrapper/Locator","atomWorker/Context","atomWorker/wrapper/id"],function(e,t,o){function r(e){if(!e)throw"must pass in el as the mount target";if("string"==typeof e)throw"el must be an DOM element";if(!e.parentNode)throw"el must has parentNode";return e}var n=e("easyWorker/util/derive"),i=e("easyWorker/util/each"),a=e("easyWorker/util/extend"),s=e("atomWorker/logger"),c=(e("atomWorker/CONST"),e("atomWorker/wrapper/node/Document")),u=e("atomWorker/wrapper/node/Element"),d=e("easyWorker/EasyWorker"),l=e("atomWorker/wrapper/Request"),f=e("atomWorker/wrapper/ScrollWatcher"),h=e("atomWorker/wrapper/WindowSizeSynchronizer"),p=e("atomWorker/wrapper/ContextSynchronizer"),m=e("atomWorker/wrapper/Locator"),w=e("atomWorker/Context"),k=e("atomWorker/wrapper/id"),W=n(Object,function(){this._pool={}},{add:function(e){if(null==e.id)throw"objectPolladdid";if(this._pool[e.id])throw"objectPollid("+e.id+")obj";this._pool[e.id]=e},get:function(e){return this._pool[e]},remove:function(e){delete this._pool[e]},each:function(e){i(this._pool,function(t,o){e(t,o)})}});o.exports=n(function(e,t,o,n){var i=this;this._terminated=!1,i.objectPool=new W,i.objectPool.add(new c(i)),i._initMountTarget(r(e)),"function"==typeof n&&(n=n(i.objectPool)),i._context=new w,i._worker=i._genWorker(t,o,n)},{postMessage:function(e,t){return this._terminated?void console.error("worker has been terminated, can't postMessage anymore"):void this._worker.postMessage({type:e,data:t})},terminate:function(){this._terminated||(this._worker.terminate(),delete this._worker,this.objectPool.each(function(e){e.onDestroy&&e.onDestroy()}),delete this.objectPool,this._context.destroy(),this._terminated=!0)},pause:function(){this._context.pause()},resume:function(){this._context.resume()},isPaused:function(){return this._context.isPaused()},_genWorker:function(e,t,o){var r=new d({"interface":this._getWorkerInterface(o)}),n=window.require;return r.onrequire=function(e){var t,o=e.length,i=e.slice(0);for(t=0;o>t;t++)n.listenModuleStateChange(e[t],n.ModuleState.PRE_DEFINED,function(e,t,o){var n=i.indexOf(e);n>0&&i.splice(n,1),r.define(e,t,o)});i.length>0&&n.fetch(i,function(){}),r.flushDefine()},this.objectPool.add(new h(this,r)),this.objectPool.add(new p(this,r,this._context)),r.exec(["(",function(e,t){sandbox.require(e,function(e,o){e.init(o,t)})}.toString(),")(",[JSON.stringify(["atomWorker/worker/worker",e]),JSON.stringify(t||null)].join(","),")"].join("")),r.onmessage=this._onmessage.bind(this),r},_getWorkerInterface:function(t){var o=this;return a(t||{},{_sandbox:{request:function(e){o.objectPool.add(new l(o,e))},watchScroll:function(e){o.objectPool.add(new f(o,e))},scrollTo:function(e,t){return o.isPaused()?void console.warn("scroll"):void window.scrollTo(e,t)},masterRequire:function(e){window.require(e)},changeHref:function(e){return o.isPaused()?void console.warn("url"):void(location.href=e)},getLocation:function(e){o.objectPool.add(new m(o,e))},share:function(t){return o.isPaused()?void console.warn(""):void e(["fusion-worker/dist/b-share/b-share"],function(){if(!o._terminated){var e=document.createElement("b-share-worker");e.setAttribute("usePopup","true"),e.setAttribute("url",t.url),e.setAttribute("title",t.title),e.setAttribute("content",t.content),t.iconUrl&&e.setAttribute("iconUrl",t.iconUrl),document.body.appendChild(e),e.fusionReady=function(){e.fusion.popup()}}})},selectCity:function(t){e(["fusion-worker/dist/b-city/citySelect"],function(e){e(t)})}},fetch:function(e){e.keep=!0,e()},a:{b:123,c:function(){}}})},_onmessage:function(e){var t=this,o=e.type,r=e.data;switch(o){case"commands":i(r,function(e){var o=t.objectPool.get(e[0]);if(!o)return void s.error("obj not exist of command!",e);try{o[e[1]].apply(o,e[2])}catch(r){setTimeout(function(){throw r},0)}});break;default:s.error("unknown message type:",o,e)}},_initMountTarget:function(e){this.objectPool.add(new u(k.rootNode,this,e)),this.objectPool.add(new u(k.rootNodeParent,this,e.parentNode))}})});
;/*!static/fusion-worker/dist/deps/fusion.js*/
!function(t,e,n,r){"use strict";function a(t,e){for(var n=0,r=t.length;r>n;n++)v(t[n],e)}function i(t){for(var e,n=0,r=t.length;r>n;n++)e=t[n],A(e,q[u(e)])}function o(t){return function(e){ne(e)&&(v(e,t),a(e.querySelectorAll(j),t))}}function u(t){var e=t.getAttribute("is"),n=t.nodeName.toUpperCase(),r=U.call(I,e?S+e.toUpperCase():R+n);return e&&r>-1&&!l(n,e)?-1:r}function l(t,e){return-1<j.indexOf(t+'[is="'+e+'"]')}function s(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,a=t.target;!de||a&&a!==e||!e.attributeChangedCallback||"style"===r||e.attributeChangedCallback(r,n===t[_]?null:t.prevValue,n===t[M]?null:t.newValue)}function c(t){var e=o(t);return function(t){b.push(e,t.target)}}function f(t){pe&&(pe=!1,t.currentTarget.removeEventListener(P,f)),a((t.target||e).querySelectorAll(j),t.detail===w?w:N),ee&&d()}function h(t,e){var n=this;ie.call(n,t,e),m.call(n,{target:n})}function p(t,e){$(t,e),E?E.observe(t,le):(he&&(t.setAttribute=h,t[O]=y(t),t.addEventListener(k,m)),t.addEventListener(F,s)),t.createdCallback&&de&&(t.created=!0,t.createdCallback(),t.created=!1)}function d(){for(var t,e=0,n=re.length;n>e;e++)t=re[e],x.contains(t)||(re.splice(e,1),v(t,w))}function v(t,e){var n,r=u(t);r>-1&&(C(t,q[r]),r=0,e!==N||t[N]?e!==w||t[w]||(t[N]=!1,t[w]=!0,r=1):(t[w]=!1,t[N]=!0,r=1,ee&&U.call(re,t)<0&&re.push(t)),r&&(n=t[e+"Callback"])&&n.call(t))}if(!(r in e)){var b,m,g,y,E,C,A,O="__"+r+(1e5*Math.random()>>0),N="attached",w="detached",L="extends",_="ADDITION",T="MODIFICATION",M="REMOVAL",F="DOMAttrModified",P="DOMContentLoaded",k="DOMSubtreeModified",R="<",S="=",V=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,D=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],I=[],q=[],j="",x=e.documentElement,U=I.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},H=n.prototype,Z=H.hasOwnProperty,B=H.isPrototypeOf,G=n.defineProperty,z=n.getOwnPropertyDescriptor,J=n.getOwnPropertyNames,K=n.getPrototypeOf,W=n.setPrototypeOf,X=!!n.__proto__,Y=n.create||function ve(t){return t?(ve.prototype=t,new ve):this},$=W||(X?function(t,e){return t.__proto__=e,t}:J&&z?function(){function t(t,e){for(var n,r=J(e),a=0,i=r.length;i>a;a++)n=r[a],Z.call(t,n)||G(t,n,z(e,n))}return function(e,n){do t(e,n);while((n=K(n))&&!B.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),Q=t.MutationObserver||t.WebKitMutationObserver,te=(t.HTMLElement||t.Element||t.Node).prototype,ee=!B.call(te,x),ne=ee?function(t){return 1===t.nodeType}:function(t){return B.call(te,t)},re=ee&&[],ae=te.cloneNode,ie=te.setAttribute,oe=te.removeAttribute,ue=e.createElement,le=Q&&{attributes:!0,characterData:!0,attributeOldValue:!0},se=Q||function(){he=!1,x.removeEventListener(F,se)},ce=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},fe=!1,he=!0,pe=!0,de=!0;W||X?(C=function(t,e){B.call(e,t)||p(t,e)},A=p):(C=function(t,e){t[O]||(t[O]=n(!0),p(t,e))},A=C),ee?(he=!1,function(){var t=z(te,"addEventListener"),e=t.value,n=function(t){var e=new CustomEvent(F,{bubbles:!0});e.attrName=t,e.prevValue=this.getAttribute(t),e.newValue=null,e[M]=e.attrChange=2,oe.call(this,t),this.dispatchEvent(e)},r=function(t,e){var n=this.hasAttribute(t),r=n&&this.getAttribute(t),a=new CustomEvent(F,{bubbles:!0});ie.call(this,t,e),a.attrName=t,a.prevValue=n?r:null,a.newValue=e,n?a[T]=a.attrChange=1:a[_]=a.attrChange=0,this.dispatchEvent(a)},a=function(t){var e,n=t.currentTarget,r=n[O],a=t.propertyName;r.hasOwnProperty(a)&&(r=r[a],e=new CustomEvent(F,{bubbles:!0}),e.attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[a]||null,null==e.prevValue?e[_]=e.attrChange=0:e[T]=e.attrChange=1,n.dispatchEvent(e))};t.value=function(t,i,o){t===F&&this.attributeChangedCallback&&this.setAttribute!==r&&(this[O]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,e.call(this,"propertychange",a)),e.call(this,t,i,o)},G(te,"addEventListener",t)}()):Q||(x.addEventListener(F,se),x.setAttribute(O,1),x.removeAttribute(O),he&&(m=function(t){var e,n,r,a=this;if(a===t.target){e=a[O],a[O]=n=y(a);for(r in n){if(!(r in e))return g(0,a,r,e[r],n[r],_);if(n[r]!==e[r])return g(1,a,r,e[r],n[r],T)}for(r in e)if(!(r in n))return g(2,a,r,e[r],n[r],M)}},g=function(t,e,n,r,a,i){var o={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:a};o[i]=t,s(o)},y=function(t){for(var e,n,r={},a=t.attributes,i=0,o=a.length;o>i;i++)e=a[i],n=e.name,"setAttribute"!==n&&(r[n]=e.value);return r})),e[r]=function(t,n){if(r=t.toUpperCase(),fe||(fe=!0,Q?(E=function(t,e){function n(t,e){for(var n=0,r=t.length;r>n;e(t[n++]));}return new Q(function(r){for(var a,i,o=0,u=r.length;u>o;o++)a=r[o],"childList"===a.type?(n(a.addedNodes,t),n(a.removedNodes,e)):(i=a.target,de&&i.attributeChangedCallback&&"style"!==a.attributeName&&i.attributeChangedCallback(a.attributeName,a.oldValue,i.getAttribute(a.attributeName)))})}(o(N),o(w)),E.observe(e,{childList:!0,subtree:!0})):(b=[],ce(function m(){for(;b.length;)b.shift().call(null,b.shift());ce(m)}),e.addEventListener("DOMNodeInserted",c(N)),e.addEventListener("DOMNodeRemoved",c(w))),e.addEventListener(P,f),e.addEventListener("readystatechange",f),e.createElement=function(t,n){var r=ue.apply(e,arguments),a=""+t,i=U.call(I,(n?S:R)+(n||a).toUpperCase()),o=i>-1;return n&&(r.setAttribute("is",n=n.toLowerCase()),o&&(o=l(a.toUpperCase(),n))),de=!e.createElement.innerHTMLHelper,o&&A(r,q[i]),r},te.cloneNode=function(t){var e=ae.call(this,!!t),n=u(e);return n>-1&&A(e,q[n]),t&&i(e.querySelectorAll(j)),e}),-2<U.call(I,S+r)+U.call(I,R+r))throw new Error("A "+t+" type is already registered");if(!V.test(r)||-1<U.call(D,r))throw new Error("The type "+t+" is invalid");var r,s=function(){return p?e.createElement(d,r):e.createElement(d)},h=n||H,p=Z.call(h,L),d=p?n[L].toUpperCase():r,v=I.push((p?S:R)+r)-1;return j=j.concat(j.length?",":"",p?d+'[is="'+t.toLowerCase()+'"]':d),s.prototype=q[v]=Z.call(h,"prototype")?h.prototype:Y(te),a(e.querySelectorAll(j),N),s}}}(window,document,Object,"registerElement"),define("fusion-worker/dist/deps/fusion",["require"],function(){function t(t){return null==t?String(t):l[s.call(t)]||"object"}function e(t){return null!=t&&t==t.window}function n(e){return"function"==t(e)}function r(n){var r=!!n&&"length"in n&&n.length,a=t(n);return"function"!=a&&!e(n)&&("array"==a||0===r||"number"==typeof r&&r>0&&r-1 in n)}function a(t,e){var n,a;if(r(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(a in t)if(e.call(t[a],a,t[a])===!1)return t;return t}function i(t,e){if(t){var n;switch(t){case String:n=String(e);break;case Boolean:n="true"===e||e===!0;break;case Number:n=Number(e);break;case Array:case Object:n="string"==typeof e?JSON.parse(e):e}return n}}function o(){}{var u=function(){},l={},s=l.toString;l.hasOwnProperty,[].slice}"Boolean Number String Function Array Date RegExp Object Error".split(" ").forEach(function(t){l["[object "+t+"]"]=t.toLowerCase()}),o.prototype={elementPrototype:HTMLElement.prototype,props:{},created:u,init:u,_inited:!1,attached:u,detached:u,render:u,_handlers:{},on:function(t,e){this._handlers[t]||(this._handlers[t]=[]);var n={};n.fn=e;var r=this;n.proxy=function(t){var n=e.apply(r.element,void 0==t._args?[t]:[t].concat(t._args));return n===!1&&(t.preventDefault(),t.stopPropagation()),n},this._handlers[t].push(n),this.element.addEventListener(t,n.proxy,!1)},off:function(t,e){var n=this;if(t){var r,i=this._handlers[t];e&&(i=i.filter(function(t,n){return t.fn===e?(r=n,!0):!1})),i.forEach(function(e){n.elemnt.removeEventListener(t,e.proxy,!1)}),void 0!==r?this._handlers[t].splice(r,1):this._handlers[t]=[]}else a(this._handlers,function(t,e){a(e,function(e,r){n.element.removeEventListener(t,r.proxy,!1)})})},trigger:function(t,e,n){var r=document.createEvent("Event");void 0===n&&(n=!0),r.initEvent(t,n,!0),void 0!=e&&(r._args=e),this.element.dispatchEvent(r)},getProp:function(t){var e;if(t){var n=this.props[t];n&&(e=this.element.getAttribute(t)||("function"==typeof n.value?n.value():n.value),e=i(n.type,e))}else{e={};var r=this;a(this.props,function(t){e[t]=r.getProp(t)})}return e},_super:u};var c=function(t,e,r){var u,l,s,c;return r||(r=e,e=o),u=function(t){return t?void(this.element=t):(t=new s,t.fusion)},l=Object.create(e.prototype),a(r,function(t,r){var a;n(r)?(a=function(){return e.prototype[t].apply(this,arguments)},l[t]=function(){var t,e=this._super;this._super=a;try{t=r.apply(this,arguments)}finally{this._super=e}return t}):l[t]=r}),u.prototype=l,l.constructor=u,c=Object.create(e.prototype.elementPrototype),c.createdCallback=function(){this.fusion=new u(this),this.fusion.render(),this.fusion.created()},c.attachedCallback=function(){this.fusion._inited||(this.fusion.init(),this.fusion._inited=!0),this.fusion.attached(),this.fusionReady?this.fusionReady():Object.defineProperty(this,"fusionReady",{configurable:!0,enumerable:!0,set:function(t){"function"==typeof t&&t()}})},c.detachedCallback=function(){this.fusion.detached()},c.attributeChangedCallback=function(t,e,n){var r=this.fusion.props;if(r[t]&&r[t].onChange){var a=r[t].type;e=i(a,e),n=i(a,n),r[t].onChange.call(this.fusion,e,n)}},s=document.registerElement(t,{prototype:c}),c.constructor=s,l.elementPrototype=c,u};return c});
;/*!static/fusion-worker/dist/deps/etpl.js*/
!function(t){function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(){this.raw=[],this.length=0}function r(){return"___"+P++}function i(t,e){var n=new Function;n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t){return D[t]}function s(t){return'"'+t.replace(/\x5C/g,"\\\\").replace(/"/g,'\\"').replace(/\x0A/g,"\\n").replace(/\x09/g,"\\t").replace(/\x0D/g,"\\r")+'"'}function a(t){return t.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(t){return"\\"+t})}function p(t){var e=arguments;return t.replace(/\{([0-9]+)\}/g,function(t,n){return e[n-0+1]})}function h(t){return t=t.replace(/^\s*\*/,""),p('gv({0},["{1}"])',s(t),t.replace(/\[['"]?([^'"]+)['"]?\]/g,function(t,e){return"."+e}).split(".").join('","'))}function l(t,e,n,r,i,o){for(var s=n.length,a=t.split(e),p=0,h=[],l=0,c=a.length;c>l;l++){var u=a[l];if(l){var f=1;for(p++;;){var d=u.indexOf(n);if(0>d){h.push(p>1&&f?e:"",u);break}if(p=r?p-1:0,h.push(p>0&&f?e:"",u.slice(0,d),p>0?n:""),u=u.slice(d+s),f=0,0===p)break}0===p&&(i(h.join("")),o(u),h=[])}else u&&o(u)}p>0&&h.length>0&&(o(e),o(h.join("")))}function c(t,e,n){var r,i=[],o=e.options,a="",p="",u="",f="";return n&&(a="ts(",p=")",u=_,f=j,r=o.defaultFilter),l(t,o.variableOpen,o.variableClose,1,function(t){n&&t.indexOf("|")<0&&r&&(t+="|"+r);var o=t.indexOf("|"),s=(o>0?t.slice(0,o):t).replace(/^\s+/,"").replace(/\s+$/,""),l=o>0?t.slice(o+1):"",d=0===s.indexOf("*"),g=[d?"":a,h(s),d?"":p];if(l){l=c(l,e);for(var y=l.split("|"),v=0,m=y.length;m>v;v++){var R=y[v];/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(R)&&(g.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3&&g.push(",",RegExp.$3),g.push(")"))}}i.push(u,g.join(""),f)},function(t){i.push(u,n?s(t):t,f)}),i.join("")}function u(t,e){this.value=t,this.engine=e}function f(t,e){this.value=t,this.engine=e,this.children=[],this.cloneProps=[]}function d(t,e){var n=t.stack,r=e?n.find(function(t){return t instanceof e}):n.bottom();if(r){for(var i;(i=n.top())!==r;){if(!i.autoClose)throw new Error(i.type+" must be closed manually: "+i.value);i.autoClose(t)}r.close(t)}return r}function g(t,e){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(t))throw new Error("Invalid "+this.type+" syntax: "+t);this.master=RegExp.$3,this.name=RegExp.$1,f.call(this,t,e),this.blocks={}}function y(t,e){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(t))throw new Error("Invalid "+this.type+" syntax: "+t);this.name=RegExp.$1,f.call(this,t,e),this.cloneProps=["name"]}function v(t,e){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(t))throw new Error("Invalid "+this.type+" syntax: "+t);this.name=RegExp.$1,f.call(this,t,e),this.cloneProps=["name","state","blocks"],this.blocks={}}function m(t,e){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(t))throw new Error("Invalid "+this.type+" syntax: "+t);this.name=RegExp.$1,this.expr=RegExp.$2,f.call(this,t,e),this.cloneProps=["name","expr"]}function R(t,e){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(t))throw new Error("Invalid "+this.type+" syntax: "+t);this.name=RegExp.$1,this.args=RegExp.$3,f.call(this,t,e),this.cloneProps=["name","args"]}function x(t,e){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(t))throw new Error("Invalid "+this.type+" syntax: "+t);this.name=RegExp.$1,this.args=RegExp.$3,f.call(this,t,e),this.cloneProps=["name","args"]}function E(t,e){var n=new RegExp(p("^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$",a(e.options.variableOpen),a(e.options.variableClose)),"i");if(!n.test(t))throw new Error("Invalid "+this.type+" syntax: "+t);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,f.call(this,t,e),this.cloneProps=["list","item","index"]}function w(t,e){f.call(this,t,e)}function b(t,e){w.call(this,t,e)}function $(t,e){f.call(this,t,e)}function k(t,e){e.target=t;var n=e.engine,r=t.name;if(n.targets[r])switch(n.options.namingConflict){case"override":n.targets[r]=t,e.targets.push(r);case"ignore":break;default:throw new Error("Target exists: "+r)}else n.targets[r]=t,e.targets.push(r)}function C(t,e){L[t]=e,e.prototype.type=t}function A(t){this.options={commandOpen:"<%",commandClose:"%>",commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:"${",variableClose:"}",defaultFilter:"html",namingConflict:"override"},this.config(t),this.targets={},this.filters=e({},B)}function O(t,e){function r(){var t;if(c.length>0&&(t=c.join(""))){var n=new u(t,e);n.beforeAdd(h),p.top().addChild(n),c=[],e.options.strip&&h.current instanceof f&&(n.value=t.replace(/^[\x20\t\r]*\n/,"")),h.current=n}}var i,o=e.options.commandOpen,s=e.options.commandClose,a=e.options.commandSyntax,p=new n,h={engine:e,targets:[],stack:p,target:null},c=[];return l(t,o,s,0,function(t){var n=a.exec(t);if(n&&(i=L[n[2].toLowerCase()])&&"function"==typeof i){r();var p=h.current;e.options.strip&&p instanceof u&&(p.value=p.value.replace(/\r?\n[\x20\t]*$/,"\n")),n[1]?p=d(h,i):(p=new i(n[3],e),"function"==typeof p.beforeOpen&&p.beforeOpen(h),p.open(h)),h.current=p}else/^\s*\/\//.test(t)||c.push(o,t,s);i=null},function(t){c.push(t)}),r(),d(h),h.targets}n.prototype={push:function(t){this.raw[this.length++]=t},pop:function(){if(this.length>0){var t=this.raw[--this.length];return this.raw.length=this.length,t}},top:function(){return this.raw[this.length-1]},bottom:function(){return this.raw[0]},find:function(t){for(var e=this.length;e--;){var n=this.raw[e];if(t(n))return n}}};var P=178245,D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B={html:function(t){return t.replace(/[&<>"']/g,o)},url:encodeURIComponent,raw:function(t){return t}},I='var r="";',_="r+=",j=";",z="return r;";"undefined"!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8&&(I="var r=[],ri=0;",_="r[ri++]=",z='return r.join("");'),u.prototype={getRendererBody:function(){var t=this.value,e=this.engine.options;return!t||e.strip&&/^\s*$/.test(t)?"":c(t,this.engine,1)},clone:function(){return this}},f.prototype={addChild:function(t){this.children.push(t)},open:function(t){var e=t.stack.top();e&&e.addChild(this),t.stack.push(this)},close:function(t){t.stack.top()===this&&t.stack.pop()},getRendererBody:function(){for(var t=[],e=this.children,n=0;n<e.length;n++)t.push(e[n].getRendererBody());return t.join("")},clone:function(){for(var t=new this.constructor(this.value,this.engine),e=0,n=this.children.length;n>e;e++)t.addChild(this.children[e].clone());for(var e=0,n=this.cloneProps.length;n>e;e++){var r=this.cloneProps[e];t[r]=this[r]}return t}};var S='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';i(g,f),i(y,f),i(v,f),i(m,f),i(R,f),i(x,f),i(E,f),i(w,f),i(b,w),i($,w);var F={READING:1,READED:2,APPLIED:3,READY:4};v.prototype.applyMaster=g.prototype.applyMaster=function(t){function e(t){var r=t.children;if(r instanceof Array)for(var i=0,o=r.length;o>i;i++){var s=r[i];s instanceof y&&n[s.name]&&(s=r[i]=n[s.name]),e(s)}}if(this.state>=F.APPLIED)return 1;var n=this.blocks,r=this.engine.targets[t];return r&&r.applyMaster(r.master)?(this.children=r.clone().children,e(this),this.state=F.APPLIED,1):void 0},g.prototype.isReady=function(){function t(r){for(var i=0,o=r.children.length;o>i;i++){var s=r.children[i];if(s instanceof v){var a=e.targets[s.name];n=n&&a&&a.isReady(e)}else s instanceof f&&t(s)}}if(this.state>=F.READY)return 1;var e=this.engine,n=1;return this.applyMaster(this.master)?(t(this),n&&(this.state=F.READY),n):void 0},g.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var t=new Function("data","engine",[S,I,this.getRendererBody(),z].join("\n")),e=this.engine;return this.renderer=function(n){return t(n,e)},this.renderer}return null},g.prototype.open=function(t){d(t),f.prototype.open.call(this,t),this.state=F.READING,k(this,t)},m.prototype.open=x.prototype.open=function(t){t.stack.top().addChild(this)},y.prototype.open=function(t){f.prototype.open.call(this,t),(t.imp||t.target).blocks[this.name]=this},b.prototype.open=function(t){var e=new $;e.open(t);var n=d(t,w);n.addChild(this),t.stack.push(this)},$.prototype.open=function(t){var e=d(t,w);e.addChild(this),t.stack.push(this)},v.prototype.open=function(t){this.parent=t.stack.top(),this.target=t.target,f.prototype.open.call(this,t),this.state=F.READING,t.imp=this},x.prototype.close=m.prototype.close=function(){},v.prototype.close=function(t){f.prototype.close.call(this,t),this.state=F.READED,t.imp=null},g.prototype.close=function(t){f.prototype.close.call(this,t),this.state=this.master?F.READED:F.APPLIED,t.target=null},v.prototype.autoClose=function(t){var e=this.parent.children;e.push.apply(e,this.children),this.children.length=0;for(var n in this.blocks)this.target.blocks[n]=this.blocks[n];this.blocks={},this.close(t)},x.prototype.beforeOpen=v.prototype.beforeOpen=m.prototype.beforeOpen=E.prototype.beforeOpen=R.prototype.beforeOpen=y.prototype.beforeOpen=w.prototype.beforeOpen=u.prototype.beforeAdd=function(t){if(!t.stack.bottom()){var e=new g(r(),t.engine);e.open(t)}},v.prototype.getRendererBody=function(){return this.applyMaster(this.name),f.prototype.getRendererBody.call(this)},x.prototype.getRendererBody=function(){return p("{0}engine.render({2},{{3}}){1}",_,j,s(this.name),c(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(t,e,n){return(e||"")+s(n)+":"}))},m.prototype.getRendererBody=function(){return this.expr?p("v[{0}]={1};",s(this.name),c(this.expr,this.engine)):""},w.prototype.getRendererBody=function(){return p("if({0}){{1}}",c(this.value,this.engine),f.prototype.getRendererBody.call(this))},$.prototype.getRendererBody=function(){return p("}else{{0}",f.prototype.getRendererBody.call(this))},E.prototype.getRendererBody=function(){return p('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',r(),c(this.list,this.engine),s(this.index||r()),s(this.item),r(),r(),f.prototype.getRendererBody.call(this))},R.prototype.getRendererBody=function(){var t=this.args;return p("{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}",I,z,_,j,f.prototype.getRendererBody.call(this),s(this.name),t?","+c(t,this.engine):"")};var L={};C("target",g),C("block",y),C("import",v),C("use",x),C("var",m),C("for",E),C("if",w),C("elif",b),C("else",$),C("filter",R),A.prototype.config=function(t){e(this.options,t)},A.prototype.compile=A.prototype.parse=function(t){if(t){var e=O(t,this);if(e.length)return this.targets[e[0]].getRenderer()}return new Function('return ""')},A.prototype.getRenderer=function(t){var e=this.targets[t];return e?e.getRenderer():void 0},A.prototype.render=function(t,e){var n=this.getRenderer(t);return n?n(e):""},A.prototype.addFilter=function(t,e){"function"==typeof e&&(this.filters[t]=e)};var M=new A;M.Engine=A,"object"==typeof exports&&"object"==typeof module?exports=module.exports=M:"function"==typeof define&&define.amd?define("fusion-worker/dist/deps/etpl",[],M):t.etpl=M}(this);
;/*!static/fusion-worker/dist/deps/fusion.best.js*/
define("fusion-worker/dist/deps/fusion.best",["require","fusion-worker/dist/deps/fusion","fusion-worker/dist/deps/etpl"],function(e){var t=e("fusion-worker/dist/deps/fusion"),s=e("fusion-worker/dist/deps/etpl"),i=t("best-fusion-worker",{css:"",tpl:"",$:function(e){return $(this.element).find(e)},holdChild:!1,render:function(){if(!this.constructor.styled&&this.css){var e=document.createElement("style");e.setAttribute("data-for","fusion"),e.innerText=this.css,document.querySelector("head").appendChild(e),this.constructor.styled=!0}if(!this.holdChild){var t=s.compile(this.tpl),i=this.getProp();this.element.innerHTML=t(i)}}}),r=function(e,s){var r=t(e,i,s);return r};return r});
;/*!static/fusion-worker/dist/deps/detect.js*/
define("fusion-worker/dist/deps/detect",["require"],function(){function e(){if(o){var e,r="";return $&&$.os?$.os.ios?e="ios":$.os.android&&(e="android"):e=o.indexOf("iphone")>-1||o.indexOf("ipod")>-1?"ios":"android",{n:e,v:r}}}function r(){if(o){var e,r="";return-1!=o.indexOf("baiduboxapp/")?e="zbios":-1!=o.indexOf("baidubrowser/")?(e="bmbadr",r=o.match(/baidubrowser\/([\d\.]*)/),r=r&&r[1]?r[1]:""):-1!=o.indexOf("mqqbrowser/")&&-1===o.indexOf("micromessenger/")?(e="qq",r=o.match(/mqqbrowser\/([\d\.]*)/),r=r&&r[1]?r[1]:""):-1!=o.indexOf("micromessenger/")?(e="wechat",r=o.match(/micromessenger\/([\d\.]*)/),r=r&&r[1]?r[1]:""):-1!=o.indexOf("ucbrowser/")?(e="uc",r=o.match(/ucbrowser\/([\d\.]*)/),r=r&&r[1]?r[1]:""):-1!=o.indexOf("sogoumobilebrowser/")?(e="sogou",r=o.match(/sogoumobilebrowser\/([\d\.]*)/),r=r&&r[1]?r[1]:""):-1!=o.indexOf("crios/")?(e="chrome",r=o.match(/crios\/([\d\.]*)/),r=r&&r[1]?r[1]:""):e="other",{n:e,v:r}}}var o=navigator.userAgent.toLowerCase();return{os:e(),browser:r()}});
;/*!static/fusion-worker/dist/deps/naboo.js*/
!function(t,n){"function"==typeof define&&define.amd?define("fusion-worker/dist/deps/naboo",[],n):t.Naboo=n()}(this,function(){function t(){this.steps=[],this._index=-1,this._handlers={}}return t.prototype.start=function(t){t&&this.on("end",t),this.trigger("start"),this.next()},t.prototype.next=function(){if(this._index++,this._index>=this.steps.length)this.trigger("end");else{var t=this.steps[this._index];t.call(this)}},t.prototype.cancel=function(){this._index=this.steps.length},t.prototype.on=function(t,n){this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(n)},t.prototype.off=function(t,n){if(t){var e=this._handlers[t];if(n){if("[object Array]"===Object.prototype.toString.call(e)){for(var i=0,s=e.length;s>i&&e[i]!==n;i++);this._handlers[t].splice(i,1)}}else this._handlers[t]=[]}else this._handlers={}},t.prototype.trigger=function(t,n){var e=this._handlers[t];e&&e.forEach(function(t){t.call(null,n)})},t.register=function(n,e){t[n]=function(){var e=new t;return e[n].apply(e,arguments),e},t.prototype[n]=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift(this.next.bind(this)),this.steps.push(function(){e.apply(this,t)}),this}},t.register("p",function(t){var n=Array.prototype.slice.call(arguments,1),e=n.length;n.forEach(function(n){n.start(function(){e--,0===e&&t()})})}),t});
;/*!static/fusion-worker/dist/deps/spark.js*/
!function(e,t){"function"==typeof define&&define.amd?define("fusion-worker/dist/deps/spark",[],t):e.Spark=t()}(this,function(){var e={};return e.disposed=!1,e.dispose=function(){e.disposed=!0},function(){function t(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function n(e){return r?r+e:e.toLowerCase()}function a(e,n){var a="";for(key in n)n[key]||0===n[key]?a+=t(key)+":"+n[key]+";":e.style.removeProperty(t(key));e.style.cssText+=";"+a}function i(e){return e.indexOf("translate")>-1?!0:(I.style[e]=0,"px"===I.style[e].replace(/\d/g,"")?!0:!1)}var r,o,u,s,f,c,d,l,m,p,y,w,h,v="",M={Webkit:"webkit",Moz:"",O:"o"},I=document.createElement("div"),b=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,O=Number.isNaN||window.isNaN;if(void 0===I.style.transform)for(var A in M)if(void 0!==I.style[A+"TransitionProperty"]){v="-"+A.toLowerCase()+"-",r=M[A];break}o=v+"transform",u=v+"transition-property",s=v+"transition-duration",c=v+"transition-delay",f=v+"transition-timing-function",w=n("TransitionEnd"),d=v+"animation-name",l=v+"animation-duration",p=v+"animation-delay",m=v+"animation-timing-function",y=v+"animation-fill-mode",h=n("AnimationEnd");var g={};g[u]="",g[s]="",g[c]="",g[f]="",g[d]="",g[l]="",g[p]="",g[m]="";var k=void 0===r&&void 0===I.style.transitionProperty,P={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out"},F=/^@(?:-webkit-)?keyframes\s+(?:['"])?(\w+)(?:['"])?\s*{/;e.css3=function(n,r,v,M,I,A){if(e.disposed=!1,n&&r){n.getAttribute("data-naboo")||n.setAttribute("data-naboo",0),n.setAttribute("data-naboo",+n.getAttribute("data-naboo")+1),v=k?0:Number(v)||400,v=Math.max(v,0),M=P[M]||"linear",I=Number(I)||0;var q,x={};if(v/=1e3,I/=1e3,"string"==typeof r){var T;if(F.test(r)){T=r.match(F)[1];var E=T+"_"+Date.now(),C=document.createElement("style");C.innerText=r.replace(new RegExp(T,"g"),E),document.head.appendChild(C),T=E}else T=r;x[d]=n.style[d]+(n.style[d]?", ":"")+T,x[l]=n.style[l]+(n.style[l]?", ":"")+v+"s",x[m]=n.style[m]+(n.style[m]?", ":"")+M,x[p]=n.style[p]+(n.style[p]?", ":"")+I+"s",x[y]="both",q=h}else if("[object Object]"===Object.prototype.toString.call(r)){var L=[],N="";for(var j in r){var B=r[j];!O(Number(B))&&i(j)&&(B+="px"),b.test(j)?N+=j+"("+B+") ":(x[j]=B,L.push(t(j)))}N&&(x[o]=N,L.push(o)),v>0&&(x[u]=n.style[u]+(n.style[u]?", ":"")+L.join(", "),x[s]=n.style[s]+(n.style[s]?", ":"")+v+"s",x[f]=n.style[f]+(n.style[f]?", ":"")+M,x[c]=n.style[c]+(n.style[c]?", ":"")+I+"s"),q=w}var D=!1,S=function(e){if(!e||e.elapsedTime===v+I){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;e.target.removeEventListener(q,S)}else n.removeEventListener(q,S);D=!0,n.setAttribute("data-naboo",+n.getAttribute("data-naboo")-1),0===+n.getAttribute("data-naboo")&&a(n,g),A&&A()}};v>0&&(n.addEventListener(q,S),setTimeout(function(){e.disposed||D||S()},1e3*(v+I)+25)),n.clientLeft,a(n,x)}}}(),function(){function t(e,t,n,a,i,r,o,u){function s(){f=Date.now();var l=f-c,m=o(l,n,d,r);i&&(m+=""+i),void 0!==e.style[t]?e.style[t]=m:e[t]=m,r>l?window.requestAnimationFrame(s):(void 0!==e.style[t]?e.style[t]=a+""+i:e[t]=a+""+i,u())}var f,c=Date.now(),d=a-n;s()}var n={Linear:{easeIn:function(e,t,n,a){return n*e/a+t},easeOut:function(e,t,n,a){return n*e/a+t},easeInOut:function(e,t,n,a){return n*e/a+t}},Quad:{easeIn:function(e,t,n,a){return n*(e/=a)*e+t},easeOut:function(e,t,n,a){return-n*(e/=a)*(e-2)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e+t},easeOut:function(e,t,n,a){return-n*((e=e/a-1)*e*e*e-1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+t},easeOut:function(e,t,n,a){return n*Math.sin(e/a*(Math.PI/2))+t},easeInOut:function(e,t,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+t}},Expo:{easeIn:function(e,t,n,a){return 0==e?t:n*Math.pow(2,10*(e/a-1))+t},easeOut:function(e,t,n,a){return e==a?t+n:n*(-Math.pow(2,-10*e/a)+1)+t},easeInOut:function(e,t,n,a){return 0==e?t:e==a?t+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t}},Circ:{easeIn:function(e,t,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOut:function(e,t,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,a,i,r){var o;return 0==e?t:1==(e/=a)?t+n:("undefined"==typeof r&&(r=.3*a),!i||i<Math.abs(n)?(o=r/4,i=n):o=r/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/r))+t)},easeOut:function(e,t,n,a,i,r){var o;return 0==e?t:1==(e/=a)?t+n:("undefined"==typeof r&&(r=.3*a),!i||i<Math.abs(n)?(i=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin(2*(e*a-o)*Math.PI/r)+n+t)},easeInOut:function(e,t,n,a,i,r){var o;return 0==e?t:2==(e/=a/2)?t+n:("undefined"==typeof r&&(r=.3*a*1.5),!i||i<Math.abs(n)?(i=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/r)+t:i*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/r)*.5+n+t)}},Back:{easeIn:function(e,t,n,a,i){return"undefined"==typeof i&&(i=1.70158),n*(e/=a)*e*((i+1)*e-i)+t},easeOut:function(e,t,n,a,i){return"undefined"==typeof i&&(i=1.70158),n*((e=e/a-1)*e*((i+1)*e+i)+1)+t},easeInOut:function(e,t,n,a,i){return"undefined"==typeof i&&(i=1.70158),(e/=a/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t}},Bounce:{easeIn:function(e,t,a,i){return a-n.Bounce.easeOut(i-e,0,a,i)+t},easeOut:function(e,t,n,a){return(e/=a)<1/2.75?7.5625*n*e*e+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,a,i){return i/2>e?.5*n.Bounce.easeIn(2*e,0,a,i)+t:.5*n.Bounce.easeOut(2*e-i,0,a,i)+.5*a+t}}};!function(){for(var t=0,n=["webkit","moz"],a=0;a<n.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[n[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[a]+"CancelAnimationFrame"]||window[n[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var a=(new Date).getTime(),i=Math.max(0,16.7-(a-t)),r=window.setTimeout(function(){e.disposed||n(a+i)},i);return t=a+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e.js=function(a,i,r,o,u,s,f){e.disposed=!1;var c=n[o][u],d=a.ownerDocument.defaultView.getComputedStyle(a,null);f||(f=s,s=0);var l=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;setTimeout(function(){if(!e.disposed){var n=0;for(var o in i){n++;var u=d[o]||d.getPropertyValue(o);u||0===u||(u=a[o]);var s=l.exec(u),m=s[3];u=parseFloat(s[2]);var p=parseFloat(i[o]);t(a,o,u,p,m,r,c,function(){n--,0>=n&&f()})}}},s)}}(),e});
;/*!static/fusion-worker/dist/b-popup/b-popup.js*/
define("fusion-worker/dist/b-popup/b-popup",["require","fusion-worker/dist/deps/fusion.best","fusion-worker/dist/deps/naboo","fusion-worker/dist/deps/spark"],function(t){var e=t("fusion-worker/dist/deps/fusion.best"),o=t("fusion-worker/dist/deps/naboo"),n=t("fusion-worker/dist/deps/spark"),i=e("b-popup-worker",{css:"/*wrapper*/.b-popup-wrapper {  z-index: 900;}/**/.b-popup-mask {  display: none;  position: fixed;  left: 0;  top: 0;  opacity: 0;  width: 100%;  height: 100%;  background: rgba(0, 0, 0, 0.5);  z-index: 901;}/*headcontent*/.b-popup-modal {  display: none;  position: fixed;  left: 0;  width: 100%;  background-color: #fff;  z-index: 902;  margin: 0;  overflow: hidden;  -webkit-transform: translate3d(0, 100%, 0);  transform: translate3d(0, 100%, 0);}/**/.b-popup-head {  font-size: 18px;  margin: 10px 26px;}/*title*/.b-popup-title {  overflow: hidden;  white-space: nowrap;  text-overflow: ellipsis;}/*remove*/.b-popup-remove {  line-height: 17px;  position: absolute;  right: 8px;  top: 10px;}/**/.b-popup-content {  text-align: center;  margin: 0 26px 10px;}",tpl:'<div class="b-popup-wrapper">\n    <div class="b-popup-modal">\n        <div class="b-popup-head">\n            <div class="b-popup-title">${title|raw}</div>\n            <div class="b-popup-remove c-icon">&#xe61a</div>\n        </div>\n        <div class="b-popup-content">${content|raw}</div>\n    </div>\n    <div class="b-popup-mask"></div>\n</div>\n',props:{title:{type:String,value:"",onChange:function(){this.render()}},content:{type:String,value:"",onChange:function(){this.render()}},fullView:{type:Boolean,value:!1},duration:{type:Number,value:400},direction:{type:String,value:"bottom"},headerStyle:{type:Object,value:{}}},init:function(){o.register("fade",function(t,e,o,i){n.css3(e,{opacity:i},o,"ease",0,function(){t()})}),o.register("slide",function(t,e,o,i,r){switch(i){case"left":var s="translate3d( -"+r+", 0, 0)";break;case"right":var s="translate3d("+r+", 0, 0)";break;case"top":var s="translate3d(0, -"+r+", 0)";break;default:var s="translate3d(0, "+r+", 0)"}var a={transform:s,"-webkit-transform":s};n.css3(e,a,o,"ease",0,function(){$(e).css({transform:"none","-webkit-transform":"none"}),t()})});var t=this;$(this.element).on("click",".b-popup-mask,.b-popup-remove",function(){t.close()}).on("touchmove",".b-popup-content",function(t){t.stopPropagation()})},open:function(){var t=this,e=$(window).height(),n=this.$(".b-popup-mask"),i=this.$(".b-popup-modal"),r=this.getProp("fullView");(r||i.height()>e)&&i.height("100%");var s=this.getProp("headerStyle");s&&(r||i.height()>=e)&&i.find(".b-popup-head").css({"background-color":s.bg,color:s.color}),n.show();var a=this.getProp("direction");switch(a){case"top":$("#sfa-head").length&&!r&&(n.css("z-index","498"),i.css({"z-index":"499",top:"44px!important"})),i.css({top:0,transform:"translate3d(0, -100%, 0)","-webkit-transform":"translate3d(0, -100%, 0)"});break;case"left":i.css({bottom:0,transform:"translate3d(-100%, 0, 0)","-webkit-transform":"translate3d(-100%, 0, 0)"});break;case"right":i.css({bottom:0,transform:"translate3d(100%, 0, 0)","-webkit-transform":"translate3d(100%, 0, 0)"});break;default:i.css({bottom:0,transform:"translate3d(0, 100%, 0)","-webkit-transform":"translate3d(0, 100%, 0)"})}i.show();var p=this.getProp("duration");o.p(o.fade(n.get(0),p,1),o.slide(i.get(0),p,a,"0")).start(function(){t.trigger("opened")})},close:function(){var t=this,e=this.$(".b-popup-mask"),n=this.$(".b-popup-modal"),i=this.getProp("duration"),r=this.getProp("direction");o.p(o.fade(e.get(0),i,0),o.slide(n.get(0),i,r,"100%")).start(function(){e.hide(),n.hide(),t.trigger("closed")})},detached:function(){n.dispose()}});return i});
;/*!static/fusion-worker/dist/deps/aio.js*/
define("fusion-worker/dist/deps/aio",["require"],function(){!function(n,o){function e(n,o){return l.cleanObj.toString.call(n).slice(8,-1)===o}function t(n){var o=m[n];if(o)return o.exports;throw"module "+n+" is undefined"}function r(n,o){for(var e,r,i=n.split(":"),a=i.pop().split("/"),s=l;e=a.shift();)"bdbox"!==e&&(r=e,a.length&&(s=s[e]=s[e]||{}));var c=m[n]={exports:{}},u=l.isFunction(o)?o.apply(c,[t,c.exports,c,l]):o;u&&(c.exports=u),s[r]=c.exports}function i(){f.forEach(function(n){n()}),f.length=0,v=!0}function a(n){var o;return null==n?o=String(n):(o=Object.prototype.toString.call(n).toLowerCase(),o=o.substring(8,o.length-1)),o}function s(o){var e=o.success||g,t={imageUrl:"",mediaType:"all",title:"",content:"",linkUrl:location.href},r=o.error||g;return l.isFunction(o.success)&&(e="_xSHARE_SUCCESS_"+l.getId(),n[e]=o.success,t.success=e),l.isFunction(o.error)&&(r="_xSHARE_FAIL_"+l.getId(),n[r]=o.error,t.error=r),l.each(o,function(n,e){"success"!==e&&"error"!==e&&(e in b?e=b[e]:"content"!==e||o.title||(t.title=n),t[e]=n)}),l.isArray(t.mediaType)&&(t.mediaType="all"),n.BoxShareData||(n.BoxShareData={successcallback:e,errorcallback:r,options:t}),t}var c=+new Date,u=(c+"").slice(-3),d=navigator.userAgent,l={isBox:/ baiduboxapp\//i.test(d),isIOS:/(iPhone|iPod|iPad)/.test(d),isAndroid:/(Android);?[\s\/]+([\d.]+)?/.test(d),getId:function(){return u++},emptyArr:[],emptyFn:function(){},cleanObj:{},byId:function(n){return l.isString(n)?o.getElementById(n):n},toArray:function(n){return l.emptyArr.slice.call(n)},$:function(n,e){return e=e&&1===e.nodeType?e:o,l.toArray(e.querySelectorAll(n))}};"Function,String,Array,Number,RegExp".replace(/[^, ]+/g,function(n){l["is"+n]=function(o){return e(o,n)}}),l.isBoolean=function(n){return n===!0||n===!1},l.isObject=function(n){return"object"==typeof n},l.isUndefined=function(n){return void 0===n},l.isWindow=function(n){return null!=n&&n==n.window},l.isPlainObject=function(n){return l.isObject(n)&&!l.isWindow(n)&&Object.getPrototypeOf(n)==Object.prototype};var m={};l.define=r;var p=function(n,o,e){for(var t,r,i=n.split("."),a=e||p;t=i.shift();)"Box"!==t&&(r=t,i.length&&(a=a[t]=a[t]||{}));return a[r]=o||{},a[r]},f=[],v=!1;if(p.init=function(n){return"function"!=typeof n?this:(v?n():f.push(n),this)},"complete,loaded,interactive".indexOf(o.readyState)>-1&&o.body?i():o.addEventListener("DOMContentLoaded",i,!1),r("common:bdbox/utils/getVersion",function(o,e,t){var r=function(){var o=0;if(n.baiduboxapp_version)o=n.baiduboxapp_version;else{var e,t=navigator.userAgent;(e=/([\d+.]+)_(?:diordna|enohpi)_/.exec(t))?(e=e[1].split("."),o=e.reverse().join(".")):(e=/baiduboxapp\/([\d+.]+)/.exec(t))&&(o=e[1])}return r=function(){return o},o};t.exports=r}),r("common:bdbox/utils/version_compare",function(n,o,e){var t=function(n,o){o+="",n+="";for(var e=n.split("."),t=o.split("."),r=0,i=Math.max(e.length,t.length);i>r;r++){if(e[r]&&!t[r]&&parseInt(e[r])>0||parseInt(e[r])>parseInt(t[r]))return 1;if(t[r]&&!e[r]&&parseInt(t[r])>0||parseInt(e[r])<parseInt(t[r]))return-1}return 0};e.exports=t}),r("common:bdbox/ios/invokeApp",function(e,t,r,i){r.exports=function(e,t,r){if(e&&i.isBox){var a=[];if(i.isFunction(t))r=t;else for(var s in t)a.push(s+"="+t[s]);if(i.isFunction(r)){var c="_bdbox_js_"+i.getId();n[c]=function(){r.apply(n,[].slice.call(arguments,0))},a.push("func="+c)}else r&&a.push("func="+r);a="baiduboxapp://"+e+"?"+a.join("&");var u=o.createElement("iframe");u.style.display="none",u.src=a;var d=o.body||o.getElementsByTagName("body")[0];d.appendChild(u),setTimeout(function(){d.removeChild(u),u=null},0)}}}),r("common:bdbox/android/invokeApp",function(o,e,t,r){function i(o,e,t){if(t&&!r.isArray(t)&&(t=Array.prototype.slice.call(arguments,0).slice(2)),n[o]&&n[o][e]){var i=n[o][e].apply(n[o],t);return{error:0,result:i,__from:"js"}}var u=c();if(s(u,4.8)>=0){var d=a(o,e,t);return d=d?JSON.parse(d):{},d.__from="app",d}if("4.7.1"===u||"4.7"==u){var l=a(o,e,t);return{error:0,result:l,__from:"app4.7"}}return{error:200}}function a(o,e,t){if(!r.isBox)return{error:201};if(!r.isAndroid)return{error:202};var i={obj:o,func:e,args:t?t:[]};try{return n.prompt("BdboxApp:"+JSON.stringify(i))}catch(a){return{error:201}}}var s=o("common:bdbox/utils/version_compare"),c=o("common:bdbox/utils/getVersion");t.exports=i}),r("common:bdbox/utils/detect",function(o,e,t,r){function i(o){var e={name:"unknown",version:0};this===n||this.os||(this.os=e),o=o||navigator.userAgent;var t={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};for(var r in t)t.hasOwnProperty(r)&&(e["is"+r]=t[r].test(o));e.isUC=o.match(/UC/)||n.ucweb||n.ucbrowser;var i=o.match(/Windows Phone ([\d.]+)/);if(i)return e.win10=!0,e.version=i[1],e.name="win10",e;var a=o.match(/(Android);?\s+([\d.]+)?/);if(a)return e.android=!0,e.version=a[2],e.name="android",e;var s=o.match(/(iPad).*OS\s([\d_]+)/),c=o.match(/(iPod)(.*OS\s([\d_]+))?/),u=!s&&o.match(/(iPhone\sOS)\s([\d_]+)/);return u&&!c?(e.ios=e.iphone=!0,e.version=u[2].replace(/_/g,"."),e.name="ios",e):s?(e.ios=e.ipad=!0,e.name="ios",e.version=s[2].replace(/_/g,"."),e):c?(e.name="ios",e.ios=e.ipod=!0,e.version=c[3]?c[3].replace(/_/g,"."):null,e):e}i.apply(r),t.exports=i}),r("common:bdbox/each",function(n,o,e){function t(n){var o;return null==n?o=String(n):(o=Object.prototype.toString.call(n).toLowerCase(),o=o.substring(8,o.length-1)),o}e.exports=function(n,o,e){if("object"==typeof n){var r,i,a=t(n);if(e=e||n,"array"===a||"arguments"===a||"nodelist"===a){for(r=0,i=n.length;i>r;r++)if(o.call(e,n[r],r,n)===!1)return}else for(r in n)if(n.hasOwnProperty(r)&&o.call(e,n[r],r,n)===!1)return}}}),r("common:bdbox/client/nativeShare",function(e,t,r,i){function a(o){var e={wechatIcon:location.protocol+"//m.baidu.com/static/search/logo300.png",type:"url",mediaType:"all",linkUrl:location.href,title:c.title,success:"console.log",error:"console.log"};i.each(o||{},function(n,o){e[o]=n}),e.image&&(e.imageUrl=e.image),e.iconUrl&&!e.imageUrl&&"url"===e.type&&(e.imageUrl=e.iconUrl);var t={};["success","error"].forEach(function(o){var r=o;i.isFunction(e[o])&&(r="_xSHARE_SUCCESS_"+i.getId(),n[r]=e[o]),t[o+"callback"]=r,delete e[o]}),t.options=e,t.options.imageUrl&&i.isAndroid&&s(i.version,"6.5")<0&&delete t.options.imageUrl,n.BoxShareData=t;var r=e.wechatIcon;if(/micromessenger\//i.test(navigator.userAgent)&&r&&r.length>20){var a=c.createElement("div");a.id="wa-generalevent-wx-logo",a.style.display="none",a.innerHTML='<img src="'+r+'"/>';var u=c.body.firstChild;u?c.body.insertBefore(a,u):c.body.appendChild(a)}}var s=e("common:bdbox/utils/version_compare"),c=o;r.exports=a}),r("common:bdbox/utils/ready",function(n,e,t){function r(){a.forEach(function(n){n()}),a.length=0,s=!0}function i(n){"function"==typeof n&&(s?n():a.push(n))}var a=[],s=!1;"complete,loaded,interactive".indexOf(o.readyState)>-1&&o.body?r():o.addEventListener("DOMContentLoaded",r,!1),t.exports=i}),l.version=l.utils.getVersion(),l.version_compare=l.utils.version_compare,each=l.each,l.nativeShare=l.client.nativeShare,l.type=a,l.canI=function(n,o,e){return l.version_compare(l.version,n)>=0?l.isFunction(o)&&o():l.isFunction(e)&&e(),l},r("common:bdbox/client/o2o",function(n,o,e,t){var r=n("common:bdbox/android/invokeApp"),i=n("common:bdbox/ios/invokeApp"),a=encodeURIComponent,s=n("common:bdbox/each"),c=t.isAndroid?function(n,o){t.isObject(n)&&(o=n,n=n.url,delete o.url);var e=["S.bdsb_light_start_url="+a(n)];if(t.isObject(o)){var i=o.min_v;delete o.min_v;var c={color:"i.extra_actionbar_color_id",appid:"S.bdsb_wallet_appid"};s(o,function(n,o){"color"===o&&(n=4278190080|parseInt("0x"+n)),o=c[o]||o,e.push(o+"="+n)})}e=e.join(";");var u={intent:"intent:#Intent;"+e+";end",min_v:i&&""!=i?i:"16783629",mode:"0"};o&&o.component&&""!=o.component||(u.class="com.baidu.searchbox.wallet.WalletServiceActivity"),r("Bdbox_android_utils","command",[JSON.stringify(u)])}:function(n,o){t.isObject(n)&&(o=n,n=n.url,delete o.url);var e={openurl:a(n),minver:"5.3.0.0",isla:0,opentype:1,append:0,rbtnstyle:2};if(t.isObject(o)){var r={color:"barcolor"};s(o,function(n,o){o=r[o]||o,e[o]=n})}e.appid&&(e.isla=1),i("easybrowse",e)};e.exports=c}),l.o2o=l.client.o2o,"android"===l.os.name?p("card",{query:function(n,o){if(p.version_compare(p.version,"5.0")<0)return this;var e,t;p.isArray(n)?e=[JSON.stringify(n)]:(t=p.toArray(arguments),o=t.pop(),p.isFunction(o)?e=t:(e=p.toArray(arguments),o=null),e=[JSON.stringify(e)]);var r=p.android.invokeApp("Bdbox_android_card","mquery",e);return r=0===r.error&&r.result?JSON.parse(r.result):!1,p.isFunction(o)&&o(r),r},add:function(o,e){if(p.version_compare(p.version,"5.0")<0)return this;var t,r;p.isString(o)?t=[o]:p.isArray(o)?t=[JSON.stringify(o)]:(r=p.toArray(arguments),e=r.pop(),p.isFunction(e)?t=r:(t=p.toArray(arguments),e=null),t=[JSON.stringify(t)]);var i=null;if(p.version_compare(p.version,"5.5")>=0){var a="";p.isFunction(e)&&(a="__box_card_"+p.getId(),n[a]=function(n){var o=JSON.parse(n),t=!1;for(var r in o){t=o[r].st;break}e(t)}),i=p.android.invokeApp("Bdbox_android_card","madd",t.concat([a,0]))}else i=p.android.invokeApp("Bdbox_android_card","madd",t);return i}}):p("card",{query:function(n,o){if(p.version_compare(p.version,"5.0")<0)return this;var e,t;p.isArray(n)?e=[JSON.stringify(n)]:(t=p.toArray(arguments),o=t.pop(),p.isFunction(o)?e=t:(e=p.toArray(arguments),o=null),e=[JSON.stringify(e)]);var r=function(n){p.isFunction(o)&&o(JSON.parse(n)),r=null};p.ios.invokeApp("cardMquery",{params:encodeURIComponent(e)},r)},add:function(n,o){if(p.version_compare(p.version,"5.0")<0)return this;var e,t;p.isString(n)?e=[n]:p.isArray(n)?e=[JSON.stringify(n)]:(t=p.toArray(arguments),o=t.pop(),p.isFunction(o)?e=t:(e=p.toArray(arguments),o=null),e=[JSON.stringify(e)]);var r=function(n){var e=JSON.parse(n),t=!1;for(var i in e){t=e[i].st;break}p.isFunction(o)&&o(t),r=null};return p.ios.invokeApp("cardMadd",{params:encodeURIComponent(e),gohome:"0"},r),!0}}),r("common:bdbox/utils/jsonToQuery",function(n,o,e,t){e.exports=function(n){if(t.isString(n))return n;var o=[];for(var e in n)o.push(e+"="+n[e]);return o.join("&")}}),r("common:bdbox/io/loadJS",function(e,t,r,i){function a(e,t,r){var a,u,d,l=o.createElement("script");i.isString(e)?(a=e,i.isFunction(t)&&(r=t,t=null)):(a=e.url,t=e.data,r=e.success,u=e.error||i.emptyFn,d=e.timeout),i.isObject(t)&&(t=c(t)),t&&(a+=(-1===a.indexOf("?")?"?":"&")+t),a=a.replace(/[&?]{1,2}/,"?");var m;/=\?/.test(a)&&(m="_box_jsonp"+i.getId(),a=a.replace(/=\?/,"="+m));var p=s();d=d||2e4,l.type="text/javascript",l.src=a;var f,v=!0,h=function(){m&&delete n[m],f&&clearTimeout(f),l.onload=l.onreadystatechange=l.onerror=null,l=null},b=function(){!l||l.readyState&&!/loaded|complete/.test(l.readyState)||(h(),v&&i.isFunction(r)&&r.apply(null,i.toArray(arguments)),v=!1)},g=function(n){h(),v&&u(n),v=!1};m&&(n[m]=b),f=setTimeout(function(){h(),v&&u("timeout"),v=!1},d),l.onload=l.onreadystatechange=l.onerror=b,l.onerror=g,p.appendChild(l)}function s(){return o.head||o.getElementsByTagName("head")[0]||o.documentElement}var c=e("common:bdbox/utils/jsonToQuery");i.emptyFn,r.exports=a}),r("common:bdbox/utils/queryToJson",function(n,o,e){e.exports=function(n){var o=n.split("?"),e=o[1]?o[1]:o[0],t=e.split("&"),r={};return t.forEach(function(n){if(n=n.split("="),n[0].length>0){var o="";try{o=decodeURIComponent(n[1])||""}catch(e){}r[n[0]]=o}}),r}}),r("common:bdbox/extend",function(n,o,e,t){function r(n,o,e){for(var t in o)e&&(i(o[t])||a(o[t]))?(i(o[t])&&!i(n[t])&&(n[t]={}),a(o[t])&&!a(n[t])&&(n[t]=[]),r(n[t],o[t],e)):c(o[t])||(n[t]=o[t])}var i=t.isPlainObject,a=t.isArray,s=t.isBoolean,c=t.isUndefined;e.exports=function(n){var o,e=t.emptyArr.slice.call(arguments,1);return s(n)&&(o=n,n=e.shift()),e.forEach(function(e){r(n,e,o)}),n}}),r("common:bdbox/utils/ready",function(n,e,t){function r(){a.forEach(function(n){n()}),a.length=0,s=!0}function i(n){"function"==typeof n&&(s?n():a.push(n))}var a=[],s=!1;"complete,loaded,interactive".indexOf(o.readyState)>-1&&o.body?r():o.addEventListener("DOMContentLoaded",r,!1),t.exports=i}),r("common:bdbox/utils/detect",function(o,e,t,r){function i(o){var e={name:"unknown",version:0};this===n||this.os||(this.os=e),o=o||navigator.userAgent;var t={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};for(var r in t)t.hasOwnProperty(r)&&(e["is"+r]=t[r].test(o));e.isUC=o.match(/UC/)||n.ucweb||n.ucbrowser;var i=o.match(/Windows Phone ([\d.]+)/);if(i)return e.win10=!0,e.version=i[1],e.name="win10",e;var a=o.match(/(Android);?\s+([\d.]+)?/);if(a)return e.android=!0,e.version=a[2],e.name="android",e;var s=o.match(/(iPad).*OS\s([\d_]+)/),c=o.match(/(iPod)(.*OS\s([\d_]+))?/),u=!s&&o.match(/(iPhone\sOS)\s([\d_]+)/);return u&&!c?(e.ios=e.iphone=!0,e.version=u[2].replace(/_/g,"."),e.name="ios",e):s?(e.ios=e.ipad=!0,e.name="ios",e.version=s[2].replace(/_/g,"."),e):c?(e.name="ios",e.ios=e.ipod=!0,e.version=c[3]?c[3].replace(/_/g,"."):null,e):e}i.apply(r),t.exports=i}),r("common:bdbox/schema",function(n,e,t,r){function i(n,e){if(!n)return void e(!0);if(e=e||r.emptyFn,!r.isBox&&r.isIOS&&c(s.version,"9.0")>=0)return void u(function(){a(n,e)});var t=Date.now(),i=o.createElement("IFRAME");i.src=n,i.style.position="absolute",i.style.left="-2000px",i.style.top="-1000px",i.style.width="1px",i.style.height="1px",i.style.webkitTransition="all 0.9s",i.style.transition="all 0.9s",o.body.appendChild(i);var d=function(){o.body.removeChild(i),e(Date.now()-t<1500?!0:!1)};i.addEventListener("webkitTransitionEnd",d,!1),i.addEventListener("transitionEnd",d,!1),setTimeout(function(){i.style.left="-1000px"},20)}function a(n,o){location.href=n,d&&clearTimeout(d),d=setTimeout(function(){o(!0)},3e3)}var s=n("common:bdbox/utils/detect")(),c=n("common:bdbox/utils/version_compare"),u=n("common:bdbox/utils/ready"),d=null;t.exports=i}),r("common:bdbox/monitor",function(o,e,t,r){var i=encodeURIComponent,a=function(n,o){n+=n.indexOf("?")<0?"?":"&",this.url=n,this.options=o};a.prototype.report=function(o){o=o||"";var e=new Image(1,1),t=[];if(r.isObject(o)){for(var a in o)t.push(a+"="+i(String(o[a])));o=t.join("&")}var s="_box_mt"+r.getId();n[s]=e,e.onload=e.onerror=e.onabort=function(){e.onload=e.onerror=e.onabort=null,n[s]=e=null};var c=this.url+o;return r.isFunction(this.options.customHandler)&&(c=this.options.customHandler(c)),e.src=c+"&_rnd="+Math.floor(2147483648*Math.random()),this},a.prototype.main=function(n,o){return n&&r.isFunction(this[n])&&this[n].apply(this,r.toArray(o||[])),this},t.exports=function(n,o){return new a(n,o)}}),r("common:bdbox/clone",function(n,o,e){var t=Object.prototype.toString,r=function(n,o,e){var t=0;for(var r in n)if(n.hasOwnProperty(r))if(e)o[r]=n[r];else if(o(r,n[r],t++))break},i=function(n){var o;switch(t.call(n)){case"[object Object]":o={},r(n,function(n,e){o[n]=i(e)});break;case"[object Array]":o=[],n.forEach(function(n){o.push(i(n))});break;default:o=n}return o};e.exports=i}),r("common:bdbox/monitor/pblog",function(o,e,t,r){var i=o("common:bdbox/monitor"),a=o("common:bdbox/extend"),s=o("common:bdbox/utils/queryToJson"),c=o("common:bdbox/utils/getVersion"),u=o("common:bdbox/clone"),d=s(location.search),l=navigator.userAgent,m=n.location.protocol;"https:"!=m&&(m="http:");var p=m+"//m.baidu.com/tcbox",f={service:"bdbox",action:"pblog",ctv:2,cen:"uid_ua_ut",data:{appid:"1",dataid:"2",actiontype:"1",actionid:"2",actiondata:{ref:d.ref||"",gmv:d.vmgdb||"",source:d.from||d.ref||"",boxVersion:c(),boxPlatform:l.match(/(iPad|iPhone|iPod)/gim)?"ios":"android"}}},v=encodeURIComponent;d.uid&&d.osname&&["osname","ua","ut","from","cfrom","uid","pkgname"].forEach(function(n){d[n]&&(f[n]=d[n])});var h,b=i(p,{customHandler:function(n){var o=[];if(h)for(var e in h)if(h.hasOwnProperty(e)){var t=h[e];r.isPlainObject(t)&&(t=JSON.stringify(t)),o.push(e+"="+v(t))}return o.length&&(n+=o.join("&")),n}});b.init=function(n,o){r.isPlainObject(o)&&(f=a(f,o)),f.data.cateid=n},b.pv=function(n,o){h=u(f);var e=h.data;e.actionid="1";var t={};return t.url=n||location.href,o&&(t.u=o),e.actiondata=a(e.actiondata,t),b.report()},b.event=function(n,o,e){if(!n)throw"monitor.tc.event need a evtName";if(r.isPlainObject(o)&&!e){var t={evtName:n};for(var i in o)t[i]=o[i]}else var t={evtName:n,evtType:o||"",evtTag:e||""};h=u(f);var s=h.data;return s.actionid="2",s.actiondata=a(s.actiondata,t),b.report()},t.exports=function(){b.main.apply(b,arguments)}}),r("common:bdbox/moplus",function(n,o,e,t){var r=(n("common:bdbox/utils/jsonToQuery"),n("common:bdbox/io/loadJS"),n("common:bdbox/utils/version_compare"),n("common:bdbox/monitor/pblog")),i=n("common:bdbox/schema"),a="com.baidu.searchbox",s="http://127.0.0.1:6259/",c="http://127.0.0.1:40310/",u="inapp_boxserver",d="https:"===location.protocol,l={isSendPv:!1,isHit:!1,parseUA:function(){var n,o,e=navigator.userAgent,t={uc:/UCBrowser\/(\S*) \S*/g,bd:/baidubrowser\/(\S*) \(Baidu/g,qq:/MQQBrowser\/(\S*) Mobile/g,chr:/Chrome\/(\S*) Mobile/g,qh:/360 Aphone Browser \((\S*)\)/g,sg:/SogouMobileBrowser\/(\S*)/g,mi:/MiuiBrowser\/(\S*)/g};for(var r in t){var i=t[r].exec(e);if(i){n=r,o=i[1];break}}return n=n?n:"other",o=o?o:"0",{t:n,v:o}},parseHost:function(){return m.curHost===c?1:0},sendEvt:function(n,o,e,t){this.isHit&&this.send(n,o,e,t)},send:function(n,o,e,t){var i=this.parseUA(),a=i.t,s=i.v,c=d?0:1,u=this.parseHost();r("event",[n,{evtType:o||"",brName:a,brVer:s,isHttp:c,isNew:u,source:e||"",intent:t||""}])},init:function(){this.isHit=Date.now()%100===1,r("init",[2])}},m=function(n,o,e){this.version="2.0",this.isHttps=d,this.curHost=e||"",this.newHost=c,this.oldHost=this.isHttps?c:s,this.MCMDF=o||u,this._infoFuncs=[],this._verFuncs=[],this.minVersion=n?n:0,this.pkgName=a,l.init()};m.prototype={constructor:m,setMcmdf:function(n){return this.MCMDF=n,this},setHost:function(){return this},getHost:function(){},api:function(n,o,e){return e({error:233}),this},getInfo:function(n){return n({error:233}),this},getHVersion:function(n){return n({error:233}),this},parseInfo:function(){return!1},schema:function(n,o){if(!n.intent)throw"schema intent is empty";n.mcmdf||(n.mcmdf=this.MCMDF);var e=function(){l.sendEvt("schema","success",n.source,n.intent),t.isFunction(o)&&o({error:0,from:"schema"})},r=function(){l.sendEvt("schema","fail",n.source,n.intent),t.isFunction(o)&&o({error:20,from:"schema"})},s=n.schema||"";if(n.intent&&!n.schema){var c=n.intent;-1==c.indexOf(a)&&(l.sendEvt("defaultPKGName","fail",n.source||"",n.intent),n.minver=n.minver?n.minver:"6.9.1")}s||(s="baiduboxapp://utils?action=sendIntent&params="+encodeURIComponent(JSON.stringify(n))+"&minver="+(n.minver?n.minver:"6.9")),i(s,function(n){n?r():e()})},sendIntent:function(n,o){return o({error:233}),this},request:function(n,o){return o({error:233}),this}},e.exports=function(n,o){return new m(n,o)},e.exports.Moplus=m}),l.version_compare(l.version,"5.3.5")>=0){var h,b={image:"imageUrl",url:"linkUrl",order:"mediaType"},g="";n[g]=l.emptyFn,l.isAndroid?(h=function(n){if(n.id&&l.byId(n.id)){var o=n.eventType||"touchstart";l.byId(n.id).addEventListener(o,function(){e(n)},!0)}var e=function(o){o=s(o||n);var e=o.error,t=o.success;o.iconUrl&&o.imageUrl&&delete o.imageUrl,l.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(o),t||"console.log",e||"console.log"])};return e},p("share",h)):(h=function(n){if(n.id&&l.byId(n.id)){var o=n.eventType||"touchstart";l.byId(n.id).addEventListener(o,function(){e(n)},!0)}var e=function(o){o=s(o||n);var e=o.error,t=o.success;o.iconUrl&&!o.imageUrl&&(o.imageUrl=o.iconUrl),o=JSON.stringify(o),l.ios.invokeApp("callShare",{options:encodeURIComponent(o),errorcallback:e||"console.log",successcallback:t||"console.log"})};return e},p("share",h))}else{var y=[],x=function(){p._socShare&&p._socShare.init?y.forEach(function(n){p._socShare.init(n)}):setTimeout(x,3e3)};l.io.loadJS("//m.baidu.com/static/searchbox/openjs/share.js?v=1.2",x);var S={source:"client_id",id:"dom_id",image:"pic_url",success:"afterRender"},h=function(n){var o={content:"",client_id:"ZVEpDSsmZ0qxa1gmgDAh1Fje",theme:"native",dom_id:"share",animate:!0,pic_url:"",url:encodeURIComponent(location.href)};return l.isObject(n)&&l.each(n,function(n,e){if(e in S&&(e=S[e]),"order"===e&&l.isArray(n)){var t=[];n.forEach(function(n){"email"===n&&(n="mail"),t.push(n)})}o[e]=n}),delete o.success,delete o.error,delete o.afterRender,"all"===o.order?o.order=["qqdenglu","sinaweibo","renren","kaixin","mail","sms"]:l.isString(o.order)&&(o.order=o.order.split(",")),p._socShare&&p._socShare.init?p._socShare.init(o):y.push(o),function(){p._socShare.ui._shareBtnClickHandler()}};p("share",h)}if(r("common:bdbox/distribute",function(n,o,e,t){var r=n("common:bdbox/schema");n("common:bdbox/utils/detect");var i=n("common:bdbox/each"),a=n("common:bdbox/moplus"),s=t.emptyFn,c={qqDownloadUrl:"http://a.app.qq.com/o/simple.jsp?pkgname=com.baidu.searchbox",androidDownloadUrl:"",iosDownloadUrl:"",iosFailCallback:s,androidFailCallback:s,iosSchema:"",androidSchema:"",androidIntent:"",inBoxCallback:s},u=function(n){var o=this;n&&i(c,function(o,e){n[e]=n[e]||o});var e=this.url=n.url;e&&""!==e?(this.androidIntent="intent://"+e.replace(/^http[s]?:\/\//,"")+"#Intent;scheme=http;action=com.baidu.searchbox.action.VIEW;category=android.intent.category.DEFAULT;end",this.iosSchema="baiduboxapp://easybrowse?openurl="+encodeURIComponent(e)+"&opentype=0&isla=0&append=0&minver=5.3.0.0"):["androidIntent","iosSchema","androidSchema"].forEach(function(e){o[e]=n[e]}),this.options=n,this.fail=function(){if(console.log(t.os.name+" fail"),t.isFunction(n[t.os.name+"FailCallback"])){var o=n[t.os.name+"FailCallback"]();if(t.isBoolean(o)&&!o)return}var e=n[t.os.name+"DownloadUrl"];e&&""!==e&&(location.href=n[t.os.name+"DownloadUrl"])},this.success=function(){return console.log(t.os.name+" success"),t.isFunction(n[t.os.name+"SuccessCallback"])?n[t.os.name+"SuccessCallback"]():void 0}};u.prototype.wechat=function(){var n=this.options;if(t.isFunction(n.wechatCallback)){var o=n.wechatCallback();if(t.isBoolean(o)&&!o)return}n.qqDownloadUrl&&""!==n.qqDownloadUrl&&(location.href=n.qqDownloadUrl)},u.prototype.run=function(){var n=this,o=(n.url,n.options);return t.os.isWechat?n.wechat():t.isBox&&t.isFunction(o.inBoxCallback)?o.inBoxCallback():void this.invoke()},u.prototype.invoke=function(){var n=this;if(t.os.android){var o=a();o.getHVersion(function(e){e?o.sendIntent(n.androidIntent,function(o){0==o.error?n.success():n.fail()},1e3):n.androidSchema?r(n.androidSchema,function(o){o?n.fail():n.success()}):n.fail()})}else r(n.iosSchema,function(o){o?n.fail():n.success()})},e.exports=function(n){return new u(n)}}),each(l,function(n,o){p[o]=n}),n.Box&&n.Box.$)for(var _ in p)n.Box[_]=n.Box[_]||p[_];else n.Box=p}(window,document)});
;/*!static/fusion-worker/dist/b-share/b-share.js*/
define("fusion-worker/dist/b-share/b-share",["require","fusion-worker/dist/deps/fusion.best","fusion-worker/dist/deps/detect","fusion-worker/dist/b-popup/b-popup","fusion-worker/dist/deps/aio"],function(e){function t(e,n){var o="";o="/sf"===window.location.pathname?t.getSfDom(e):t.getSigamDom(e),t.createRequest(o,e,n)}{var n=e("fusion-worker/dist/deps/fusion.best"),o=e("fusion-worker/dist/deps/detect");e("fusion-worker/dist/b-popup/b-popup")}e("fusion-worker/dist/deps/aio");var i=$('<style data-for="fusion/b-share"></style>');i.text(".b-share-popup-wrapper{z-index:900}.b-share-popup-mask{display:none;position:fixed;left:0;top:0;opacity:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:901}.b-share-popup-modal{display:none;position:fixed;left:0;width:100%;background-color:#f1f1f1;z-index:902;margin:0;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.b-share-popup-head{display:none;font-size:18px;margin:10px 26px}.b-share-popup-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.b-share-popup-remove{line-height:17px;position:absolute;right:8px;top:10px}.b-share-popup-content{text-align:center;margin:0 auto;padding-top:20px;}"),$("head").append(i);var a,r=function(e,t){var n=this;n.options=$.extend({title:"",content:"",fullView:!1,duration:400,customClassName:"",onOpen:function(){},onClose:function(){}},t),n._init(e)};r.prototype={constructor:r,version:"0.0.1",_init:function(e){var t=this;t._preparePopupWrapper(e),t._stopScroll(),t.popup()},_preparePopupWrapper:function(e){var t=this;$(".b-share-popup-wrapper").detach(),t.$popupFrame=$('<div class="b-share-popup-wrapper"></div>'),e.append(t.$popupFrame)},_stopScroll:function(){var e=this;e.$popupFrame.on("touchmove",function(e){e.preventDefault()})},_bindEvent:function(){var e=this;window.page&&page.on&&page.on("destroy",function(){t.clearData()}),e.$popupFrame.on("click",".b-share-popup-mask,.b-share-popup-remove",function(){e.closePopup()})},_randerContent:function(){var e=this;if(e.$popupMask=$('<div class="b-share-popup-mask"></div>'),e.$popupModal=$('<div class="b-share-popup-modal"></div>'),e.$popupContent=$('<div class="b-share-popup-content"></div>'),e.$popupHead=$('<div class="b-share-popup-head"></div>'),e.options.title){var t=$('<div class="b-share-popup-title"></div>');t.append(e.options.title),e.$popupHead.append(t)}var n=$('<div class="b-share-popup-remove c-icon">&#xe61a</div>');e.$popupHead.append(n),e.$popupContent.append(e.options.content),e.$popupModal.append(e.$popupHead).append(e.$popupContent).addClass(e.options.customClassName),e.$popupFrame.append(e.$popupModal).append(e.$popupMask)},popup:function(){var e=this,t=$(window).height();e._randerContent(),e._bindEvent(),e.$popupMask.height(t).show().animate({opacity:1},"fast","ease"),e.$popupModal.css("top",t).show();var n=e.$popupModal.height();(e.options.fullView||n>t)&&e.$popupModal.height(t),e.$popupModal.animate({"-webkit-transform":"translate3d(0, -100%, 0)",transform:"translate3d(0, -100%, 0)"},e.options.duration,"ease",function(){e.options.onOpen()})},closePopup:function(){var e=this;e.$popupModal.animate({"-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"},e.options.duration,"ease",function(){$(this).hide(),e.options.onClose(),e._destroy()}),e.$popupMask.animate({opacity:0},"fast","ease",function(){$(this).hide()}),t.clearData()},_destroy:function(){var e=this;e.$popupFrame.off("click",".b-share-popup-mask,.b-share-popup-remove"),e.$popupFrame.empty()}};var s=o.os,p=o.browser,c="zbios"!==p.n||"ios"===o.os.n&&navigator.userAgent.indexOf("baiduboxapp/0_01.0.4.8")>-1?0:1,l="uc"!==p.n||"undefined"==typeof ucweb&&"undefined"==typeof ucbrowser?0:1,u="qq"===p.n&&p.v&&p.v>"5.4"?1:0,d="wechat"===p.n?1:0,h=Box&&Box.version&&parseFloat(Box.version),f=$.Deferred();if(u){var b=document.createElement("script");b.type="text/javascript",b.onload=b.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||f.resolve()},b.src="//jsapi.qq.com/get?api=app.share",$("head").append(b)}var m,g=function(e,t){t&&(e.url=encodeURIComponent(e.url),e.linkUrl=encodeURIComponent(e.url)),Box.os.android?Box.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(e),window.successFnName||"console.log",window.errorFnName||"console.log"]):Box.ios.invokeApp("callShare",{options:encodeURIComponent(JSON.stringify(e)),errorcallback:"onFail",successcallback:"onSuccess"})},v=function(e,t){{var n={sinaweibo:["kSinaWeibo","SinaWeibo",11,""],wxfriend:["kWeixin","WechatFriends",1,""],pyq:["kWeixinFriend","WechatTimeline","8",""],qqfriend:["kQQ","QQ","4","QQ"],qzone:["kQZone","QZone","3","QQ"]},o=t.url,i=t.title,a="";t.content}e=""===e?"":"ios"===s.n?n[e][0]:n[e][1],"undefined"!=typeof ucweb?ucweb.startRequest("shell.page_share",[i,i,o,e,"","@"+a,""]):"undefined"!=typeof ucbrowser&&ucbrowser.web_share(i,i,o,e,"","@"+a,"")},y=function(e,t){var n={sinaweibo:["kSinaWeibo","SinaWeibo",11,""],wxfriend:["kWeixin","WechatFriends",1,""],pyq:["kWeixinFriend","WechatTimeline","8",""],qqfriend:["kQQ","QQ","4","QQ"],qzone:["kQZone","QZone","3","QQ"]};e=""===e?"":n[e][2];var o={url:t.url,title:t.title,description:t.content,img_url:"",img_title:"",to_app:e,cus_txt:""};o=""===e?"":o,$.when(f).done(function(){"undefined"!=typeof browser&&"undefined"!=typeof browser.app&&browser.app.share(o)})},w=function(){$(".b-share-wechat-tips").length?$(".b-share-wechat-tips").show():($("body").append($('<div class="b-share-wechat-tips"></div>')),$(".b-share-wechat-tips").on("click",function(){$(this).hide(),clearTimeout(m)})),m=setTimeout(function(){$(".b-share-wechat-tips").hide(),clearTimeout(m)},2e3)},x=function(e){var t=$.Deferred(),n="http://mysearch.pae.baidu.com/api/s";return"https:"===window.location.protocol&&(n="https://sp0.baidu.com/5LMDcjW6BwF3otqbppnN2DJv/mysearch.pae.baidu.com/api/s"),$.ajax({url:n,type:"GET",timeout:1e3,dataType:"jsonp",jsonp:"cb",data:{params:JSON.stringify([e])}}).done(function(n){t.resolve(n&&"0"===n.status&&n[e]?n[e]:e)}).fail(function(){t.resolve(e)}),t.promise()},k=function(e){var t=this;$.when(x(e)).then(function(e){var n="b-share-copytip-cancel-btn-"+Date.now(),o="b-share-copytip-link-"+Date.now(),i=['<div class="b-share-copytip-content">','<div class="b-share-copytip-text"></div>','<div class="b-share-copytip-linkwr"><a class="b-share-copytip-link '+o+'" href="'+e+'" target="_blank">'+e+"</a></div>","</div>",'<div class="b-share-copytip-cancel-btn '+n+'"></div>'].join(""),a=new r($("body"),{content:i,fullView:!1,onClose:function(){t.trigger("close")}});$("."+n).on("click",function(){a.closePopup()}),$("."+o).on("click",function(){return!1})})},q={key:"pyq",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/pyq_2.png",title:"",cb:function(){var e;return e=c?function(e){e.mediaType="weixin_timeline",g(e,!1)}:l?function(e){v("pyq",e)}:u?function(e){y("pyq",e)}:d?function(){w()}:function(e){k.call(this,e.url)}}()},_={key:"wxfriend",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/wxfriend_2.png",title:"",cb:function(){var e;return e=c?function(e){e.mediaType="weixin_friend",g(e,!1)}:l?function(e){v("wxfriend",e)}:u?function(e){y("wxfriend",e)}:d?function(){w()}:function(e){k.call(this,e.url)}}()},S={key:"qqfriend",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/qqfriend_2.png",title:"QQ",cb:function(){var e;return e=c?function(e){e.mediaType="qqfriend",g(e,!1)}:l?function(e){v("qqfriend",e)}:u?function(e){y("qqfriend",e)}:function(e){k.call(this,e.url)}}()},C={key:"qzone",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/qzone_2.png",title:"QQ",cb:function(){var e;return e=c?function(e){e.mediaType="qqdenglu",g(e,!1)}:l&&"ios"===s.n?function(e){v("qzone",e)}:u?function(e){y("qzone",e)}:function(e){var t="url="+encodeURIComponent(e.url)+"&imageUrl="+encodeURIComponent(e.iconurl)+"&summary="+e.content+"&title="+e.title;window.open("http://qzs.qzone.qq.com/open/connect/widget/mobile/qzshare/index.html?"+t)}}()},M={key:"sinaweibo",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/sinaweibo_2.png",title:"",cb:function(){var e;return e=c?function(e){e.mediaType="sinaweibo",g(e,!1)}:l?function(e){v("sinaweibo",e)}:u?function(e){y("sinaweibo",e)}:function(e){window.open("http://v.t.sina.com.cn/share/share.php?url="+encodeURIComponent(e.url)+"&title="+encodeURIComponent(e.title))}}()},z={key:"more",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/more_2.png",title:"",cb:function(){var e;return c?e=function(e){e.mediaType="all",g(e,!1)}:l?e=function(e){v("",e)}:u&&(e=function(e){y("",e)}),e}()},D=n("b-share-worker",{css:"/*  */.b-share-list {  overflow: hidden;}.b-share-list .c-flexbox:not(:first-of-type) {  margin-top: 12px;}.b-share-list .b-share-btn {  width: 50px;  -webkit-box-flex: 1;  -webkit-flex: 1 1 auto;  color: #666;  text-align: center;  font-size: 13px;  line-height: 1;}.b-share-list .b-share-btn .c-img {  max-width: 50px;  margin: 0 auto;  background: #fff;  border: 1px solid #f0f0f0;  border-radius: 50%;}/* ,popup */.b-share-cancel-btn,.b-share-copytip-cancel-btn {  width: 100%;  margin-top: 20px;  color: #333;  font-size: 16px;  line-height: 48px;  background: #f8f8f8;  border-top: #eaeaea 1px solid;}/* tips */.b-share-wechat-tips {  position: fixed;  top: 0;  left: 0;  z-index: 999;  width: 100%;  height: 100%;  background: rgba(0, 0, 0, 0.6) url(//m.baidu.com/se/static/pmd/pmd/share/images/wxtips.png) right 32px top 10px no-repeat;  background-size: 50%;}.b-share-list .b-share-btn {  width: 60px;  font-size: 11px;}.b-share-list .b-share-btn .c-img {  max-width: 60px;}.b-share-list .c-flexbox:not(:first-of-type) {  margin-top: 28px;}/*  */.b-share-copytip-content {  padding: 0 20px;  color: #333;  text-align: left;}.b-share-copytip-text {  font-size: 16px;  margin-bottom: 10px;}.b-share-copytip-linkwr {  padding: 7px 10px;  font-size: 14px;  line-height: 21px;  border: 1px dotted #d9d9d9;  word-break: break-all;}.b-share-copytip-link:visited,.b-share-copytip-link {  color: #333;}/**/.b-share-screenshot-wrapper {  display: none;}/*tip*/.b-share-toastbox {  z-index: 950;  width: 1.4rem;  height: .50rem;  font-size: .18rem;  color: #ffffff;  border: 1px solid #000;  border-radius: .04rem;  padding: 0;  line-height: .50rem;  text-align: center;  background-color: #000000;  opacity: .8;  filter: alpha(opacity=80);  position: absolute;  left: 0;  right: 0;  top: -0.56rem;  margin: 0 auto;  display: none;}",tpl:"",props:{usePopup:{type:Boolean,value:!1},url:{type:String,value:function(){return window.location.href},onChange:function(){this._updateShareData()}},title:{type:String,value:"",onChange:function(){this._updateShareData()}},content:{type:String,value:"",onChange:function(){this._updateShareData()}},iconurl:{type:String,value:"https://m.baidu.com/se/static/pmd/pmd/share/images/bdu.jpg",onChange:function(){this._updateShareData()}},color:{type:String,value:"#666"},channel:{type:Array,value:["wxfriend","pyq","qqfriend","qzone","sinaweibo","more"]},loginfo:{type:Object,value:{}},custom:{type:Array,value:[]},type:{type:String,value:"url",onChange:function(){this._updateShareData()}},screenshot:{type:String,value:"",onChange:function(){this._updateShareData()}},imageurl:{type:String,value:"",onChange:function(){this._updateShareData()}}},title:null,url:null,linkUrl:null,content:null,iconurl:null,custom:null,list:null,listHTML:null,loginfo:null,sharePopup:null,type:null,screenshot:null,imageurl:null,init:function(){var e=this,t=$(this.element),n=this.getProp();this._updateShareData();var o={"#333":"c-color","#999":"c-color-gray","#666":""},i=o[n.color],a={wxfriend:_,pyq:q,qzone:C,sinaweibo:M,qqfriend:S};this.custom=n.custom;var r=[];for(var p in a)a.hasOwnProperty(p)&&-1!==$.inArray(p,n.channel)&&r.push(a[p]);(c||l||u&&"ios"===s.n)&&$.inArray("more",this.getProp("channel"))>-1&&r.push(z),r=r.concat(n.custom),this.list=r;var d="";if("array"===$.type(r)&&r.length>0){d+='<div class="b-share-list">';for(var h=r.length,f=Math.ceil(h/4),b=0;f>b;b++){d+='<div class="c-flexbox">';for(var m=0;4>m;m++){var g=4*b+m,v=r[g];(v||h>4)&&(d+='<div class="b-share-btn">'),v&&(d+='<img class="c-img" src="'+v.icon+'" />',d+='<div class="c-gap-top c-line-clamp1 '+i+'">'+v.title+"</div>"),(v||h>4)&&(d+="</div>")}d+="</div>"}d+="</div>"}this.listHTML=d,n.usePopup||t.append(d),e._bindEvent()},_updateShareData:function(){var e=this.getProp();this.title=e.title,this.loginfo=e.loginfo,this.iconurl=e.iconurl,this.usePopup=e.usePopup,this.type=e.type,"screenShot"===e.type&&e.screenshot&&(this.screenshot=JSON.parse(e.screenshot)),"image"===e.type&&e.imageurl&&(this.imageurl=e.imageurl);var t="image"===e.type||"screenShot"===e.type,n=c&&"ios"===o.os.n&&h>=9,i=c&&"android"===o.os.n&&h>=9.1;!t||n||i||(this.type="url"),e.content||(e.content=e.title),this.content=e.content,/^\/\/.+/.test(e.url)&&(e.url="http:"+e.url),this.linkUrl=this.url=e.url},_getShareData:function(){var e={url:this.url,linkUrl:this.linkUrl,title:this.title,content:this.content,iconurl:this.iconurl};return"image"===this.type&&(e.type=c&&"ios"===o.os.n?"image":3,e.imageUrl=this.imageurl),e},_bindEvent:function(){var e=this,n=$(this.element);n.on("click",".b-share-btn",function(){var i=e._getShareData(),a=n.find(".b-share-btn").index($(this));if(e.list[a]){var r=e.list[a];if("screenShot"===e.type){var s=e.screenshot,p="&sa=oa_si&resourceid="+s.resourceId;if(s.linkUrl=i.url+p,i.content="",i.type=c&&"ios"===o.os.n?"image":3,""!==t.imageUrl)i.imageUrl=t.imageUrl,r.cb&&r.cb(i),e._sendLog(r.key),e.trigger("shareClick",{key:r.key,index:a});else{if(t.btnLock)return;t.btnLock=!0,t(s,function(n){t.btnLock=!1,i.imageUrl=n,$.when(x(s.linkUrl)).then(function(t){shareTitle===i.title&&(i.title+=" "+t),r.cb&&r.cb(i),e._sendLog(r.key),e.trigger("shareClick",{key:r.key,index:a}),r=null})})}}else r.cb&&r.cb.call(e,i),e._sendLog(r.key),e.trigger("shareClick",{key:r.key,index:a})}}),n.on("click",".b-share-cancel-btn",function(){e.close()})},_sendLog:function(e){var t=this,n={pyq:{ct:40,cst:2},wxfriend:{ct:40,cst:1},qqfriend:{ct:40,cst:5},qzone:{ct:40,cst:3},sinaweibo:{ct:40,cst:4},more:{ct:40,cst:9},close:{ct:40,cst:0}};if(e&&n[e]&&"object"==typeof page&&page.log&&page.log.send){var o=n[e];o=$.extend(o,t.loginfo),page.log.send(o)}},popup:function(e){if(this.usePopup){a=e;var t=this,n=$(this.element);this.sharePopup=new r(n,{content:this.listHTML+'<div class="b-share-cancel-btn"></div>',fullView:!1,onClose:function(){t.trigger("close")}})}},close:function(){this.usePopup&&this.sharePopup&&this.sharePopup.closePopup()},qqShare:y});return t.imageUrl="",t.btnLock=!1,t.getSigamDom=function(e){var t="";$("style").not(function(){var e=$(this).parents('div[id="results"]');return 0!==e.length}).each(function(){t+=$(this).get(0).outerHTML});var n=$(".c-result[tpl="+e.screenshotCard+"]"),o=n.find(".c-recomm-wrap");o.length>0&&o.remove();var i=e.shareBotton,a=i?n.find("."+i):[];a.length>0&&a.remove();var r=(t+n.get(0).outerHTML).replace(/'/g,"27%");return $(".b-share-popup-wrapper").length>0&&(r=r.replace($(".b-share-popup-wrapper").get(0).outerHTML,"")),r},t.getSfDom=function(e){var t=document.createElement("div"),n=$(a).closest(".sfa-view"),o=n.get(0).outerHTML;t.innerHTML=o,t.style.minHeight=0;var i=t.querySelector(".sfa-head"),r=t.querySelector(".sfa-body"),s=t.querySelector(".sfa-top-results"),p=s&&s.querySelector("div[data-tpl ='top_nav']"),c=t.querySelector("b-share");if(i){i.style.position="relative";var l=i.querySelector(".sfa-back"),u=i.querySelector(".sfa-tool");l&&i.removeChild(l),u&&i.removeChild(u)}if(r&&(r.style.paddingTop="0"),p&&(p.style.position="relative",p.style.top="0"),e.templateLen){var d=Number(e.templateLen)-1,h=$(t).find(".c-result");h.map(function(e,t){e>d&&$(t).remove()})}$(c).remove();var f="";$("head").find("style").each(function(){f+=$(this).get(0).outerHTML});var b="<style>body{background:#333237 !important;}</style>";return f+t.innerHTML+b},t.createRequest=function(e,n,o){"noseacherbar"===n.templateMode?(n.templateMode="qingjingye",n.searchBar=1):n.searchBar=0;var i={word:n.word,template_mode:n.templateMode,render_dom:e,resource_id:n.resourceId,target_url:n.linkUrl,expression:n.expression,no_search_bar:n.searchBar};$.ajax({url:"https://sp2.baidu.com/-bkZdDe71MgUo2bgoI7O1ygwehsv/goshare/pageshot/official",type:"post",data:i,timeout:6e3,beforeSend:function(){t.insert(),t.tip("loadding")},success:function(e){t.tip("ok");var n=JSON.parse(e);t.imageUrl=n.data.url,o(n.data.url)},error:function(){t.btnLock=!1,t.tip("error",3)}})},t.tip=function(e,t){if("loadding"===e)$(".b-share-loading-toast").show();else if("ok"===e)$(".b-share-loading-toast").hide();else{$(".b-share-loading-toast").hide(),$(".b-share-fail-toast").show();{var n=1e3*Number(t);setTimeout(function(){$(".b-share-fail-toast").hide()},n)}}},t.insert=function(){if(1!==$(".b-share-screenshot-wrapper").length){var e=$(".b-share-popup-modal"),t='<div class="b-share-loading-toast b-share-toastbox"></div><div class="b-share-fail-toast b-share-toastbox"></div>';e.append(t)}},t.clearData=function(){$(".b-share-loading-toast").remove(),$(".b-share-fail-toast").remove(),t.imageUrl=""},D});
;/*!static/fusion-worker/dist/deps/cookie.js*/
define("fusion-worker/dist/deps/cookie",["require"],function(){return{cookie:function(e,n,o){var t,i,r,c;return 0==arguments.length?document.cookie:arguments.length>1&&"[object Object]"!==String(n)?(o=o||{},(null===n||void 0===n)&&(o.expires=-1),"number"==typeof o.expires&&(t=o.expires,i=o.expires=new Date,i.setTime(i.getTime()+t)),n=String(n),document.cookie=[encodeURIComponent(e),"=",o.raw?n:encodeURIComponent(n),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")):(o=n||{},c=o.raw?function(e){return e}:decodeURIComponent,(r=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?c(r[1]):null)}}});
;/*!static/fusion-worker/dist/deps/geolocation.js*/
define("fusion-worker/dist/deps/geolocation",["require"],function(){function t(t,o,e){navigator.geolocation||i(o,{error:2});var n=null,r=!1;navigator.geolocation.getCurrentPosition(function(o){clearTimeout(n),i(t,o.coords)},function(t){r||(r=!0,clearTimeout(n),t.code===t.PERMISSION_DENIED?i(o,{error:4}):i(o,{error:2}))},{timeout:e,maximumAge:0,enableHighAccuracy:!0}),n=setTimeout(function(){r||(r=!0,clearTimeout(n),i(o,{error:2}))},e)}function o(t,o,e,r){window.page&&page.log&&page.log.send&&page.log.send({ct:11,cst:1,clk_from:"sgeo"});var c=0,s=2,d=function(t,o,e,r){a({url:u,data:{ptype:1,xyr:t.longitude+"_"+t.latitude+"_"+t.accuracy,addr:"city|district|street|city_code"},timeout:r,onSuccess:function(a){if(void 0!==a){var u=a.point,l=a.addr;if(u&&l&&l.city_code){var m=new n(u.x,u.y,t.accuracy,l.city_code,void 0,a.address,a.address,l);return i(o,m.output())}}return s>c?(c++,d(t,o,e,r)):i(e)},onFail:e})};d(t,o,e,r)}function e(t,o,e,r){a({url:s,data:{x:t.longitude,y:t.latitude},timeout:r,onSuccess:function(r){{var a=r&&r.content,c=a&&a.address_detail,u=c&&c.city_code;a&&a.surround_poi}if(a&&c&&u&&0!==u){var s=new n(t.longitude,t.latitude,t.accuracy,u,void 0,a.address,a.address,{city:c.city,district:c.district,street:c.street,cityCode:u});i(o,s.output())}else i(e)},onFail:e})}function i(t,o,e){"function"==typeof t&&t(o,e)}function n(t,o,e,i,n,r,a,c){this.x=parseFloat(t),this.y=parseFloat(o),this.accuracy=parseFloat(e),this.cityCode=parseInt(i,10),this.timestamp=parseInt(n,10)||"",this.name=r||"",this.address=a||"",this.addr=c||void 0}function r(t){for(var o=[].slice.call(arguments,1),e=0;e<o.length;e++)for(var i in o[e])t[i]=o[e][i];return t}function a(t){var o={timeout:8e3,data:{},onSuccess:null,onFail:null};t=r({},o,t);var e="geojsonp"+ ++m;t.data.callback=e;var n=!1,a=setTimeout(function(){delete window[e],n=!0,i(t.onFail)},t.timeout);window[e]=function(o){clearTimeout(a),n||(i(t.onSuccess,o),delete window[e])};var c=t.url+(t.url.indexOf("?")+1?"&":"?"),u=[];for(var s in t.data)u.push(s+"="+encodeURIComponent(t.data[s]));c+=u.join("&");var d=document.createElement("script");d.onerror=function(){clearTimeout(a),i(t.onFail)},d.type="text/javascript",d.src=c,document.getElementsByTagName("head")[0].appendChild(d)}var c,u="http://aladdin.wapmap.baidu.com/plugin",s="http://api.map.baidu.com/?qt=rgc&dis_poi=100&poi_num=10&ie=utf-8&oue=1&res=api",d={autoLoc:{expireTime:0,onlyFromCookie:!1,onlyFromHTML5:!1,onlyFromNative:!1,autoSaveToCookie:!0,html5Timeout:8e3,nativeTimeout:8e3,onSuccess:null,onFail:null},search:{timeout:8e3,onSuccess:null,onFail:null}};-1!==location.protocol.indexOf("https")&&(u="https://sp2.baidu.com/90gHaDqh_cgXo1ufo-zN2TxrfQVwcu8e/plugin",s="https://sp2.baidu.com/9_Q4sjOpB1gCo2Kml5_Y_D3/?qt=rgc&dis_poi=100&poi_num=10&ie=utf-8&oue=1&res=api");var l={getPosition:function(e){e=r({},d.autoLoc,e);var n=e.expireTime;if(n>0||0===n&&e.onlyFromCookie===!0){var a=c.get();if(a&&(parseInt(Date.now(),10)-a.timestamp<=n||0===n))return void i(e.onSuccess,a.output(),{from:"cookie"})}if(e.onlyFromCookie===!0)return void i(e.onFail,{error:1});var u=this,s=/android/i.test(navigator.userAgent);e.onlyFromHTML5||!e.onlyFromNative?t(function(t){o(t,function(t){e.autoSaveToCookie===!0&&(t=u.savePosition(t)),i(e.onSuccess,t,{from:"html5"})},function(){s&&!e.onlyFromHTML5?i(e.onFail,{error:3}):i(e.onFail,{error:3})},e.html5Timeout)},function(t){s&&!e.onlyFromHTML5?i(e.onFail,{error:3}):i(e.onFail,t)},e.html5Timeout):i(e.onFail,{error:3})},searchAddress:function(t,o,e){e=r({},d.search,e,{addr:t||"",city_code:o||0}),window.page&&page.log&&page.log.send&&page.log.send({ct:11,cst:1,clk_from:"sgeo"}),a({url:u,data:{ptype:2,addr:t||"",city_code:o||0},timeout:e.timeout,onSuccess:function(t){var o=[];if(t&&t.content)for(var r=t.current_city.code,a=[].concat(t.content),c=0;c<a.length;c++){var u,s,d=a[c],l=d.geo.split("|")[2].replace(";","").split(",");null!=d.city_type?u=s=d.cname:(u=d.name,s=d.addr);var m=new n(l[0],l[1],200,r,void 0,u,s);o.push(m.output())}i(e.onSuccess,o)},onFail:function(){i(e.onFail,{error:1})}})},savePosition:function(t){return c.set(t)},clearPosition:function(){return c.remove()},mercatorToAddress:function(t){var o={timeout:8e3,onSuccess:null,onFail:null};t=r({},o,t),e({longitude:t.x,latitude:t.y,accuracy:t.accuracy},function(o){o.accuracy=o.accuracy||200,i(t.onSuccess,o)},function(){i(t.onFail,{error:1})},t.timeout)}};n.prototype.getCookieString=function(){return this.x+"_"+this.y+"_"+this.accuracy+"_"+this.cityCode+"_"+this.timestamp},n.prototype.output=function(){return{x:this.x,y:this.y,accuracy:this.accuracy,cityCode:this.cityCode,timestamp:this.timestamp,name:this.name,address:this.address,addr:this.addr||{}}},n.readFromCookie=function(t){var o=t.split("_");return new n(o[0],o[1],o[2],o[3],o[4])},n.readFromObject=function(t){return new n(t.x,t.y,t.accuracy,t.cityCode,t.timestamp,t.name,t.address,t.addr)},c={domain:".baidu.com",path:"/",key:"BAIDULOC",duration:1728e5,get:function(){if(!navigator.cookieEnabled)return!1;var t=document.cookie.match(new RegExp(this.key+"=([^;]+);?"));return t?n.readFromCookie(t[1]):!1},set:function(t){if(!navigator.cookieEnabled)return!1;t=n.readFromObject(t);var o=new Date;return o.setTime(o.getTime()+this.duration),t.timestamp=parseInt(Date.now(),10),document.cookie=this.key+"="+t.getCookieString()+";domain="+this.domain+";path="+this.path+";expires="+o.toGMTString(),t.output()},remove:function(){return navigator.cookieEnabled?(document.cookie=this.key+"=;domain="+this.domain+";path="+this.path+";expires=Thu, 01 Jan 1970 00:00:01 GMT",!0):!1}};var m=0;return l});
;/*!static/fusion-worker/dist/deps/bdetpl.js*/
define("fusion-worker/dist/deps/bdetpl",["require","fusion-worker/dist/deps/etpl"],function(e){var t=e("fusion-worker/dist/deps/etpl");return t.addFilter("linksearch",function(e,t){return e&&window.page&&page.utils&&page.utils.link.getSearchUrl?(t=t||{},page.utils.link.getSearchUrl(e,t)):""}),t.addFilter("linktc",function(e,t){return e&&window.page&&page.utils&&page.utils.link&&page.utils.link.getJumpLinkUrl?(t=t||{},t.nsrc||(t.src=e),page.utils.link.getJumpLinkUrl(t)):""}),t.addFilter("https",function(e){return e&&window.page&&page.https&&page.https.domain&&page.https.domain.get?page.https.domain.get(e):""}),t});
;/*!static/fusion-worker/dist/b-city/b-city.js*/
define("fusion-worker/dist/b-city/b-city",["require","fusion-worker/dist/deps/fusion.best","fusion-worker/dist/deps/naboo","fusion-worker/dist/deps/spark","fusion-worker/dist/deps/cookie","fusion-worker/dist/deps/geolocation","fusion-worker/dist/deps/bdetpl"],function(t){function i(t){t=t||{},this.x=parseFloat(t.x),this.y=parseFloat(t.y),this.accuracy=parseFloat(t.accuracy),this.cityCode=parseInt(t.cityCode,10),this.timestamp=parseInt(t.timestamp,10)||void 0,this.name=t.name||void 0,this.address=t.address||void 0,this.addr=t.addr||void 0}var e=t("fusion-worker/dist/deps/fusion.best"),o=t("fusion-worker/dist/deps/naboo"),r=t("fusion-worker/dist/deps/spark"),n=t("fusion-worker/dist/deps/cookie"),a=t("fusion-worker/dist/deps/geolocation"),c=t("fusion-worker/dist/deps/bdetpl");o.register("moveX",function(t,i,e,o,n){var a={transform:"translate3d("+e+", 0, 0)","-webkit-transform":"translate3d("+e+", 0, 0)"};r.css3(i,a,o,n,0,function(){t()})}),i.prototype.getCookieString=function(){return this.x+"_"+this.y+"_"+this.accuracy+"_"+this.cityCode+"_"+this.timestamp},i.prototype.output=function(){return{x:this.x,y:this.y,accuracy:this.accuracy,cityCode:this.cityCode,timestamp:this.timestamp,name:this.name,address:this.address,addr:this.addr||{}}},i.readFromCookie=function(t){var e=t.split("_");return new i({x:e[0],y:e[1],accuracy:e[2],cityCode:e[3],timestamp:e[4]})},i.readFromObject=function(t){return new i(t)};var s={domain:".baidu.com",path:"/",key:"BAIDULOC",duration:1728e5,get:function(){if(!navigator.cookieEnabled)return!1;var t=n.cookie&&n.cookie().match(new RegExp(this.key+"=([^;]+);?"));return t?i.readFromCookie(t[1]):!1},set:function(t){return navigator.cookieEnabled?(t=i.readFromObject(t),t.timestamp=parseInt(Date.now(),10),n.cookie&&n.cookie(this.key,t.getCookieString(),{domain:this.domain,path:this.path,expires:this.duration}),!0):!1},remove:function(){return navigator.cookieEnabled?void(n.cookie&&n.cookie(this.key,null)):!1}},d=e("b-city-worker",{tpl:'<div class="b-city-wrapper">\n    <div class="b-city-header" <% if: (!!${headcolor})%>style="background-color:${headcolor}"<% /if %>>\n        <div class="b-city-header-normal">\n            ${title}\n            <i class="c-icon b-city-close">&#xe750;</i>\n            <div class="b-city-header-normal-search">\n                <i class="c-icon ">&#xe641;</i>\n            </div>\n        </div>\n        <div class="b-city-header-search">\n            <input type="text" placeholder="" />\n            <div class=" b-city-header-search-left">\n                <i class="c-icon">&#xe641;</i>\n            </div>\n            <div class="b-city-header-search-right">\n                <i class="c-icon">&#xe601;</i>\n                <button></button>\n            </div>\n        </div>\n    </div>\n    <div class="b-city-content">\n        <div class="b-city-part b-city-part-loc">\n            <div class="b-city-part-title"></div>\n            <div class="c-row c-gap-top">\n                <div class="c-span4">\n                    <div class="b-city-btn b-city-btn-loc" data-val="${location.code}">\n                        ${location.name}\n                    </div>\n                </div>\n                <div class="c-span8">\n                    <div class="b-city-reloc">\n                        <i class="c-icon">&#xe61d;</i>\n                        <span></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="b-city-part b-city-part-history">\n            <div class="b-city-part-title"></div>\n            <div class="c-row c-gap-top">\n                <div class="c-span4">\n                </div>\n                <div class="c-span4">\n                </div>\n                <div class="c-span4">\n                </div>\n            </div>\n        </div>\n        <div class="b-city-part b-city-part-hot">\n            <div class="b-city-part-title"></div>\n        <% for: ${hot} as ${line} %>\n            <div class="c-row c-gap-top">\n            <% for: ${line} as ${city} %>\n                <div class="c-span4">\n                <% if: ${city} %>\n                    <div class="b-city-btn" data-val="${city.code}">${city.name}</div>\n                <% /if %>\n                </div>\n            <% /for %>\n            </div>\n        <% /for %>\n        </div>\n        <% for: ${list} as ${l}, ${key} %>\n        <div class="b-city-part b-city-part-letter b-city-part-${key} c-gap-top-large">\n            <div class="b-city-part-title c-gap-bottom-small">${key}</div>\n            <% for: ${l} as ${city} %>\n            <div class="b-city-part-list-item c-line-bottom" data-val="${city.code}">${city.name}</div>\n            <% /for %>\n        </div>\n        <% /for %>\n    </div>\n    <div class="b-city-sidebar">\n        <div class="b-city-link" data-anchor="loc"></div>\n        <div class="b-city-link" data-anchor="hot"></div>\n        <% for: ${list} as ${l}, ${key} %>\n        <div class="b-city-link" data-anchor="${key}">${key}</div>\n        <% /for %>\n    </div>\n    <div class="b-city-letter-top"></div>\n    <div class="b-city-large-char">A</div>\n    <div class="b-city-sug b-city-mask">\n    </div>\n</div>\n',css:".b-city-wrapper {  position: fixed;  left: 0;  top: 0;  display: none;  width: 100%;  height: 100%;  z-index: 900;  background: #fff;  text-align: left;  font-size: .14rem;  box-sizing: border-box;}.b-city-header {  position: absolute;  left: 0;  top: 0;  -webkit-box-sizing: border-box;  box-sizing: border-box;  width: 100%;  height: 0.56rem;  background: #fff;  padding: 0 .17rem;  z-index: 100;}.b-city-header-normal {  position: relative;  height: 0.56rem;  line-height: 0.56rem;  color: #000;  font-size: .18rem;  font-weight: bold;  text-align: center;}.b-city-close {  position: absolute;  color: #333;  font-size: .23rem;  left: 0;  top: 0;}.b-city-close:active {  background-color: rgba(0, 0, 0, 0.05);}.b-city-header-normal-search {  position: absolute;  right: 0;  top: 0;  font-size: .23rem;  line-height: 0.56rem;}.b-city-header-normal-search:active {  background-color: rgba(0, 0, 0, 0.05);}.b-city-header-search {  display: none;  position: relative;  height: 0.34rem;  border: solid 1px #eee;  line-height: 0.34rem;  background: #fff;  border-radius: .17rem;  margin: .11rem 0 .09rem 0;}.b-city-header-search input {  width: 100%;  height: 0.34rem;  padding: 0 1.01rem 0 .38rem;  outline: none;  font-size: .16rem;}.b-city-header-search input::placeholder {  color: #999;  font-size: .14rem;}.b-city-header-search-left {  position: absolute;  left: 0;  top: 0;  height: 0.34rem;}.b-city-header-search-left i {  color: #ccc;  margin: 0 .10rem;  font-size: .18rem;}.b-city-header-search-right {  height: 0.34rem;  position: absolute;  right: 0;  top: 0;  display: flex;  flex-direction: row;}.b-city-header-search-right button {  height: 0.34rem;  width: .34rem;  margin: 0 .17rem;  padding: 0;  font-size: .14rem;  color: #000;  display: block;}.b-city-header-search-right button:active {  background-color: rgba(0, 0, 0, 0.05);}.b-city-header-search-right button:before {  content: '';  height: .14rem;  width: 1px;  background-color: #e0e0e0;  position: absolute;  right: .66rem;  top: 50%;  margin-top: -0.07rem;}.b-city-header-search-right i {  padding: 0 0.09rem;  font-size: .18rem;  color: #e0e0e0;}.b-city-header-search-right i:active {  background-color: rgba(0, 0, 0, 0.05);}.b-city-sug {  display: none;  position: absolute;  left: 0;  top: 0;  width: 100%;  height: 100%;  padding: 44px 16px 0 16px;  -webkit-box-sizing: border-box;  box-sizing: border-box;  z-index: 50;  overflow: scroll;  background: #fff;}.b-city-sug.b-city-mask {  background: rgba(0, 0, 0, 0.3);}.b-city-search-item {  height: 42px;  line-height: 42px;}.b-city-content {  padding: 0.56rem 16px 30px 16px;  width: 100%;  height: 100%;  color: #333;  -webkit-box-sizing: border-box;  box-sizing: border-box;  overflow-x: hidden;  overflow-y: scroll;  -webkit-overflow-scrolling: touch;}.b-city-part {  margin-top: 18px;}.b-city-part-loc,.b-city-part-history,.b-city-part-hot {  padding-right: 29px;}.b-city-part-history {  display: none;}.b-city-btn {  height: 38px;  line-height: 38px;  background: #f8f8f8;  text-align: center;}.b-city-reloc {  display: inline-block;  height: 38px;  line-height: 38px;}@-webkit-keyframes b-city-relocing-rotation {  from {    -webkit-transform: rotate(1deg);  }  to {    -webkit-transform: rotate(360deg);  }}.b-city-reloc i {  display: inline-block;}.b-city-relocing i {  -webkit-animation: b-city-relocing-rotation 1s ease 0s infinite normal;}.b-city-part-list-item {  height: 39px;  line-height: 39px;}.b-city-sidebar {  position: absolute;  right: 7px;  top: 0.58rem;  width: 38px;  color: #666;  text-align: center;  z-index: 50;  -webkit-tap-highlight-color: transparent;}.b-city-link {  font-size: 10px;  line-height: 18px;}.b-city-letter-top {  display: none;  position: absolute;  top: 44px;  left: 0;  width: 100%;  height: 50px;  padding-left: 16px;  line-height: 50px;  background: #fff;  z-index: 40;  -webkit-box-sizing: border-box;  box-sizing: border-box;}.b-city-large-char {  display: none;  position: absolute;  left: 50%;  top: 50%;  width: 78px;  height: 78px;  line-height: 78px;  margin-left: -39px;  margin-top: -39px;  border-radius: 3px;  font-size: 36px;  color: #fff;  text-align: center;  background: rgba(51, 51, 51, 0.4);}",props:{headcolor:{type:String,value:"",onChange:function(){this.render()}},title:{type:String,value:""},path:{type:String,value:"./cityInfo",onChange:function(){this.render()}},location:{type:Object,value:{},onChange:function(){this.render()}}},all:[],loaded:"",locationShowType:"city",preprocess:function(t){var i=t.hot,e=3,o=Math.ceil(i.length/e),r=Array(e*o-i.length);i=i.concat(r);for(var n=[],a=0;o>a;a++)n[a]=i.slice(a*e,(a+1)*e);var c=[];return Object.keys(t.list).forEach(function(i){c=c.concat(t.list[i])}),this.all=c,t.location&&t.location.showType&&(this.locationShowType=t.location.showType),{hot:n,list:t.list,headcolor:t.headcolor||this.getProp("headcolor"),location:t.location||this.getProp("location"),title:t.title||this.getProp("title")}},render:function(){var i=this;if(!i.constructor.styled&&i.css){var e=document.createElement("style");e.setAttribute("data-for","fusion"),e.innerText=i.css,document.querySelector("head").appendChild(e),i.constructor.styled=!0}if(!i.holdChild){var o=i.getProp(),r=o.path;r!==i.loaded&&t([r],function(t){if(i.loaded=r,"function"!=typeof t)throw new Error("module citylist export is not a function");t(function(t){var e=c.compile(i.tpl),o=i.preprocess(t);if($(i.element).append(e(o)),setTimeout(function(){i.bindEvents(),i.fusionCityReady&&i.fusionCityReady()}),!(o.location&&o.location.name&&o.location.code)){var r=s.get();r?a.mercatorToAddress({x:r.x,y:r.y,onSuccess:function(t){if(t&&t.addr&&t.addr.city&&t.addr.city_code){var e=r.addr.city,o=e;"district"===i.locationShowType&&r.addr.district&&(e=r.addr.district,o+=e),i._setLocBtn({name:e,code:r.addr.city_code,key:o})}else i._setLocBtn(i.defaultLoc)},onFail:function(){i._setLocBtn(i.defaultLoc)}}):i._setLocBtn(i.defaultLoc)}})})}},defaultLoc:{name:"",code:131},_setLocBtn:function(t){var i=this.$(".b-city-btn-loc");i.text(t.name),i.data("val",t.code),t.key&&i.data("key",t.key),t.disable?i.addClass("c-color-gray"):i.removeClass("c-color-gray")},init:function(){},bindEvents:function(){var t=this;this.$(".b-city-close").on("click",function(){t.close()}),this.$(".b-city-header-normal-search").on("click",function(){t.$(".b-city-header-normal").hide(),t.$(".b-city-header-search").show(),t.$(".b-city-sug").show(),t.$(".b-city-header-search input").focus()}),this.$(".b-city-header-search button, .b-city-mask").on("click",function(){t.$(".b-city-header-normal").show(),t.$(".b-city-header-search").hide(),t.$(".b-city-sug").hide().addClass("b-city-mask").html(""),t.$(".b-city-header-search input").val("")}),this.$(".b-city-content").on("scroll",function(){for(var i=t.$(".b-city-header").height(),e=t.$(".b-city-letter-top"),o=!1,r=t.$(".b-city-part-letter .b-city-part-title"),n=0,a=r.length;a>n;n++){var c=r.eq(n),s=c.position().top;if(!(i+18>=s)){var d=e.height();d+i>s?e.css("top",s-d):e.css("top",i);break}o=c.text()}o?e.text(o).show():e.hide()}),this.$(".b-city-sidebar").on("touchmove",function(i){var e=i.touches[0].clientY;e-=parseInt($(this).css("top"));var o=$(this).find(".b-city-link"),r=o.eq(0).height(),n=Math.floor(e/r),a=o.eq(n).data("anchor"),c=o.eq(n).text();if(a){var s=t.$(".b-city-header").height(),d=t.$(".b-city-content"),l=t.$(".b-city-part-"+a).position().top;d.scrollTop(d.scrollTop()+l-s),t._showLargeChar(c)}return!1}),this.$(".b-city-sidebar").on("click",".b-city-link",function(){var i=$(this),e=i.data("anchor"),o=i.text();if(e){var r=t.$(".b-city-header").height(),n=t.$(".b-city-content"),a=t.$(".b-city-part-"+e).position().top;n.scrollTop(n.scrollTop()+a-r),t._showLargeChar(o)}return!1}),this.$(".b-city-header-search input").on("input",function(){var i=t.$(".b-city-sug"),e=this;t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){var o=$(e).val();if(""==o)return i.hasClass("b-city-mask")?"":i.addClass("b-city-mask"),void i.html("");var r=t.all.filter(function(t){return t.name.indexOf(o)>-1||t.pinyin.toLowerCase().indexOf(o.toLowerCase())>-1?!0:!1});i.hasClass("b-city-mask")?i.removeClass("b-city-mask"):"",t.renderSearchList(r,o)},300)}),this.$(".b-city-wrapper").on("click",".b-city-btn, .b-city-part-list-item, .b-city-search-item",function(){var i=$(this).data("val");if(""!=i){t.close();var e=$(this).text(),o={name:e,code:i},r=$(this).data("key");r&&(o.key=r);var n=[o];t.history.forEach(function(t){t.code!=o.code&&n.push(t)}),t.history=n,t.history.slice(0,3),t.history.forEach(function(i,e){i&&t.$(".b-city-part-history .c-span4").eq(e).html('<div class="b-city-btn" data-val="'+i.code+'"">'+i.name+"</div>")}),t.$(".b-city-part-history").show();var a=t.$(".b-city-link");"history"!=a.eq(1).data("anchor")&&a.eq(0).after('<div class="b-city-link" data-anchor="history"></div>'),t.trigger("selected",o)}}).on("touchmove",".b-city-sug",function(){t.$(".b-city-header-search input").blur()}),this.$(".b-city-reloc").on("click",function(){if(a&&a.getPosition){$(this).addClass("b-city-relocing"),$(this).find("span").text("...");var i=this;a.getPosition({onSuccess:function(e){if(e.addr&&e.addr.city&&e.addr.city_code){var o=e.addr.city,r=o;"district"===t.locationShowType&&e.addr.district&&(o=e.addr.district,r+=o),t._setLocBtn({name:o,code:e.addr.city_code,key:r})}else t._setLocBtn({name:"",code:"",disable:!0});$(i).removeClass("b-city-relocing"),$(i).find("span").text("")},onFail:function(){$(i).removeClass("b-city-relocing"),$(i).find("span").text(""),t._setLocBtn({name:"",code:"",disable:!0})}})}})},renderSearchList:function(t,i){var e="";t.forEach(function(o,r){e+='<div class="b-city-search-item',r+1<t.length&&(e+=" c-line-bottom"),e+='" data-val='+o.code+">";var n=o.name.replace(i,'<span class="c-color-gray">'+i+"</span>");e+=n,e+="</div>"}),this.$(".b-city-sug").html(e)},timer:null,history:[],_showLargeChar:function(t){this.timer&&clearTimeout(this.timer);var i=this.$(".b-city-large-char");i.text(t).show(),this.timer=setTimeout(function(){i.hide()},1e3)},open:function(){var t=this.$(".b-city-wrapper");t.css({transform:"translate3d(100%, 0, 0)","-webkit-transform":"translate3d(100%, 0, 0)"}).show(),o.moveX(t.get(0),0,200,"ease").start(function(){t.css({transform:"none","-webkit-transform":"none"})})},close:function(){this.$(".b-city-wrapper").hide(),this.trigger("closed")},detached:function(){r.dispose()},attached:function(){var t=this;t.$(".b-city-slotwrap").on("click",function(){t.open()})}});return d});
;/*!static/fusion-worker/dist/b-city/citySelect.js*/
define("fusion-worker/dist/b-city/citySelect",["require","fusion-worker/dist/b-city/b-city"],function(e){var t=function(t){var n=t.selectedCallback,c=t.closedCallback;delete t.selectedCallback,delete t.closedCallback;var o=e("fusion-worker/dist/b-city/b-city"),i=new o,l=i.element;$(l).attr(t),$("body").append(l),i.fusionCityReady=function(){i.open()},$(l).on("selected",function(e,t){"function"==typeof n&&n(t)}).on("closed",function(){$(l).remove(),"function"==typeof c&&c()})};return t});
;/*!static/atomWorkerSandbox/getWindowSize.js*/
define("atomWorkerSandbox/getWindowSize",["require","exports","module"],function(t,e,i){function n(t){return JSON.parse(JSON.stringify(t))}function r(){return n(o)}var o={width:null,height:null};r.__update=function(t){o.width=t.width,o.height=t.height},i.exports=r});
;/*!static/atomWorkerSandbox/EventEmitter.js*/
define("atomWorkerSandbox/EventEmitter",["require","exports","module","easyWorker/util/derive","easyWorker/util/hasOwn"],function(e,t,a){var i=e("easyWorker/util/derive"),r=e("easyWorker/util/hasOwn");a.exports=i(Object,function(){this._listenerMap={}},{emit:function(e,t){var a,i,n;if(r(this._listenerMap,e))for(a=this._listenerMap[e],i=0;i<a.length;i++)n=a[i],n.callback.call(n.context,t)},on:function(e,t,a){var i;r(this._listenerMap,e)||(this._listenerMap[e]=[]),i=this._listenerMap[e],i.push({callback:t,context:arguments.length<3?null:a})},off:function(e,t,a){var i=arguments.length;switch(i){case 0:this._listenerMap={};break;case 1:delete this._listenerMap[e];break;case 2:case 3:default:r(this._listenerMap,e)&&(this._listenerMap[e]=this._listenerMap[e].filter(function(e){return 2===i?e.callback!==t:e.callback!==t||e.context!==a}))}}})});
;/*!static/atomWorkerSandbox/context.js*/
define("atomWorkerSandbox/context",["require","exports","module","atomWorkerSandbox/EventEmitter"],function(e,o,t){var r=e("atomWorkerSandbox/EventEmitter");t.exports=new r});
;/*!static/tiyu/common/util/log.js*/
define("tiyu/common/util/log",["require"],function(){var t,e={action:"https://tiyu.baidu.com/tiyu/common/img/hm.gif?",syncAction:"ubslog?",main:"wa-tiyu-page-container",title:"OP_LOG_TITLE",link:"OP_LOG_LINK",img:"OP_LOG_IMG",btn:"OP_LOG_BTN",input:"OP_LOG_INPUT",others:"OP_LOG_OTHERS",data:{url:location.href,pid:"-",cat:"-",page:"-",fr:"-",pvid:"-",rqid:"-",qid:"-",psid:"-",sid:"-",pn:"-",act:"-",mod:"-",item:"-",p1:"-",xpath:"-",f:"-",txt:"-",q:"-",extra:null,rsv:null}},r=function(t){for(var e,r=1;r<arguments.length;r++)if(e=arguments[r])for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},n=function(){var t=!!document.body.classList;return t?function(t,e){return t.classList.contains(e)}:function(t,e){return!!t.className.match(new RegExp("(?:^|\\s)"+e+"(?:\\s|$)"))}}(),i=function(t,e,r){r=r||document;do{if(n(t,e))return t;if(t===r)return null}while((t=t.parentNode)&&t!==document);return null},a=function(t,e,r,n){t[r]=e.getAttribute("data-"+r)||t[r]||n||"-"},o=function(t,e,r,n,i,a){var o="",u=function(t){return t.getAttribute("data-title")||t.title||t.textContent||(t.innerText||"").replace(/\s+/," ")};if("input"===r)if(/input|textarea/.test(n))o=e.value,e.type&&"password"===e.type.toLowerCase()&&(o="");else if(/select|datalist/.test(n)){if(e.children.length>0){var c=e.selectedIndex||0;o=e.children[c>-1?c:0].innerText}}else o=u(e)||e.value||"";else if("img"===n&&(o=e.title),!o)for(var s=e,l=a;l>0;){if(l--,/^a\d*\b/i.test(i[l])){o=u(s);break}if(s.className&&/\bOP_LOG_[A-Z]+\b/.test(s.className)){o=u(s);break}s=s.parentNode}t.txt=(o||"").trim()},u=function(){var t=[];return function(r,n){null!=r.rsv&&(r.rsv=JSON.stringify(r.rsv)),r.url=r.url||window.location.href;var i=r.redirect_target;delete r.redirect_target;var a;if(n)a=e.syncAction+Object.keys(r).map(function(t){return t+"="+(null==r[t]?"":encodeURIComponent(r[t]))}).join("&"),i?window.open(a,"_blank"):setTimeout(function(){window.location.href=a},0);else{delete r.redirect_url,a=e.action+Object.keys(r).map(function(t){return t+"="+(null==r[t]?"":encodeURIComponent(r[t]))}).join("&");var o=t.push(document.createElement("img"))-1;t[o].onload=t[o].onerror=function(){t[o]=t[o].onload=t[o].onerror=null,delete t[o]},t[o].src=a+"&"+(+new Date).toString(36)}}}(),c=function(t,e,n){var i,u,c=0,s=e,l=[],d=s.getAttribute("data-rsv");d&&(t.rsv=JSON.parse(d));for(var f,g,p,m=0,v=/\bOP_LOG_(TITLE|LINK|IMG|BTN|INPUT|OTHERS)\b/i;s!==n;){if("1"===s.getAttribute("data-nolog")){c=1;break}f=s.getAttribute("data-click"),f&&(t=r(JSON.parse(f),t)),d=s.getAttribute("data-rsv"),d&&(t.rsv=r(JSON.parse(d),t.rsv)),g=s.getAttribute("data-href"),"nohref"!==t.redirect_url&&(t.redirect_url=t.redirect_url||g),p=s.getAttribute("data-target"),t.redirect_target||(t.redirect_target=p),s.href&&(u=s.href,i="link"),"link"===i&&"H3"===s.tagName&&(i="title"),v.test(s.className)&&(i=RegExp.$1.toLowerCase());var b=1;if(s.previousSibling){var h=s.previousSibling;do 1===h.nodeType&&h.tagName===s.tagName&&b++,h=h.previousSibling;while(h)}l[m++]=s.tagName+(b>1?b:""),s=s.parentNode}if(e!==n&&(f=n.getAttribute("data-click"),f&&(t=r(JSON.parse(f),t))),c)return!c;l.reverse();var O=e.tagName.toLowerCase();return!i&&/^a|img|input|button|select|datalist|textarea$/.test(O)&&(i={a:"link"}[O]||"input",u=e.href||e.src||u),(i=e.getAttribute("data-type")||i)?(u&&(t.url=u),a(t,e,"p1"),a(t,e,"act"),a(t,e,"item"),a(t,e,"mod",n.id),o(t,e,i,O,l,m),t.xpath=l.join("-").toLowerCase()+"("+i+")",t):!1},s=function(t,a){var o=a||t.target||t.srcElement,s=e.main,l=n(o,s)?o:i(o,s);if(l&&"1"!==l.getAttribute("data-nolog")&&!$.patten){var d=o.getAttribute("data-click");d&&(d=JSON.parse(d)),d=c(d||{},o,l),d&&(e.data&&(d=r({},e.data,d)),d.redirect_url&&"nohref"!==d.redirect_url?u(d,!0):u(d,!1))}};return t={config:function(t){return r(e.data,t.data),delete t.data,r(e,t),this},getConfig:function(){return e.data},configRsv:function(t){return e.data.rsv=e.data.rsv||{},r(e.data.rsv,t),this},start:function(){return document.addEventListener("click",s,!0),this},stop:function(){return document.removeEventListener("click",s),this},click:function(t){return s(null,t),this},fill:function(t,e){for(var n,i,a=0;n=t[a++];)i=n.getAttribute("data-click"),i&&(e=r(JSON.parse(i),e)),n.setAttribute("data-click",JSON.stringify(e));return this},send:function(t){return u(r({},e.data,t)),this}}});
;/*!static/atom-tools/workerInterface/getOffset.js*/
define("atom-tools/workerInterface/getOffset",["require"],function(){function e(e,t){var f=e.get(t).obj;return{offsetWidth:f.offsetWidth,offsetHeight:f.offsetHeight,offsetLeft:f.offsetLeft,offsetTop:f.offsetTop}}return function(t,f){var o=f.elementIds;if(o instanceof Array)var n=o.map(function(f){return e(t,f)});else n=e(t,f.elementIds);return f.success(n)}});
;/*!static/atom-tools/util/keepFnAlways.js*/
define("atom-tools/util/keepFnAlways",["require"],function(){return function(e){var n=function(){e.apply(this,[].slice.call(arguments)),e.keep=!0};return e.keep=!0,n}});
;/*!static/atom-tools/workerInterface/windowMethods.js*/
define("atom-tools/workerInterface/windowMethods",["require","atom-tools/util/keepFnAlways"],function(e){var t=e("atom-tools/util/keepFnAlways");return function(e){e.callback=t(e.callback),window.addEventListener(e.type,function(){e.callback()},e.useCapture||!1)}});
;/*!static/atom-tools/workerInterface/getLocation.js*/
define("atom-tools/workerInterface/getLocation",["require"],function(){function o(o){var t=window.location;o({hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search})}return{get:o}});
;/*!static/atom-tools/util/Cookie.js*/
define("atom-tools/util/Cookie",["require"],function(){function e(e,n,o){return o=o||{},(null===n||void 0===n)&&(o.expires=-1),"number"==typeof o.expires&&(milliseconds=o.expires,time=o.expires=new Date,time.setTime(time.getTime()+milliseconds)),n=String(n),document.cookie=[encodeURIComponent(e),"=",o.raw?n:encodeURIComponent(n),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}function n(e){return arguments.length?(result=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?result[1]:null:document.cookie}return{set:e,get:n}});
;/*!static/atom-tools/workerInterface/Cookie.js*/
define("atom-tools/workerInterface/Cookie",["require","atom-tools/util/Cookie"],function(o){function t(o,t,e,r){var n=i.set(o,t,e);r(n)}function e(o,t){var e=i.get(o);t(e)}var i=o("atom-tools/util/Cookie");return{set:t,get:e}});
;/*!static/atom-tools/workerInterface/blur.js*/
define("atom-tools/workerInterface/blur",["require"],function(){return function(r,e){var n=r.get(e).obj;n.blur()}});
;/*!static/atom-tools/index.js*/
define("atom-tools/index",["require","easyWorker/util/type","easyWorker/util/extend","atom-tools/workerInterface/getOffset","atom-tools/workerInterface/windowMethods","atom-tools/workerInterface/getLocation","atom-tools/workerInterface/Cookie","atom-tools/workerInterface/blur"],function(o){var e=o("easyWorker/util/type"),t=o("easyWorker/util/extend"),r=o("atom-tools/workerInterface/getOffset"),n=o("atom-tools/workerInterface/windowMethods"),a=o("atom-tools/workerInterface/getLocation"),f=o("atom-tools/workerInterface/Cookie"),i=o("atom-tools/workerInterface/blur");return function(){if(arguments.length<1)throw new Error("workerInterface needs args");var o=arguments[0];return"object"===e(o)&&o._pool?{getOffset:function(e){r(o,e)},windowMethods:n,location:a,Cookie:f,blur:function(e){i(o,e)}}:function(e){return t({getOffset:function(o){r(e,o)},windowMethods:n,location:a,Cookie:f,blur:function(o){i(e,o)}},o)}}});
;/*!static/atomWorker/worker/worker.js*/
define("atomWorker/worker/worker",["require","exports","module","atomWorker/vue.hack.runtime.min","atomWorker/worker/logger","atomWorker/worker/eventMap","atomWorker/worker/vueHack/index"],function(e,r,o){function t(e){a.log("receive message:",e);var r=e.type,o=e.data;switch(r){case"import":importScripts(o.url);break;case"registeredEvent":k.exec(o.id,o.args);break;default:a.warn("unknown message type:",e.type,e)}}var n=e("atomWorker/vue.hack.runtime.min"),a=e("atomWorker/worker/logger"),k=e("atomWorker/worker/eventMap"),i=e("atomWorker/worker/vueHack/index");n.hack(i),o.exports={init:function(e,r){sandbox.onmessage=t,n.prototype.str_pos=function(e,r){return e.indexOf(r)},new n({el:"just-a-non-used-placeholder-for-vue",data:r,render:function(e){return e("App",{props:r})},components:{App:e}})}}});
;/*!static/tiyu/common/util/functions.js*/
define("tiyu/common/util/functions",["require","exports","module"],function(r,e){function t(r){return"\\x"+r.charCodeAt(0).toString(16)}function n(r){var e=!0,n=r.charAt(0),a=r.charCodeAt(0);switch(n){case"\n":return"\\n";case"\r":return"\\r";case"'":return"\\'";case'"':return'\\"';case"&":return"\\&";case"\\":return"\\\\";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"/":return"\\x2F";case"<":return"\\x3C";case">":return"\\x3E";default:e=!1}if(!e){if(a>47&&58>a)return r;if(a>64&&91>a)return r;if(a>96&&123>a)return r;if(95===a)return r;if(a>127){var u=a,o=u%16;u=Math.floor(u/16);var c=u%16;u=Math.floor(u/16);var l=u%16;u=Math.floor(u/16);var i=u%16;return"\\u"+hex[i]+hex[l]+hex[c]+hex[o]}return t(r)}}function a(r){var e=(new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),r),t="",a=0;for(a=0;a<e.length;a++)t+=n(e.charAt(a));return t}function u(r){var e={toT:0,durTime:500,delay:30,callback:null,el:window},t=$.extend(e,r),n=$(t.el),a=n.scrollTop(),u=t.toT-a,o=0,c=Math.round(t.durTime/t.delay),l=function(r){var e=Math.round(u/c),l=function(){return o++,o>=c?(n.scrollTop(r),void(t.callback&&"function"==typeof t.callback&&t.callback())):(n.scrollTop(a+o*e),void requestAnimationFrame(l))};l()};return l(t.toT),n}return e={jsEncode:a,scrollTo:u}});
;/*!static/tiyu/common/js/page.js*/
define("tiyu/common/js/page",["ralltiir","atomWorker/AtomWorker","atom-tools/index"],function(t,n,e){function r(t,n,e){"rtDown"!==n?(t.addEventListener("rt.attached",e),t.ralltiir&&t.ralltiir.attached&&e()):e()}function i(t,n){t.addEventListener("rt.destroyed",n)}function o(t,n){t.addEventListener("rt.detached",n)}function a(t,n){t=t.querySelector(".wa-tiyu-home-container"),t.addEventListener("rt.willUpdate",function e(){t.removeEventListener("rt.willUpdate",e),n()})}function l(t,n,e,l,u,s,d,p){function f(){w.resume(),s&&s();var t=$(".wa-tiyu-page-container").find("#olympicsHomeSchedule"),n=$(".wa-tiyu-page-container").find('[data-flag="scroll"]');if(n.length>0){var e=n.data("top");t.length<1||"none"===t.parents(".c-tabs-content").get(0).style.display||"none"===t.parents(".c-result").get(0).style.display?n.scrollTop(e):t.length>0&&t.scrollTop(e)}}function k(){w=c.apply(null,n),d&&d(),s&&s()}var w;r(t,p,function(){return e(),w?f():k()}),o(t,function(){l(),w.pause()}),i(t,function(){w.terminate()}),a(t,function(){u&&u(w)})}function c(r,i,o,a){var l={console:{log:function(){console.log.apply(console,arguments)},error:function(){console.error.apply(console,arguments)},warn:function(){console.warn.apply(console,arguments)}},_ralltiir:{redirect:function(){return t.action.redirect.apply(t.action,arguments)},reset:function(){return t.action.reset.apply(t.action,arguments)},partialUpdate:function(){var t=r.ralltiir;return t.partialUpdate.apply(t,arguments)},setHead:function(t){function n(t){var n=function(){t.apply(this,[].slice.call(arguments)),t.keep=!0};return t.keep=!0,n}t.title&&t.title.onClick&&(t.title.onClick=n(t.title.onClick)),t.subtitle&&t.subtitle.onClick&&(t.subtitle.onClick=n(t.subtitle.onClick)),t.back&&t.back.onClick&&(t.back.onClick=n(t.back.onClick)),t.actions&&t.actions.forEach(function(t){t.onClick&&(t.onClick=n(t.onClick))});var e=r.ralltiir;return e.setData(t)}}};workerInterfaceObj=e(l);var c=new n(i,o,a,workerInterfaceObj);return"wid"in window||(window.wid=0),c.id=window.wid++,c}var u;return u={createWorker:c,registerWorker:l,onInit:r,onDestroy:i,onceWillUpdate:a,onDetach:o}});
;/*!static/tiyu/common/js/routes.js*/
define("tiyu/common/js/routes",["require","exports","module"],function(e,i,s){s.exports=function(e,i,s){e.action.regist(/\/tc$/,{attach:function(){location.replace(location.href),location.replace(location.href)},detach:function(){},create:function(){},destroy:function(){}}),e.services.register("/",null,i),e.services.register("/news",null,i),e.services.register("/news/:id",null,i),e.services.register("/tiyu/news/news.php",null,i),e.services.register("/matchlist/async",null,i),e.services.register("/tiyu/matchList/matchList.php",null,i),e.services.register("/tiyu/live/live.php",null,i),e.services.register("/video",null,i),e.services.register("/video/:id",null,i),e.services.register("/live",null,i),e.services.register("/live/:id",null,i),e.services.register("/match/:id/team/:id/player/:id",null,i),e.services.register("/match/:id/team/:id/player/:id/tab/:id",null,i),e.services.register("/match/:id/team/:id",null,i),e.services.register("/match/:id/team/:id/tab/:id",null,i),e.services.register("/match/:id",null,i),e.services.register("/match/:id/from/:id",null,i),e.services.register("/match/:id/tab/:id",null,i),e.services.register("/match/:id/tab/:id/from/:id",null,i),e.services.register("/matchlist",null,i),e.services.register("/tiyu/video/video.php",null,i),e.services.register("/tiyu/team/team.php",null,i),e.services.register("/tiyu/match/match.php",null,i),e.services.register("/tiyu/player/player.php",null,i),e.services.register("/tiyu/newsdetail/newsdetail.php",null,i),e.services.register("/tiyu/videodetail/videodetail.php",null,i),e.services.register("/tiyu/livedetail/livedetail.php",null,i),e.services.register("/video/detail/:id/:id/:id",null,i),e.services.register("/video/detail/:id/highlights/",null,i),e.services.register("/news/detail/:id",null,i),e.services.register("/live/detail/:id",null,i),e.services.register("/live/detail/:id/tab/:id",null,i),e.services.register("/live/detail/:id/tab/:id/from/:id",null,i),e.services.register("/live/detail/:id/source/:id",null,i),e.services.register("/live/detail/:id/from/:id",null,i),e.services.register("/tiyu/tvList/tvList.php",null,i),e.services.register("/tvlist",null,i),e.services.register("/tv/:id",null,i),e.services.register("/tiyu/empty/empty.php",null,i),e.services.register("/empty",null,i),e.services.register("/thirdlive",null,i),e.services.register("/category",null,i),e.services.register("/detail",null,i),e.services.register("/videodetail",null,i),e.services.register("/cctv",null,i),e.services.register("/thirddetail",null,i),e.services.register("/player",null,i),e.services.register("/tiyu/olympics/pyeongchang/home/home.php",null,i),e.services.register("/olympics/Pyeongchang/home",null,i),e.services.register("/olympics/Pyeongchang/home/:id",null,i),e.services.register("/tiyu/olympics/pyeongchang/match/match.php",null,i),e.services.register("/olympics/Pyeongchang/match",null,i),e.services.register("/olympics/Pyeongchang/match/:id",null,i),e.services.register("/olympics/Pyeongchang/match/:id/:id",null,i),e.services.register("/olympics/Pyeongchang/player",null,i),e.services.register("/olympics/Pyeongchang/player/:id",null,i),e.services.register("/olympics/Pyeongchang/player/:id/:id",null,i),e.services.register("/olympics/Pyeongchang/videodetail/:id",null,i),e.services.register("/olympics/Pyeongchang/livedetail/:id",null,i),e.services.register("/olympics/Pyeongchang/livedetail/:id/tab/:id",null,i),e.services.register("/olympics/Pyeongchang/livedetail/:id/source/:id",null,i),e.services.register("/sf_tiyu/live",null,i),e.services.register("/sf_tiyu/live/:id",null,i),e.services.register("/sf_tiyu/news",null,i),e.services.register("/sf_tiyu/news/:id",null,i),e.services.register("/sf_tiyu/video",null,i),e.services.register("/sf_tiyu/video/:id",null,i),e.services.register("/sf_tiyu/matchlist",null,i),e.services.register("/news/detail/:id/from/:id",null,i),e.services.register("/match/:id/team/:id/player/:id/from/:id",null,i),e.services.register("/match/:id/team/:id/player/:id/tab/:id/from/:id",null,i),e.services.register("/match/:id/team/:id/from/:id",null,i),e.services.register("/match/:id/team/:id/tab/:id/from/:id",null,i),e.services.register("/video/detail/:id/:id/:id/from/:id",null,i),e.services.setInstanceLimit(8),"rtDown"!==s&&e.action.start({root:"/"})}});